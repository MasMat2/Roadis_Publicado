"use strict";(self.webpackChunkroadis_app=self.webpackChunkroadis_app||[]).push([[3849],{93416:(O,E,_)=>{_.d(E,{U:()=>d});var i=_(94650),p=_(11481);class d{constructor(r){this.sanitizer=r}ngOnInit(){this.imageSrc=this.sanitizer.bypassSecurityTrustResourceUrl(`data:${this.archivoTipoMime};base64,${this.archivo}`)}cancelar(){this.onCloseCallback&&this.onCloseCallback(!0)}static#t=this.\u0275fac=function(m){return new(m||d)(i.Y36(p.H7))};static#e=this.\u0275cmp=i.Xpm({type:d,selectors:[["app-imagen-visor"]],inputs:{archivo:"archivo",nombreImagen:"nombreImagen",archivoTipoMime:"archivoTipoMime"},decls:12,vars:2,consts:[[1,"container-fluid"],[1,"row"],[1,"col-md-6","offset-md-3"],[1,"modal-content"],[1,"modal-header"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],["alt","Imagen",1,"img-fluid",3,"src"]],template:function(m,b){1&m&&(i.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div"),i._uU(6),i.qZA(),i.TgZ(7,"button",5),i.NdJ("click",function(){return b.cancelar()}),i.TgZ(8,"span",6),i._uU(9,"\xd7"),i.qZA()()(),i.TgZ(10,"div",7),i._UZ(11,"img",8),i.qZA()()()()()),2&m&&(i.xp6(6),i.Oqu(b.nombreImagen),i.xp6(5),i.Q6J("src",b.imageSrc,i.LSH))}})}},5596:(O,E,_)=>{_.d(E,{V:()=>f});var i=_(94650);class p{constructor(){}}class d{constructor(e,t,s,a){if(isNaN(e)||isNaN(t))throw new Error(`Point is invalid: (${e}, ${t})`);this.x=+e,this.y=+t,this.pressure=s||0,this.time=a||Date.now()}distanceTo(e){return Math.sqrt(Math.pow(this.x-e.x,2)+Math.pow(this.y-e.y,2))}equals(e){return this.x===e.x&&this.y===e.y&&this.pressure===e.pressure&&this.time===e.time}velocityFrom(e){return this.time!==e.time?this.distanceTo(e)/(this.time-e.time):0}}class M{static fromPoints(e,t){const s=this.calculateControlPoints(e[0],e[1],e[2]).c2,a=this.calculateControlPoints(e[1],e[2],e[3]).c1;return new M(e[1],s,a,e[2],t.start,t.end)}static calculateControlPoints(e,t,s){const a=e.x-t.x,n=e.y-t.y,o=t.x-s.x,c=t.y-s.y,h_x=(e.x+t.x)/2,h_y=(e.y+t.y)/2,l_x=(t.x+s.x)/2,l_y=(t.y+s.y)/2,u=Math.sqrt(a*a+n*n),g=Math.sqrt(o*o+c*c),y=g/(u+g),k_x=l_x+(h_x-l_x)*y,k_y=l_y+(h_y-l_y)*y,x=t.x-k_x,U=t.y-k_y;return{c1:new d(h_x+x,h_y+U),c2:new d(l_x+x,l_y+U)}}constructor(e,t,s,a,n,o){this.startPoint=e,this.control2=t,this.control1=s,this.endPoint=a,this.startWidth=n,this.endWidth=o}length(){let s,a,t=0;for(let n=0;n<=10;n+=1){const o=n/10,c=this.point(o,this.startPoint.x,this.control1.x,this.control2.x,this.endPoint.x),h=this.point(o,this.startPoint.y,this.control1.y,this.control2.y,this.endPoint.y);if(n>0){const l=c-s,u=h-a;t+=Math.sqrt(l*l+u*u)}s=c,a=h}return t}point(e,t,s,a,n){return t*(1-e)*(1-e)*(1-e)+3*s*(1-e)*(1-e)*e+3*a*(1-e)*e*e+n*e*e*e}}class r{constructor(){try{this._et=new EventTarget}catch{this._et=document}}addEventListener(e,t,s){this._et.addEventListener(e,t,s)}dispatchEvent(e){return this._et.dispatchEvent(e)}removeEventListener(e,t,s){this._et.removeEventListener(e,t,s)}}class b extends r{constructor(e,t={}){super(),this.canvas=e,this._drawingStroke=!1,this._isEmpty=!0,this._lastPoints=[],this._data=[],this._lastVelocity=0,this._lastWidth=0,this._handleMouseDown=s=>{1===s.buttons&&this._strokeBegin(s)},this._handleMouseMove=s=>{this._strokeMoveUpdate(s)},this._handleMouseUp=s=>{1===s.buttons&&this._strokeEnd(s)},this._handleTouchStart=s=>{if(s.cancelable&&s.preventDefault(),1===s.targetTouches.length){const a=s.changedTouches[0];this._strokeBegin(a)}},this._handleTouchMove=s=>{s.cancelable&&s.preventDefault();const a=s.targetTouches[0];this._strokeMoveUpdate(a)},this._handleTouchEnd=s=>{if(s.target===this.canvas){s.cancelable&&s.preventDefault();const n=s.changedTouches[0];this._strokeEnd(n)}},this._handlePointerStart=s=>{s.preventDefault(),this._strokeBegin(s)},this._handlePointerMove=s=>{this._strokeMoveUpdate(s)},this._handlePointerEnd=s=>{this._drawingStroke&&(s.preventDefault(),this._strokeEnd(s))},this.velocityFilterWeight=t.velocityFilterWeight||.7,this.minWidth=t.minWidth||.5,this.maxWidth=t.maxWidth||2.5,this.throttle="throttle"in t?t.throttle:16,this.minDistance="minDistance"in t?t.minDistance:5,this.dotSize=t.dotSize||0,this.penColor=t.penColor||"black",this.backgroundColor=t.backgroundColor||"rgba(0,0,0,0)",this.compositeOperation=t.compositeOperation||"source-over",this._strokeMoveUpdate=this.throttle?function m(v,e=250){let a,n,o,t=0,s=null;const c=()=>{t=Date.now(),s=null,a=v.apply(n,o),s||(n=null,o=[])};return function(...l){const u=Date.now(),g=e-(u-t);return n=this,o=l,g<=0||g>e?(s&&(clearTimeout(s),s=null),t=u,a=v.apply(n,o),s||(n=null,o=[])):s||(s=window.setTimeout(c,g)),a}}(b.prototype._strokeUpdate,this.throttle):b.prototype._strokeUpdate,this._ctx=e.getContext("2d"),this.clear(),this.on()}clear(){const{_ctx:e,canvas:t}=this;e.fillStyle=this.backgroundColor,e.clearRect(0,0,t.width,t.height),e.fillRect(0,0,t.width,t.height),this._data=[],this._reset(this._getPointGroupOptions()),this._isEmpty=!0}fromDataURL(e,t={}){return new Promise((s,a)=>{const n=new Image,o=t.ratio||window.devicePixelRatio||1,c=t.width||this.canvas.width/o,h=t.height||this.canvas.height/o,l=t.xOffset||0,u=t.yOffset||0;this._reset(this._getPointGroupOptions()),n.onload=()=>{this._ctx.drawImage(n,l,u,c,h),s()},n.onerror=g=>{a(g)},n.crossOrigin="anonymous",n.src=e,this._isEmpty=!1})}toDataURL(e="image/png",t){return"image/svg+xml"===e?("object"!=typeof t&&(t=void 0),`data:image/svg+xml;base64,${btoa(this.toSVG(t))}`):("number"!=typeof t&&(t=void 0),this.canvas.toDataURL(e,t))}on(){this.canvas.style.touchAction="none",this.canvas.style.msTouchAction="none",this.canvas.style.userSelect="none";const e=/Macintosh/.test(navigator.userAgent)&&"ontouchstart"in document;window.PointerEvent&&!e?this._handlePointerEvents():(this._handleMouseEvents(),"ontouchstart"in window&&this._handleTouchEvents())}off(){this.canvas.style.touchAction="auto",this.canvas.style.msTouchAction="auto",this.canvas.style.userSelect="auto",this.canvas.removeEventListener("pointerdown",this._handlePointerStart),this.canvas.removeEventListener("pointermove",this._handlePointerMove),this.canvas.ownerDocument.removeEventListener("pointerup",this._handlePointerEnd),this.canvas.removeEventListener("mousedown",this._handleMouseDown),this.canvas.removeEventListener("mousemove",this._handleMouseMove),this.canvas.ownerDocument.removeEventListener("mouseup",this._handleMouseUp),this.canvas.removeEventListener("touchstart",this._handleTouchStart),this.canvas.removeEventListener("touchmove",this._handleTouchMove),this.canvas.removeEventListener("touchend",this._handleTouchEnd)}isEmpty(){return this._isEmpty}fromData(e,{clear:t=!0}={}){t&&this.clear(),this._fromData(e,this._drawCurve.bind(this),this._drawDot.bind(this)),this._data=this._data.concat(e)}toData(){return this._data}_getPointGroupOptions(e){return{penColor:e&&"penColor"in e?e.penColor:this.penColor,dotSize:e&&"dotSize"in e?e.dotSize:this.dotSize,minWidth:e&&"minWidth"in e?e.minWidth:this.minWidth,maxWidth:e&&"maxWidth"in e?e.maxWidth:this.maxWidth,velocityFilterWeight:e&&"velocityFilterWeight"in e?e.velocityFilterWeight:this.velocityFilterWeight,compositeOperation:e&&"compositeOperation"in e?e.compositeOperation:this.compositeOperation}}_strokeBegin(e){if(!this.dispatchEvent(new CustomEvent("beginStroke",{detail:e,cancelable:!0})))return;this._drawingStroke=!0;const s=this._getPointGroupOptions(),a=Object.assign(Object.assign({},s),{points:[]});this._data.push(a),this._reset(s),this._strokeUpdate(e)}_strokeUpdate(e){if(!this._drawingStroke)return;if(0===this._data.length)return void this._strokeBegin(e);this.dispatchEvent(new CustomEvent("beforeUpdateStroke",{detail:e}));const t=e.clientX,s=e.clientY,a=void 0!==e.pressure?e.pressure:void 0!==e.force?e.force:0,n=this._createPoint(t,s,a),o=this._data[this._data.length-1],c=o.points,h=c.length>0&&c[c.length-1],l=!!h&&n.distanceTo(h)<=this.minDistance,u=this._getPointGroupOptions(o);if(!h||!h||!l){const g=this._addPoint(n,u);h?g&&this._drawCurve(g,u):this._drawDot(n,u),c.push({time:n.time,x:n.x,y:n.y,pressure:n.pressure})}this.dispatchEvent(new CustomEvent("afterUpdateStroke",{detail:e}))}_strokeEnd(e){this._drawingStroke&&(this._strokeUpdate(e),this._drawingStroke=!1,this.dispatchEvent(new CustomEvent("endStroke",{detail:e})))}_handlePointerEvents(){this._drawingStroke=!1,this.canvas.addEventListener("pointerdown",this._handlePointerStart),this.canvas.addEventListener("pointermove",this._handlePointerMove),this.canvas.ownerDocument.addEventListener("pointerup",this._handlePointerEnd)}_handleMouseEvents(){this._drawingStroke=!1,this.canvas.addEventListener("mousedown",this._handleMouseDown),this.canvas.addEventListener("mousemove",this._handleMouseMove),this.canvas.ownerDocument.addEventListener("mouseup",this._handleMouseUp)}_handleTouchEvents(){this.canvas.addEventListener("touchstart",this._handleTouchStart),this.canvas.addEventListener("touchmove",this._handleTouchMove),this.canvas.addEventListener("touchend",this._handleTouchEnd)}_reset(e){this._lastPoints=[],this._lastVelocity=0,this._lastWidth=(e.minWidth+e.maxWidth)/2,this._ctx.fillStyle=e.penColor,this._ctx.globalCompositeOperation=e.compositeOperation}_createPoint(e,t,s){const a=this.canvas.getBoundingClientRect();return new d(e-a.left,t-a.top,s,(new Date).getTime())}_addPoint(e,t){const{_lastPoints:s}=this;if(s.push(e),s.length>2){3===s.length&&s.unshift(s[0]);const a=this._calculateCurveWidths(s[1],s[2],t),n=M.fromPoints(s,a);return s.shift(),n}return null}_calculateCurveWidths(e,t,s){const a=s.velocityFilterWeight*t.velocityFrom(e)+(1-s.velocityFilterWeight)*this._lastVelocity,n=this._strokeWidth(a,s),o={end:n,start:this._lastWidth};return this._lastVelocity=a,this._lastWidth=n,o}_strokeWidth(e,t){return Math.max(t.maxWidth/(e+1),t.minWidth)}_drawCurveSegment(e,t,s){const a=this._ctx;a.moveTo(e,t),a.arc(e,t,s,0,2*Math.PI,!1),this._isEmpty=!1}_drawCurve(e,t){const s=this._ctx,a=e.endWidth-e.startWidth,n=2*Math.ceil(e.length());s.beginPath(),s.fillStyle=t.penColor;for(let o=0;o<n;o+=1){const c=o/n,h=c*c,l=h*c,u=1-c,g=u*u,D=g*u;let w=D*e.startPoint.x;w+=3*g*c*e.control1.x,w+=3*u*h*e.control2.x,w+=l*e.endPoint.x;let y=D*e.startPoint.y;y+=3*g*c*e.control1.y,y+=3*u*h*e.control2.y,y+=l*e.endPoint.y;const k=Math.min(e.startWidth+l*a,t.maxWidth);this._drawCurveSegment(w,y,k)}s.closePath(),s.fill()}_drawDot(e,t){const s=this._ctx,a=t.dotSize>0?t.dotSize:(t.minWidth+t.maxWidth)/2;s.beginPath(),this._drawCurveSegment(e.x,e.y,a),s.closePath(),s.fillStyle=t.penColor,s.fill()}_fromData(e,t,s){for(const a of e){const{points:n}=a,o=this._getPointGroupOptions(a);if(n.length>1)for(let c=0;c<n.length;c+=1){const h=n[c],l=new d(h.x,h.y,h.pressure,h.time);0===c&&this._reset(o);const u=this._addPoint(l,o);u&&t(u,o)}else this._reset(o),s(n[0],o)}}toSVG({includeBackgroundColor:e=!1}={}){const t=this._data,s=Math.max(window.devicePixelRatio||1,1),o=this.canvas.width/s,c=this.canvas.height/s,h=document.createElementNS("http://www.w3.org/2000/svg","svg");if(h.setAttribute("xmlns","http://www.w3.org/2000/svg"),h.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),h.setAttribute("viewBox",`0 0 ${o} ${c}`),h.setAttribute("width",o.toString()),h.setAttribute("height",c.toString()),e&&this.backgroundColor){const l=document.createElement("rect");l.setAttribute("width","100%"),l.setAttribute("height","100%"),l.setAttribute("fill",this.backgroundColor),h.appendChild(l)}return this._fromData(t,(l,{penColor:u})=>{const g=document.createElement("path");if(!(isNaN(l.control1.x)||isNaN(l.control1.y)||isNaN(l.control2.x)||isNaN(l.control2.y))){const D=`M ${l.startPoint.x.toFixed(3)},${l.startPoint.y.toFixed(3)} C ${l.control1.x.toFixed(3)},${l.control1.y.toFixed(3)} ${l.control2.x.toFixed(3)},${l.control2.y.toFixed(3)} ${l.endPoint.x.toFixed(3)},${l.endPoint.y.toFixed(3)}`;g.setAttribute("d",D),g.setAttribute("stroke-width",(2.25*l.endWidth).toFixed(3)),g.setAttribute("stroke",u),g.setAttribute("fill","none"),g.setAttribute("stroke-linecap","round"),h.appendChild(g)}},(l,{penColor:u,dotSize:g,minWidth:D,maxWidth:w})=>{const y=document.createElement("circle"),k=g>0?g:(D+w)/2;y.setAttribute("r",k.toString()),y.setAttribute("cx",l.x.toString()),y.setAttribute("cy",l.y.toString()),y.setAttribute("fill",u),h.appendChild(y)}),h.outerHTML}}var P=_(54711),T=_(2060);const C=["signPadCanvas"];class f{constructor(e,t){this.placesService=e,this.mensajeService=t,this.esModal=!1,this.firmaLocalizacion=new i.vpe,this.firma=new p}ngOnInit(){this.placesService.getUserLocation().then(e=>{const[t,s]=e;this.firma.latitud=t,this.firma.longitud=s}).catch(e=>{this.mensajeService.modalError("No es posible activar la firma mientras est\xe9 bloqueada la Localizaci\xf3n en su dispositivo"),this.cancelar()})}ngAfterViewInit(){this.signPad=new b(this.signaturePadElement.nativeElement)}startSignPadDrawing(e){console.log(e)}movedFinger(e){}undoSign(){const e=this.signPad.toData();e&&(e.pop(),this.signPad.fromData(e))}clearSignPad(){this.signPad.clear()}saveSignPad(){const e=this.signPad.toDataURL();this.signImage=e}guardar(){this.saveSignPad(),this.firma.firma=this.signImage,this.onClose(!0)}cancelar(){this.esModal&&this.onClose(!0)}static#t=this.\u0275fac=function(t){return new(t||f)(i.Y36(P.E),i.Y36(T.V))};static#e=this.\u0275cmp=i.Xpm({type:f,selectors:[["app-input-firma"]],viewQuery:function(t,s){if(1&t&&i.Gf(C,5),2&t){let a;i.iGM(a=i.CRH())&&(s.signaturePadElement=a.first)}},outputs:{firmaLocalizacion:"firmaLocalizacion"},decls:22,vars:0,consts:[[1,"modal-content"],[1,"modal-header"],["type","button","aria-label","Close",1,"close","pull-right",3,"click"],[1,"far","fa-times-circle"],[1,"modal-body"],[1,"form-group"],[1,"row"],[1,"d-flex","justify-content-around"],[3,"touchstart","touchmove"],["signPadCanvas",""],[1,"modal-footer"],[1,"text-right"],[1,"btn-secundario",3,"click"],[1,"btn-secundario","gris",3,"click"],[1,"btn-primario",3,"click"]],template:function(t,s){1&t&&(i.TgZ(0,"div",0)(1,"div",1)(2,"div"),i._uU(3,"Firma"),i.qZA(),i.TgZ(4,"button",2),i.NdJ("click",function(){return s.cancelar()}),i._UZ(5,"i",3),i.qZA()(),i.TgZ(6,"div",4)(7,"div",5)(8,"div",6)(9,"div",7)(10,"canvas",8,9),i.NdJ("touchstart",function(n){return s.startSignPadDrawing(n)})("touchmove",function(n){return s.movedFinger(n)}),i.qZA()()(),i.TgZ(12,"div",10)(13,"div",11)(14,"button",12),i.NdJ("click",function(){return s.cancelar()}),i._uU(15," Cancelar "),i.qZA()(),i.TgZ(16,"div",11)(17,"button",13),i.NdJ("click",function(){return s.clearSignPad()}),i._uU(18," Borrar Firma "),i.qZA()(),i.TgZ(19,"div",11)(20,"button",14),i.NdJ("click",function(){return s.guardar()}),i._uU(21," Aceptar "),i.qZA()()()()()())},styles:["[_ngcontent-%COMP%]:root{--color-primario: #3f75d2;--color-primario-hover: #F9EFFB;--color-menu: #3f75d2}.btn-subir[_ngcontent-%COMP%]{font-size:small;color:#fbe5d6;padding:0;margin:1px 5px;height:calc(1.3em + .7rem + 6px);background-color:transparent;transition:.2s;border:none;color:#fff;font-size:14px;text-align:center;border-radius:20px;text-wrap:true;max-width:100%;max-height:100%;align-content:center}.form-control[_ngcontent-%COMP%]{color:gray}.icono[_ngcontent-%COMP%]{height:80%;background-color:transparent;border-radius:50%}.icono[_ngcontent-%COMP%]:hover{background-color:#f3f3f3}canvas[_ngcontent-%COMP%]{display:block;border:1px solid rgb(105,105,105);background-color:var(--ion-color-success)}.center-buttons[_ngcontent-%COMP%]{text-align:center}.gris[_ngcontent-%COMP%]{background-color:#969494;transition:background-color .5s}.gris[_ngcontent-%COMP%]:hover{background-color:gray}"]})}},74654:(O,E,_)=>{_.d(E,{_:()=>d});var i=_(94650),p=_(80529);class d{constructor(r){this.http=r,this.dataUrl="departamento/"}consultarTodosParaGrid(){return this.http.get(this.dataUrl+"consultarTodosParaGrid")}consultarTodosParaSelector(){return this.http.get(this.dataUrl+"consultarTodosParaSelector")}consultar(r){return this.http.get(this.dataUrl+`consultar/${r}`)}agregar(r){return this.http.post(this.dataUrl+"agregar",r)}editar(r){return this.http.put(this.dataUrl+"editar",r)}eliminar(r){return this.http.delete(this.dataUrl+`eliminar/${r}`)}consultarPorArea(r){return this.http.post(this.dataUrl+"area",r)}static#t=this.\u0275fac=function(m){return new(m||d)(i.LFG(p.eN))};static#e=this.\u0275prov=i.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"})}},51763:(O,E,_)=>{_.d(E,{m:()=>d});var i=_(94650),p=_(80529);class d{constructor(r){this.http=r,this.dataUrl="contratista/"}consultarParaFormulario(r){return this.http.get(this.dataUrl+`formulario/${r}`)}consultarParaGrid(){return this.http.get(this.dataUrl+"grid")}consultarParaSelector(){return this.http.get(this.dataUrl+"selector")}consultarPorLocacion(r){return this.http.post(this.dataUrl+"selector",r)}agregar(r){return this.http.post(this.dataUrl,r)}editar(r){return this.http.put(this.dataUrl,r)}editarAnexos(r){return this.http.put(this.dataUrl+"editarAnexos",r)}eliminar(r){return this.http.delete(this.dataUrl+`${r}`)}descargar(r){return this.http.get(this.dataUrl+`descargar/${r}`)}almacenar(r){return this.http.post(this.dataUrl+"almacenar",r)}consultarGrafica(){return this.http.get(this.dataUrl+"grafica")}descargarXls(){return this.http.post(this.dataUrl+"xls",null)}static#t=this.\u0275fac=function(m){return new(m||d)(i.LFG(p.eN))};static#e=this.\u0275prov=i.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"})}},94654:(O,E,_)=>{_.d(E,{d:()=>d});var i=_(94650),p=_(80529);class d{constructor(r){this.http=r,this.dataUrl="contrato/"}consultarParaGrid(){return this.http.get(this.dataUrl+"grid")}consultarParaGridParticipantes(r){return this.http.post(this.dataUrl+"gridParticipantes",r)}selectorContratosPadre(){return this.http.get(this.dataUrl+"selectorContratosPadre")}selectorContratista(r){return this.http.get(this.dataUrl+`selectorContratista/${r}`)}selectorAreas(){return this.http.get(this.dataUrl+"selectorArea")}selectorContrato(r){return this.http.post(this.dataUrl+"selectorContratos",r)}selectorLocaciones(){return this.http.get(this.dataUrl+"selectorLocaciones")}consultarParaFormulario(r){return this.http.get(this.dataUrl+`formulario/${r}`)}consultarParaConfigurar(r){return this.http.get(this.dataUrl+`guias/${r}`)}agregar(r){return console.log(r),this.http.post(this.dataUrl,r)}editarGeneral(r){return this.http.put(this.dataUrl+"general",r)}editarDocumentos(r){return this.http.put(this.dataUrl+"documentos",r)}editarAmbientales(r){return this.http.put(this.dataUrl+"ambientales",r)}eliminar(r){return this.http.delete(this.dataUrl+`${r}`)}editarTipoGuia(r,m){return this.http.post(this.dataUrl+`guias/${m}`,r)}consultarPromedios(r){return this.http.get(this.dataUrl+`promedios/${r}`)}static#t=this.\u0275fac=function(m){return new(m||d)(i.LFG(p.eN))};static#e=this.\u0275prov=i.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"})}},54711:(O,E,_)=>{_.d(E,{E:()=>p});var i=_(94650);class p{get isUserLocationReady(){return!!this.userLocation}constructor(){this.getUserLocation()}getUserLocation(M=144e5){return new Promise((r,m)=>{const b={timeout:M},P=f=>{const v=f.coords,e=[v.latitude,v.longitude];this.userLocation=e,r(e)},C=setTimeout(()=>{alert("Tiempo de espera agotado para obtener la ubicaci\xf3n."),m(new Error("Timeout"))},M);navigator.geolocation.getCurrentPosition(f=>{clearTimeout(C),P(f)},f=>{clearTimeout(C),(f=>{alert("El sistema requiere acceder a su ubicaci\xf3n actual."),console.log(f),m(f)})(f)},b)})}static#t=this.\u0275fac=function(r){return new(r||p)};static#e=this.\u0275prov=i.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"})}},59241:(O,E,_)=>{_.d(E,{AH:()=>T,P4:()=>v,wW:()=>C});var i=_(94650),p=_(36895);function d(e,t){if(1&e){const s=i.EpF();i.TgZ(0,"span",7),i.NdJ("click",function(n){i.CHM(s);const o=i.oxw().$implicit,c=i.oxw();return n.preventDefault(),i.KtG(c.removeTab(o))}),i._uU(1," \u274c"),i.qZA()}}const M=function(e){return["nav-item",e]};function r(e,t){if(1&e){const s=i.EpF();i.TgZ(0,"li",3),i.NdJ("keydown",function(n){const c=i.CHM(s).index,h=i.oxw();return i.KtG(h.keyNavActions(n,c))}),i.TgZ(1,"a",4),i.NdJ("click",function(){const o=i.CHM(s).$implicit;return i.KtG(o.active=!0)}),i.TgZ(2,"span",5),i._uU(3),i.qZA(),i.YNc(4,d,2,0,"span",6),i.qZA()()}if(2&e){const s=t.$implicit;i.ekj("active",s.active)("disabled",s.disabled),i.Q6J("ngClass",i.VKq(15,M,s.customClass||"")),i.xp6(1),i.ekj("active",s.active)("disabled",s.disabled),i.uIk("aria-controls",s.id?s.id:"")("aria-selected",!!s.active)("id",s.id?s.id+"-link":""),i.xp6(1),i.Q6J("ngTransclude",s.headingRef),i.xp6(1),i.Oqu(s.heading),i.xp6(1),i.Q6J("ngIf",s.removable)}}class b{constructor(t){this.viewRef=t}set ngTransclude(t){this._ngTransclude=t,t&&this.viewRef.createEmbeddedView(t)}get ngTransclude(){return this._ngTransclude}}b.\u0275fac=function(t){return new(t||b)(i.Y36(i.s_b))},b.\u0275dir=i.lG2({type:b,selectors:[["","ngTransclude",""]],inputs:{ngTransclude:"ngTransclude"}});class P{constructor(){this.type="tabs",this.isKeysAllowed=!0,this.ariaLabel="Tabs"}}P.\u0275fac=function(t){return new(t||P)},P.\u0275prov=i.Yz7({token:P,factory:P.\u0275fac,providedIn:"root"});class T{constructor(t,s,a){this.renderer=s,this.elementRef=a,this.clazz=!0,this.tabs=[],this.classMap={},this.ariaLabel="Tabs",this.isDestroyed=!1,this._vertical=!1,this._justified=!1,this._type="tabs",this._isKeysAllowed=!0,Object.assign(this,t)}get vertical(){return this._vertical}set vertical(t){this._vertical=t,this.setClassMap()}get justified(){return this._justified}set justified(t){this._justified=t,this.setClassMap()}get type(){return this._type}set type(t){this._type=t,this.setClassMap()}get isKeysAllowed(){return this._isKeysAllowed}set isKeysAllowed(t){this._isKeysAllowed=t}ngOnDestroy(){this.isDestroyed=!0}addTab(t){this.tabs.push(t),t.active=1===this.tabs.length&&!t.active}removeTab(t,s={reselect:!0,emit:!0}){const a=this.tabs.indexOf(t);if(-1!==a&&!this.isDestroyed){if(s.reselect&&t.active&&this.hasAvailableTabs(a)){const n=this.getClosestTabIndex(a);this.tabs[n].active=!0}s.emit&&t.removed.emit(t),this.tabs.splice(a,1),t.elementRef.nativeElement.parentNode&&this.renderer.removeChild(t.elementRef.nativeElement.parentNode,t.elementRef.nativeElement)}}keyNavActions(t,s){if(!this.isKeysAllowed)return;const a=Array.from(this.elementRef.nativeElement.querySelectorAll(".nav-link"));if(13===t.keyCode||"Enter"===t.key||32===t.keyCode||"Space"===t.key)return t.preventDefault(),void a[s%a.length].click();if(39!==t.keyCode&&"RightArrow"!==t.key)if(37!==t.keyCode&&"LeftArrow"!==t.key)if(36!==t.keyCode&&"Home"!==t.key)if(35!==t.keyCode&&"End"!==t.key){if((46===t.keyCode||"Delete"===t.key)&&this.tabs[s].removable){if(this.removeTab(this.tabs[s]),a[s+1])return void a[(s+1)%a.length].focus();a[a.length-1]&&a[0].focus()}}else{t.preventDefault();let n,o=1,c=s;do{c-o<0?(c=a.length-1,n=a[c],o=0):n=a[c-o],o++}while(n.classList.contains("disabled"));n.focus()}else{t.preventDefault();let n,o=0;do{n=a[o%a.length],o++}while(n.classList.contains("disabled"));n.focus()}else{let n,o=1,c=s;do{c-o<0?(c=a.length-1,n=a[c],o=0):n=a[c-o],o++}while(n.classList.contains("disabled"));n.focus()}else{let n,o=1;do{n=a[(s+o)%a.length],o++}while(n.classList.contains("disabled"));n.focus()}}getClosestTabIndex(t){const s=this.tabs.length;if(!s)return-1;for(let a=1;a<=s;a+=1){const n=t-a,o=t+a;if(this.tabs[n]&&!this.tabs[n].disabled)return n;if(this.tabs[o]&&!this.tabs[o].disabled)return o}return-1}hasAvailableTabs(t){const s=this.tabs.length;if(!s)return!1;for(let a=0;a<s;a+=1)if(!this.tabs[a].disabled&&a!==t)return!0;return!1}setClassMap(){this.classMap={"nav-stacked":this.vertical,"flex-column":this.vertical,"nav-justified":this.justified,[`nav-${this.type}`]:!0}}}T.\u0275fac=function(t){return new(t||T)(i.Y36(P),i.Y36(i.Qsj),i.Y36(i.SBq))},T.\u0275cmp=i.Xpm({type:T,selectors:[["tabset"]],hostVars:2,hostBindings:function(t,s){2&t&&i.ekj("tab-container",s.clazz)},inputs:{vertical:"vertical",justified:"justified",type:"type"},ngContentSelectors:["*"],decls:4,vars:3,consts:[["role","tablist",1,"nav",3,"ngClass","click"],[3,"ngClass","active","disabled","keydown",4,"ngFor","ngForOf"],[1,"tab-content"],[3,"ngClass","keydown"],["href","javascript:void(0);","role","tab",1,"nav-link",3,"click"],[3,"ngTransclude"],["class","bs-remove-tab",3,"click",4,"ngIf"],[1,"bs-remove-tab",3,"click"]],template:function(t,s){1&t&&(i.F$t(),i.TgZ(0,"ul",0),i.NdJ("click",function(n){return n.preventDefault()}),i.YNc(1,r,5,17,"li",1),i.qZA(),i.TgZ(2,"div",2),i.Hsn(3),i.qZA()),2&t&&(i.Q6J("ngClass",s.classMap),i.uIk("aria-label",s.ariaLabel),i.xp6(1),i.Q6J("ngForOf",s.tabs))},dependencies:[p.mk,p.sg,p.O5,b],styles:["[_nghost-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   .nav-item.disabled[_ngcontent-%COMP%]   a.disabled[_ngcontent-%COMP%]{cursor:default}"]});class C{constructor(t,s,a){this.elementRef=s,this.renderer=a,this.disabled=!1,this.removable=!1,this.selectTab=new i.vpe,this.deselect=new i.vpe,this.removed=new i.vpe,this.addClass=!0,this.role="tabpanel",this._active=!1,this._customClass="",this.tabset=t,this.tabset.addTab(this)}get customClass(){return this._customClass}set customClass(t){this.customClass&&this.customClass.split(" ").forEach(s=>{this.renderer.removeClass(this.elementRef.nativeElement,s)}),this._customClass=t?t.trim():"",this.customClass&&this.customClass.split(" ").forEach(s=>{this.renderer.addClass(this.elementRef.nativeElement,s)})}get active(){return this._active}set active(t){if(this._active!==t){if(this.disabled&&t||!t)return void(this._active&&!t&&(this.deselect.emit(this),this._active=t));this._active=t,this.selectTab.emit(this),this.tabset.tabs.forEach(s=>{s!==this&&(s.active=!1)})}}get ariaLabelledby(){return this.id?`${this.id}-link`:""}ngOnInit(){this.removable=!!this.removable}ngOnDestroy(){this.tabset.removeTab(this,{reselect:!1,emit:!1})}}C.\u0275fac=function(t){return new(t||C)(i.Y36(T),i.Y36(i.SBq),i.Y36(i.Qsj))},C.\u0275dir=i.lG2({type:C,selectors:[["tab"],["","tab",""]],hostVars:7,hostBindings:function(t,s){2&t&&(i.uIk("id",s.id)("role",s.role)("aria-labelledby",s.ariaLabelledby),i.ekj("active",s.active)("tab-pane",s.addClass))},inputs:{heading:"heading",id:"id",disabled:"disabled",removable:"removable",customClass:"customClass",active:"active"},outputs:{selectTab:"selectTab",deselect:"deselect",removed:"removed"},exportAs:["tab"]});class f{constructor(t,s){s.headingRef=t}}f.\u0275fac=function(t){return new(t||f)(i.Y36(i.Rgc),i.Y36(C))},f.\u0275dir=i.lG2({type:f,selectors:[["","tabHeading",""]]});class v{static forRoot(){return{ngModule:v,providers:[]}}}v.\u0275fac=function(t){return new(t||v)},v.\u0275mod=i.oAB({type:v}),v.\u0275inj=i.cJS({imports:[p.ez]})}}]);