"use strict";(self.webpackChunkroadis_app=self.webpackChunkroadis_app||[]).push([[4875],{36678:(F,C,n)=>{n.d(C,{p:()=>d});var f=n(24006),h=n(94650);class d{constructor(){this.validator=function p(){const o=new RegExp(/^([\w-\.]+)@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.)|(([\w-]+\.)+))([a-zA-Z]{2,4}|[0-9]{1,3})(\]?)$/im);return l=>void 0===l.value||null===l.value||""===l.value||o.test(l.value)?null:{formatoCorreo:{valid:!1}}}()}validate(l){return this.validator(l)}static#o=this.\u0275fac=function(g){return new(g||d)};static#e=this.\u0275dir=h.lG2({type:d,selectors:[["","appFormatoCorreo",""]],features:[h._Bn([{provide:f.Cf,useExisting:d,multi:!0}])]})}},31250:(F,C,n)=>{n.d(C,{v:()=>d});var f=n(24006),h=n(94650);class d{constructor(){this.validator=function p(){const o=new RegExp(/^([A-Z\xd1&]{3,4}) ?(?:- ?)?(\d{2}(?:0[1-9]|1[0-2])(?:0[1-9]|[12]\d|3[01])) ?(?:- ?)?([A-Z\d]{2})([A\d])$/im);return l=>void 0===l.value||null===l.value||""===l.value||o.test(l.value)?null:{formatoRfc:{valid:!1}}}()}validate(l){return this.validator(l)}static#o=this.\u0275fac=function(g){return new(g||d)};static#e=this.\u0275dir=h.lG2({type:d,selectors:[["","appFormatoRfc",""]],features:[h._Bn([{provide:f.Cf,useExisting:d,multi:!0}])]})}},77250:(F,C,n)=>{n.d(C,{E:()=>d});var f=n(24006),h=n(94650);class d{constructor(){this.validator=function p(){const o=new RegExp(/^([\+][0-9])?(-?[0-9]+)*$/im);return l=>void 0===l.value||null===l.value||""===l.value||o.test(l.value)?null:{formatoTelefono:{valid:!1}}}()}validate(l){return this.validator(l)}static#o=this.\u0275fac=function(g){return new(g||d)};static#e=this.\u0275dir=h.lG2({type:d,selectors:[["","appFormatoTelefono",""]],features:[h._Bn([{provide:f.Cf,useExisting:d,multi:!0}])]})}},83083:(F,C,n)=>{n.d(C,{c:()=>p});var f=n(94650),h=n(80529);class p{constructor(o){this.http=o,this.dataUrl="compania/"}consultar(o){return this.http.get(this.dataUrl+`consultar/${o}`)}consultarGeneral(){return this.http.get(this.dataUrl+"consultarGeneral")}consultarTodosParaSelector(){return this.http.get(this.dataUrl+"consultarTodosParaSelector")}consultarPorUsuarioPermiso(){return this.http.get(this.dataUrl+"consultarPorUsuarioPermiso")}consultarTodosParaGrid(o){return this.http.post(this.dataUrl+"consultarTodosParaGrid",o)}agregar(o){return this.http.post(this.dataUrl+"agregar",o)}editar(o){return this.http.put(this.dataUrl+"editar",o)}eliminar(o){return this.http.delete(this.dataUrl+`eliminar/${o}`)}consultarPorUsuario(){return this.http.get(this.dataUrl+"consultarPorUsuario")}consultarClaveCompaniaUsuarioSesion(){return this.http.get(this.dataUrl+"consultarClaveCompaniaUsuarioSesion/",{responseType:"text"})}static#o=this.\u0275fac=function(l){return new(l||p)(f.LFG(h.eN))};static#e=this.\u0275prov=f.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"})}},50496:(F,C,n)=>{n.d(C,{a:()=>p});var f=n(94650),h=n(80529);class p{constructor(o){this.http=o,this.dataUrl="hospital/"}consultarPorCompaniaParaGrid(){return this.http.get(this.dataUrl+"consultarPorCompaniaParaGrid")}consultarGeneral(){return this.http.get(this.dataUrl+"consultarGeneral")}consultarPorUsuarioSesion(){return this.http.get(this.dataUrl+"consultarPorUsuarioSesion")}consultarInformacionDeposito(o){return this.http.get(this.dataUrl+`consultarInformacionDeposito/${o}`)}consultarPorCompania(o){return this.http.get(this.dataUrl+`consultarPorCompania/${o}`)}consultar(o){return this.http.get(this.dataUrl+`consultar/${o}`)}agregar(o){return this.http.post(this.dataUrl+"agregar",o)}editar(o){return this.http.put(this.dataUrl+"editar",o)}eliminar(o){return this.http.delete(this.dataUrl+`eliminar/${o}`)}consultarConfiguracionesGenerales(){return this.http.get(this.dataUrl+"consultarConfiguracionesGenerales")}EditarConfiguracionesGenerales(o){return this.http.put(this.dataUrl+"EditarConfiguracionesGenerales",o)}consultarAplicadoEncuesta(o){return this.http.get(this.dataUrl+`consultarAplicadoEncuesta/${o}`)}consultarHospitalesPorUsuario(){return this.http.get(this.dataUrl+"consultarHospitalesPorUsuario")}consultarTodosParaSelector(){return this.http.get(this.dataUrl+"consultarTodosParaSelector")}consultarDisponiblesParaListaPrecio(o){return this.http.get(this.dataUrl+`consultarDisponiblesParaListaPrecio/${o}`)}consultarPorCompaniaSesion(){return this.http.get(this.dataUrl+"consultarPorCompaniaSesion")}static#o=this.\u0275fac=function(l){return new(l||p)(f.LFG(h.eN))};static#e=this.\u0275prov=f.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"})}},12846:(F,C,n)=>{n.d(C,{Y:()=>d});var f=n(50986),h=n(94650),p=n(2060);class d{constructor(l){this.modalMensajeService=l}validarCamposRequeridos(l){Object.keys(l.controls).forEach(g=>{const M=l.controls[g];M.markAsTouched({onlySelf:!0}),M.markAsDirty({onlySelf:!0})})}validarCamposRequeridosConMensaje(l){Object.keys(l.controls).forEach(g=>{const M=l.controls[g];M.markAsTouched({onlySelf:!0}),M.markAsDirty({onlySelf:!0})}),Object.keys(l.controls).some(g=>{const M=l.controls[g];return!!(M.errors&&M.errors.required&&M.invalid)&&(this.modalMensajeService.modalError(f.g.MENSAJE_REQUERIDOS),!0)})}markAsUntouched(l){Object.keys(l.controls).forEach(g=>{l.controls[g].markAsUntouched({onlySelf:!0})})}static#o=this.\u0275fac=function(g){return new(g||d)(h.LFG(p.V))};static#e=this.\u0275prov=h.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"})}},74875:(F,C,n)=>{n.r(C),n.d(C,{HospitalModule:()=>Y});var f=n(41896),h=n(33369),p=n(83083),d=n(36441),o=n(94650),l=n(80529);class g{constructor(e){this.http=e,this.dataUrl="hospitalLogotipo/"}consultarPorHospital(e){return this.http.get(this.dataUrl+`consultarPorHospital/${e}`)}agregar(e){return this.http.post(this.dataUrl+"agregar",e)}eliminar(e){return this.http.delete(this.dataUrl+`eliminar/${e}`)}static#o=this.\u0275fac=function(t){return new(t||g)(o.LFG(l.eN))};static#e=this.\u0275prov=o.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"})}var M=n(50496),V=n(73698),z=n(70254),k=n(51757),X=n(46101),oo=n(73523);class E{constructor(e){this.http=e,this.dataUrl="almacen/"}consultar(e){return this.http.get(this.dataUrl+`consultar/${e}`)}consultarGeneral(){return this.http.get(this.dataUrl+"consultarGeneral")}consultarTodosParaSelector(){return this.http.get(this.dataUrl+"consultarTodosParaSelector")}consultarPorEstado(e){return this.http.get(this.dataUrl+`consultarPorEstado/${e}`)}consultarPorRol(e){return this.http.get(this.dataUrl+`consultarPorUsuario/${e}`)}consultarPorEstatus(e){return this.http.get(this.dataUrl+`consultarPorEstatus/${e}`)}consultarPorCompania(){return this.http.get(this.dataUrl+"consultarPorCompania")}agregar(e){return this.http.post(this.dataUrl+"agregar",e)}editar(e){return this.http.put(this.dataUrl+"editar",e)}eliminar(e){return this.http.delete(this.dataUrl+`eliminar/${e}`)}static#o=this.\u0275fac=function(t){return new(t||E)(o.LFG(l.eN))};static#e=this.\u0275prov=o.Yz7({token:E,factory:E.\u0275fac})}class Z{constructor(e){this.http=e,this.dataUrl="certificadoLocacion/"}agregar(e){return this.http.post(this.dataUrl+"agregar",e)}static#o=this.\u0275fac=function(t){return new(t||Z)(o.LFG(l.eN))};static#e=this.\u0275prov=o.Yz7({token:Z,factory:Z.\u0275fac})}var eo=n(46558),j=n(20388),io=n(61191),no=n(41283),ro=n(63405),N=n(9116),J=n(85087),B=n(15861);class W{constructor(){}}class so{constructor(){}}var u=n(50986),lo=n(90429),co=n(69751),uo=n(39646),po=n(63900),go=n(54004),ho=n(18505),mo=n(92340);class ${constructor(){}}var fo=n(12846),K=n(2060),m=n(24006),w=n(36895);function vo(r,e){1&r&&(o.TgZ(0,"div",24),o._uU(1," La contrase\xf1a es requerida "),o.qZA())}class R{constructor(e,t,i){this.certificadoLocacionService=e,this.formularioService=t,this.mensajeService=i,this.tipoCertificado="cer",this.tipoClave="key",this.btnSubmit=!1,this.certificadoLocacion=new $,this.clavePrivadaLocacion=new $,this.certificados=[]}ngOnInit(){}enviarFormulario(e){if(this.btnSubmit=!0,!e.valid)return this.formularioService.validarCamposRequeridos(e),void(this.btnSubmit=!1);this.validarCertificados(),this.certificados.push(this.certificadoLocacion,this.clavePrivadaLocacion),this.agregar()}fileChangeCertificado(e,t){if(e.target.files&&e.target.files[0]){const i=new $,c=new FileReader;switch(c.readAsDataURL(e.target.files[0]),i.idLocacion=this.idLocacion,i.nombre=e.target.files[0].name,i.tipoMime=e.target.files[0].type,c.onload=s=>{const a=c.result;i.archivoBase64=a?a.toString().split(",")[1]:""},t){case this.tipoCertificado:this.certificadoLocacion=i;break;case this.tipoClave:i.tipoMime="application/pkcs8",this.clavePrivadaLocacion=i}}}agregar(){this.certificadoLocacionService.agregar(this.certificados).subscribe(e=>{this.mensajeService.modalExito("Los certificados han sido configurados exitosamente"),this.onClose(!0)})}validarCertificados(){this.certificadoLocacion.archivoBase64||this.mensajeService.modalExito("El certificado es requerido"),this.clavePrivadaLocacion.archivoBase64||this.mensajeService.modalExito("La clave privada es requerida")}cancelar(){this.onClose(!0)}static#o=this.\u0275fac=function(t){return new(t||R)(o.Y36(Z),o.Y36(fo.Y),o.Y36(K.V))};static#e=this.\u0275cmp=o.Xpm({type:R,selectors:[["app-certificado-configuracion"]],decls:41,vars:5,consts:[[1,"d-flex"],[1,"barra-lateral-modal"],[1,"modal-content"],[1,"modal-header"],["type","button","aria-label","Close",1,"close","pull-right",3,"click"],[1,"far","fa-times-circle"],["novalidate","novalidate",3,"keydown.enter","ngSubmit"],["formulario","ngForm"],["id","modal",1,"cuerpo-contenedor"],[1,"row","mb-3"],[1,"col-md-6"],[1,"form-group"],[1,"label-input","required-label"],[1,"custom-file"],["type","file","id","certificado","name","certificadoName","type","file","autocomplete","off","accept",".cer",1,"custom-file-input",3,"change"],["for","inputGroupFile04",1,"custom-file-label"],["type","file","id","clave","name","claveName","type","file","autocomplete","off","accept",".key",1,"custom-file-input",3,"change"],[1,"col-md-12"],["name","contrasenaName","type","password","maxlength","50","reversa","true","autocomplete","off","required","true",1,"form-control",3,"ngModel","ngModelChange"],["contrasena","ngModel"],["class","error",4,"ngIf"],[1,"modal-footer"],[1,"text-right"],["type","submit",1,"btn-primario","btn-margin-left",3,"disabled"],[1,"error"]],template:function(t,i){if(1&t){const c=o.EpF();o.TgZ(0,"div",0),o._UZ(1,"div",1),o.TgZ(2,"div",2)(3,"div",3)(4,"div"),o._uU(5,"Configurar Certificados"),o.qZA(),o.TgZ(6,"button",4),o.NdJ("click",function(){return i.cancelar()}),o._UZ(7,"i",5),o.qZA()(),o.TgZ(8,"form",6,7),o.NdJ("keydown.enter",function(a){return a.preventDefault()})("ngSubmit",function(){o.CHM(c);const a=o.MAs(9);return o.KtG(i.enviarFormulario(a))}),o.TgZ(10,"div",8)(11,"div",9)(12,"div",10)(13,"div",11)(14,"label",12),o._uU(15,"Certificado (.cer)"),o.qZA(),o.TgZ(16,"div",13)(17,"input",14),o.NdJ("change",function(a){return i.fileChangeCertificado(a,"cer")}),o.qZA(),o.TgZ(18,"label",15),o._uU(19),o.qZA()()()(),o.TgZ(20,"div",10)(21,"div",11)(22,"label",12),o._uU(23,"Clave privada (.key)"),o.qZA(),o.TgZ(24,"div",13)(25,"input",16),o.NdJ("change",function(a){return i.fileChangeCertificado(a,"key")}),o.qZA(),o.TgZ(26,"label",15),o._uU(27),o.qZA()()()()(),o.TgZ(28,"div",9)(29,"div",17)(30,"div",11)(31,"label",12),o._uU(32,"Contrase\xf1a de clave privada"),o.qZA(),o.TgZ(33,"div")(34,"input",18,19),o.NdJ("ngModelChange",function(a){return i.clavePrivadaLocacion.contrasena=a}),o.qZA()(),o.YNc(36,vo,2,0,"div",20),o.qZA()()()(),o.TgZ(37,"div",21)(38,"div",22)(39,"button",23),o._uU(40," Guardar "),o.qZA()()()()()()}if(2&t){const c=o.MAs(35);o.xp6(19),o.Oqu(i.certificadoLocacion.nombre),o.xp6(8),o.Oqu(i.clavePrivadaLocacion.nombre),o.xp6(7),o.Q6J("ngModel",i.clavePrivadaLocacion.contrasena),o.xp6(2),o.Q6J("ngIf",(null==c.errors?null:c.errors.required)&&c.touched),o.xp6(3),o.Q6J("disabled",i.btnSubmit)}},dependencies:[m._Y,m.Fj,m.JJ,m.JL,m.Q7,m.nD,m.On,m.F,w.O5],encapsulation:2})}var to=n(21006),_o=n(88796);class O{get esExtranjero(){return this._esExtranjero}set esExtranjero(e){this._esExtranjero=e,this._onChange&&this._onChange()}constructor(){}validate(e){return function Co(r){const e=new RegExp(/^[0-9]{1,5}$/im),t=new RegExp(/^[A-Za-z0-9]+$/im);return i=>{if(void 0===i.value||null===i.value||""===i.value)return null;if(r){if(!t.test(i.value))return{formatoCodigoPostal:{valid:!1},extranjero:!0}}else if(!e.test(i.value))return{formatoCodigoPostal:{valid:!1},extranjero:!1};return null}}(this._esExtranjero)(e)}registerOnValidatorChange(e){this._onChange=e}static#o=this.\u0275fac=function(t){return new(t||O)};static#e=this.\u0275dir=o.lG2({type:O,selectors:[["","appFormatoCodigoPostal",""]],inputs:{esExtranjero:"esExtranjero"},features:[o._Bn([{provide:m.Cf,useExisting:O,multi:!0}])]})}var Mo=n(31250),Ao=n(36678),To=n(77250);const Lo=["hospitalLogotipoInput"];function bo(r,e){1&r&&(o.TgZ(0,"div",66),o._uU(1," La Locaci\xf3n es requerida "),o.qZA())}function Po(r,e){1&r&&(o.TgZ(0,"div",66),o._uU(1," La Compa\xf1\xeda es requerida "),o.qZA())}function Fo(r,e){1&r&&(o.TgZ(0,"div",66),o._uU(1," El RFC es requerido "),o.qZA())}function Eo(r,e){1&r&&(o.TgZ(0,"div",66),o._uU(1," El RFC tiene un formato inv\xe1lido "),o.qZA())}function Zo(r,e){1&r&&(o.TgZ(0,"div",66),o._uU(1," El gerente es requerido "),o.qZA())}function Uo(r,e){1&r&&(o.TgZ(0,"div",66),o._uU(1," El banco es requerido "),o.qZA())}function No(r,e){1&r&&(o.TgZ(0,"div",66),o._uU(1," La cuenta es requerida "),o.qZA())}function Oo(r,e){1&r&&(o.TgZ(0,"div",66),o._uU(1," La cuenta tiene un formato inv\xe1lido "),o.qZA())}function So(r,e){1&r&&(o.TgZ(0,"div",66),o._uU(1," La CLABE es requerida "),o.qZA())}function qo(r,e){1&r&&(o.TgZ(0,"div",66),o._uU(1," La CLABE tiene un formato inv\xe1lido "),o.qZA())}function Io(r,e){1&r&&(o.TgZ(0,"div",66),o._uU(1," El portal web es requerido "),o.qZA())}function yo(r,e){1&r&&(o.TgZ(0,"div",66),o._uU(1," El portal web tiene un formato inv\xe1lido "),o.qZA())}function Ho(r,e){1&r&&(o.TgZ(0,"div",66),o._uU(1," El pa\xeds es requerido "),o.qZA())}function Jo(r,e){1&r&&(o.TgZ(0,"div",66),o._uU(1," El C\xf3digo Postal es requerido "),o.qZA())}function Ro(r,e){1&r&&(o.TgZ(0,"div",66),o._uU(1," El C\xf3digo Postal tiene un formato inv\xe1lido "),o.qZA())}function Do(r,e){1&r&&(o.TgZ(0,"div",66),o._uU(1," El C\xf3digo Postal debe de tener 5 caracteres "),o.qZA())}function xo(r,e){1&r&&(o.TgZ(0,"div",66),o._uU(1," El Estado es requerido "),o.qZA())}function Go(r,e){1&r&&(o.TgZ(0,"div",66),o._uU(1," El municipio es requerido "),o.qZA())}function Yo(r,e){1&r&&(o.TgZ(0,"div",66),o._uU(1," La colonia es requerida "),o.qZA())}function Qo(r,e){1&r&&(o.TgZ(0,"div",66),o._uU(1," La calle es requerida "),o.qZA())}function jo(r,e){1&r&&(o.TgZ(0,"div",66),o._uU(1," La calle tiene un formato inv\xe1lido "),o.qZA())}function Bo(r,e){1&r&&(o.TgZ(0,"div",66),o._uU(1," El n\xfam. exterior es requerido "),o.qZA())}function Wo(r,e){1&r&&(o.TgZ(0,"div",66),o._uU(1," El campo entre calles tiene un formato inv\xe1lido "),o.qZA())}function $o(r,e){1&r&&(o.TgZ(0,"div",66),o._uU(1," El tel\xe9fono tiene un formato inv\xe1lido "),o.qZA())}function Ko(r,e){1&r&&(o.TgZ(0,"div",66),o._uU(1," El tel\xe9fono m\xf3vil es requerido (10 d\xedgitos) "),o.qZA())}function wo(r,e){1&r&&(o.TgZ(0,"div",66),o._uU(1," El correo electr\xf3nico tiene un formato inv\xe1lido "),o.qZA())}function Vo(r,e){1&r&&(o.TgZ(0,"div",66),o._uU(1," El R\xe9gimen fiscal es requerido "),o.qZA())}function zo(r,e){if(1&r){const t=o.EpF();o.TgZ(0,"div")(1,"div",67)(2,"div",68),o._uU(3),o.TgZ(4,"img",69),o.NdJ("click",function(){o.CHM(t);const c=o.oxw();return o.KtG(c.eliminarLogotipo())}),o.qZA()()(),o.TgZ(5,"div",67)(6,"div",41),o._UZ(7,"img",70),o.qZA()()()}if(2&r){const t=o.oxw();o.xp6(3),o.hij(" ",null==t.hospitalLogotipo?null:t.hospitalLogotipo.nombreImagen," "),o.xp6(4),o.Q6J("src",null!=t.hospitalLogotipo&&t.hospitalLogotipo.imagenBase64?t.obtenerSrcLogotipo(t.hospitalLogotipo):t.urlBackend+t.hospitalLogotipo.src,o.LSH)}}class D{constructor(e,t,i,c,s,a,v,_,A,L,S,b,q,I,y,P,H,Q,T){this.modalMensajeService=e,this.hospitalService=t,this.estadoService=i,this.municipioService=c,this.codigoPostalService=s,this.paisService=a,this.bancoService=v,this.usuarioServices=_,this.companiaServices=A,this.listaPrecioService=L,this.regimenFiscalService=S,this.ladaService=b,this.hospitalLogotipoService=q,this.encryptionService=I,this.almacenService=y,this.router=P,this.route=H,this.modalService=Q,this.bsModalRef=T,this.urlBackend=mo.N.urlBackend,this.TITULO_MODAL_ELIMINAR="Eliminar Imagen de Locaci\xf3n",this.mensajeExitoEliminarImagen="El logotipo de la locaci\xf3n ha sido eliminado",this.placeHolderSelect=u.g.PLACEHOLDER_DROPDOWN,this.placeHolderNoOptions=u.g.PLACEHOLDER_DROPDOWN_NO_OPTIONS,this.mensajeEditar="La locaci\xf3n ha sido modificada",this.mensajeAgregar="La locaci\xf3n ha sido agregada",this.btnSubmit=!1,this.hospital=new W,this.estadoList=[],this.bancoList=[],this.paisList=[],this.regimenFiscalList=[],this.usuarioList=[],this.companiaList=[],this.listaPrecioList=[],this.ladaList=[],this.municipioList=[],this.codigoPostalList=[],this.almacenList=[],this.configLada=Object.assign({labelField:"claveNumero",valueField:"idLada",searchField:["claveNumero"]},u.g.CONFIG_DROPDOWN_DEFAULT),this.configEstado=Object.assign({labelField:"nombre",valueField:"idEstado",searchField:["nombre"]},u.g.CONFIG_DROPDOWN_DEFAULT),this.configPais=Object.assign({labelField:"nombre",valueField:"idPais",searchField:["nombre"]},u.g.CONFIG_DROPDOWN_DEFAULT),this.configBanco=Object.assign({labelField:"nombre",valueField:"idBanco",searchField:["nombre"]},u.g.CONFIG_DROPDOWN_DEFAULT),this.configUsuario=Object.assign({labelField:"nombreCompleto",valueField:"idUsuario",searchField:["nombre"]},u.g.CONFIG_DROPDOWN_DEFAULT),this.configCompania=Object.assign({labelField:"nombre",valueField:"idCompania",searchField:["nombre"]},u.g.CONFIG_DROPDOWN_DEFAULT),this.configListaPrecios=Object.assign({labelField:"nombre",valueField:"idListaPrecio",searchField:["nombre"]},u.g.CONFIG_DROPDOWN_DEFAULT),this.configRegimenFiscal=Object.assign({labelField:"claveNombre",valueField:"idRegimenFiscal",searchField:["claveNombre"]},u.g.CONFIG_DROPDOWN_DEFAULT),this.configMunicipio=Object.assign({labelField:"nombre",valueField:"idMunicipio",searchField:["nombre"]},u.g.CONFIG_DROPDOWN_DEFAULT),this.configListaPrecio=Object.assign({labelField:"nombre",valueField:"idListaPrecio",searchField:["nombre"]},u.g.CONFIG_DROPDOWN_DEFAULT),this.configAlmacen=Object.assign({labelField:"nombre",valueField:"idAlmacen",searchField:["nombre"],dropdownParent:"body"},u.g.CONFIG_DROPDOWN_DEFAULT)}ngOnInit(){this.consultarLadas(),this.consultarRegimenFiscal(),this.consultarListaPrecios(),this.consultarBanco(),this.consultarAlmacen(),this.consultarUsuario(),this.consultarCompania(),this.consultarCompaniaPorUsuario(),this.route.queryParams.subscribe(e=>{this.accion=this.encryptionService.readUrlParams(e).accion,this.encryptionService.readUrlParams(e).accion===u.g.COMPONENT_ACCION_EDITAR?(this.hospital=JSON.parse(this.encryptionService.readUrlParams(e).data),this.consultarHospitalLogotipo(this.hospital.idHospital),this.campoPais=this.hospital.idPais,this.campoEstado=this.hospital.idEstado,this.campoMunicipio=this.hospital.idMunicipio,this.campoColonia=this.hospital.colonia,this.paisService.consultarTodosParaSelector().subscribe(t=>{this.estadoService.consultarPorPaisParaSelector(this.hospital.idPais).subscribe(i=>{this.municipioService.consultarPorEstadoParaSelector(this.hospital.idEstado).subscribe(c=>{this.codigoPostalService.consultarPorCodigoPostal(this.hospital.codigoPostal).subscribe(s=>{this.paisList=t,this.estadoList=i,this.municipioList=c,this.codigoPostalList=s})})})})):(this.hospital=new W,this.consultarPaises())})}consultarAlmacen(){this.almacenService.consultarTodosParaSelector().subscribe(e=>{this.almacenList=e})}consultarLadas(){this.ladaService.consultarTodosParaSelector().subscribe(e=>this.ladaList=e)}consultarCompania(){this.companiaServices.consultarGeneral().subscribe(e=>{this.companiaList=e})}consultarListaPrecios(){this.listaPrecioService.consultarTodosPorHospitalParaSelector().subscribe(e=>{this.listaPrecioList=e})}consultarRegimenFiscal(){this.regimenFiscalService.consultarTodosParaSelector().subscribe(e=>{e.forEach(t=>t.claveNombre=t.clave+" - "+t.nombre),this.regimenFiscalList=e})}consultarPaises(){this.paisService.consultarTodosParaSelector().subscribe(e=>{this.paisList=e})}consultarEstados(e){this.estadoService.consultarPorPaisParaSelector(e).subscribe(t=>{this.estadoList=t})}consultarMunicipios(e){this.municipioService.consultarPorEstadoParaSelector(e).subscribe(t=>{this.municipioList=t})}consultarColonias(e){this.codigoPostalService.consultarPorMunicipio(e).subscribe(t=>{this.codigoPostalList=t})}consultarBusquedaCodigoPostal(){this.suggestions$=new co.y(e=>{e.next(this.hospital.codigoPostal)}).pipe((0,po.w)(e=>e&&this.campoPais>0?this.codigoPostalService.consultarPorPaisBusqueda(e,this.campoPais).pipe((0,go.U)(t=>t||[]),(0,ho.b)(t=>{this.consultarColoniasPorCodigoPostal(e)})):(0,uo.of)([])))}consultarColoniasPorCodigoPostal(e){e.length>4&&this.codigoPostalService.consultarPorCodigoPostal(e).subscribe(t=>{this.codigoPostalList=t})}onChangePais(e,t){this.estadoList=[],this.municipioList=[],this.codigoPostalList=[],this.campoEstado=0,this.campoMunicipio=0,this.campoColonia="",e>0&&this.consultarEstados(e)}onChangeEstado(e,t){this.municipioList=[],this.codigoPostalList=[],this.campoMunicipio=0,this.campoColonia="",e>0&&this.consultarMunicipios(e)}onChangeMunicipio(e,t){this.codigoPostalList=[],this.campoColonia="",e>0&&this.consultarColonias(e)}onChangeColonia(e){if(this.codigoPostalList.some(t=>t.colonia===e)){const t=this.codigoPostalList.find(i=>i.colonia===e);this.hospital.codigoPostal=t?.codigoPostal1??""}}onChangeCodigoPostal(e,t){if(e.length<4)this.municipioList=[],this.codigoPostalList=[],this.campoEstado=0,this.campoMunicipio=0,this.campoColonia="";else if(this.codigoPostalList.some(i=>i.codigoPostal1===e)){const c=this.codigoPostalList.find(s=>s.codigoPostal1===e)?.idCodigoPostal;if(void 0===c)return;this.codigoPostalService.consultar(c).subscribe(s=>{this.codigoPostalSeleccionado=s,this.desactivarOnChange=!0,this.municipioList=[],this.codigoPostalList=[],this.municipioService.consultarPorEstadoParaSelector(s.idEstado).subscribe(a=>{this.codigoPostalService.consultarPorCodigoPostal(s.codigoPostal1).subscribe(v=>{this.municipioList=a,this.codigoPostalList=v,this.campoEstado=s.idEstado,this.campoMunicipio=s.idMunicipio,this.campoColonia="",setTimeout(()=>{this.desactivarOnChange=!1},2e3)})})})}}consultarCompaniaPorUsuario(){this.companiaServices.consultarPorUsuario().subscribe(e=>{this.hospital.IdCompania=e.idCompania})}consultarBanco(){this.bancoService.consultarTodosParaSelector().subscribe(e=>{this.bancoList=e})}consultarUsuario(){this.usuarioServices.consultarPorTipoUsuario(u.g.CLAVE_TIPO_USUARIO_INTERNO).subscribe(e=>{this.usuarioList=e})}consultarHospitalLogotipo(e){this.hospitalLogotipoService.consultarPorHospital(e).subscribe(t=>{this.hospitalLogotipo=t})}limpiarFormulario(){this.hospital=new W,this.accion=u.g.MODAL_ACCION_AGREGAR}agregar(){var e=this;return(0,B.Z)(function*(){const t=yield e.hospitalService.agregar(e.hospital).toPromise();null!=e.hospitalLogotipo&&null!=e.hospitalLogotipo.imagenBase64&&(e.hospitalLogotipo.idHospital=t??0,yield e.hospitalLogotipoService.agregar(e.hospitalLogotipo).toPromise())})()}editar(){var e=this;return(0,B.Z)(function*(){yield e.hospitalService.editar(e.hospital).toPromise(),void 0!==e.hospitalLogotipo&&null!=e.hospitalLogotipo.imagenBase64&&(e.hospitalLogotipo.idHospital=e.hospital.idHospital,yield e.hospitalLogotipoService.agregar(e.hospitalLogotipo).toPromise())})()}enviarFormulario(e){var t=this;return(0,B.Z)(function*(){if(t.btnSubmit=!0,!e.valid)return lo.CW(e),void(t.btnSubmit=!1);t.hospital.idPais=t.campoPais,t.hospital.idEstado=t.campoEstado,t.hospital.idMunicipio=t.campoMunicipio,t.hospital.colonia=t.campoColonia;const i={[u.g.COMPONENT_ACCION_EDITAR]:[t.editar.bind(t),"La locaci\xf3n ha sido editada"],[u.g.COMPONENT_ACCION_AGREGAR]:[t.agregar.bind(t),"La locaci\xf3n ha sido agregada"]},[c,s]=i[t.accion];try{yield c()}catch{return void(t.btnSubmit=!1)}t.modalMensajeService.modalExito(s),t.regresar()})()}regresar(){this.router.navigate(["administrador/configuracion-general/catalogo/locacion"])}onFileChangeLogotipo(e){if(e.target.files&&e.target.files[0]){const t=new FileReader;t.readAsDataURL(e.target.files[0]),this.hospitalLogotipo=new so,this.hospitalLogotipo.nombreImagen=e.target.files[0].name,this.hospitalLogotipo.tipoMime=e.target.files[0].type,t.onload=i=>{const c=t.result;this.hospitalLogotipo.imagenBase64=null!==c?c.toString().split(",")[1]:""}}}eliminarLogotipo(){if(void 0===this.hospitalLogotipo||!this.hospitalLogotipo.idHospitalLogotipo)return this.hospitalLogotipo=void 0,void(this.hospitalLogotipoInput.nativeElement.value="");this.modalMensajeService.modalConfirmacion("\xbfDesea eliminar el logotipo de la Locaci\xf3n?","Eliminar Logotipo de Locaci\xf3n",u.g.ICONO_CRUZ).then(()=>{this.hospitalLogotipoService.eliminar(this.hospitalLogotipo.idHospitalLogotipo).subscribe(()=>{this.hospitalLogotipo=void 0,this.hospitalLogotipoInput.nativeElement.value="",this.modalMensajeService.modalExito("El logotipo ha sido eliminado")})}).catch(()=>{})}obtenerSrcLogotipo(e){return`data:${e.tipoMime};base64,${e.imagenBase64}`}configurarCertificados(){const e={idLocacion:this.hospital.idHospital};this.bsModalRef=this.modalService.show(R,{initialState:e,...u.g.CONFIG_MODAL_DEFAULT}),this.bsModalRef.content.onClose=t=>{this.bsModalRef.hide()}}static#o=this.\u0275fac=function(t){return new(t||D)(o.Y36(K.V),o.Y36(M.a),o.Y36(d.s),o.Y36(k.G),o.Y36(h.R),o.Y36(X.$),o.Y36(f.r),o.Y36(eo.i),o.Y36(p.c),o.Y36(z.l),o.Y36(oo.F),o.Y36(V.B),o.Y36(g),o.Y36(to.C),o.Y36(E),o.Y36(N.F0),o.Y36(N.gz),o.Y36(j.tT),o.Y36(j.UZ))};static#e=this.\u0275cmp=o.Xpm({type:D,selectors:[["app-locacion-formulario"]],viewQuery:function(t,i){if(1&t&&o.Gf(Lo,5),2&t){let c;o.iGM(c=o.CRH())&&(i.hospitalLogotipoInput=c.first)}},decls:213,vars:105,consts:[[1,"contenedor"],[1,"modal-header"],[1,"cuerpo-contenedor"],["novalidate","novalidate",3,"keydown.enter","ngSubmit"],["formulario","ngForm"],[1,"row"],[1,"col-sm-12"],[1,"subseccion"],[1,"col-md-8"],[1,"form-group"],[1,"label-input","required-label"],["name","nombre","type","text","maxlength","50",1,"form-control",3,"ngModel","required","ngModelChange"],["nombre","ngModel"],["class","error",4,"ngIf"],[1,"col-md-4"],["name","companiaName","bindLabel","nombre","bindValue","idCompania",3,"required","items","ngModel","placeholder","notFoundText","ngModelChange"],["companialLst","ngModel"],["name","Rfc","type","text","maxlength","13","appFormatoRfc","",1,"form-control",3,"ngModel","required","ngModelChange"],["rfc","ngModel"],["name","usuarioName","bindLabel","nombreCompleto","bindValue","idUsuario",3,"items","required","ngModel","placeholder","notFoundText","ngModelChange"],["usuarioLst","ngModel"],["name","bancoName","bindLabel","nombre","bindValue","idBanco",3,"required","items","ngModel","placeholder","notFoundText","ngModelChange"],["bancoLst","ngModel"],["name","cuenta","type","text","maxlength","50","appFormatoNumerico","",1,"form-control",3,"ngModel","required","ngModelChange"],["cuenta","ngModel"],["name","clabe","type","text","maxlength","50","appFormatoNumerico","",1,"form-control",3,"ngModel","required","ngModelChange"],["clabe","ngModel"],["name","portalWeb","type","text","maxlength","50","appFormatoUrl","",1,"form-control",3,"ngModel","required","ngModelChange"],["portalWeb","ngModel"],["name","paisName","bindLabel","nombre","bindValue","idPais",3,"items","placeholder","notFoundText","ngModel","required","ngModelChange"],["pais","ngModel"],["name","codigoPostalExtranjeroName","typeaheadOptionField","codigoPostal1","type","text","autocomplete","new-codigoPostal","appFormatoCodigoPostal","",1,"form-control",3,"ngModel","typeahead","typeaheadAsync","typeaheadMinLength","typeaheadScrollable","typeaheadOptionsInScrollableView","required","maxlength","minlength","adaptivePosition","ngModelChange","change"],["codigoPostal","ngModel"],["name","estadoName","bindLabel","nombre","bindValue","idEstado",3,"items","placeholder","notFoundText","ngModel","required","ngModelChange"],["estado","ngModel"],["name","municipioName","bindLabel","nombre","bindValue","idMunicipio",3,"items","placeholder","notFoundText","ngModel","required","ngModelChange"],["municipio","ngModel"],["name","ccoloniaName","typeaheadOptionField","colonia","type","text","autocomplete","new-colonia","appFormatoAlfanumerico","",1,"form-control",3,"ngModel","typeahead","typeaheadScrollable","typeaheadMinLength","typeaheadOptionsInScrollableView","required","ngModelChange","typeaheadOnSelect"],["colonia","ngModel"],["name","calleName","type","text","autocomplete","off","appFormatoAlfanumerico","",1,"form-control",3,"ngModel","required","ngModelChange"],["calle","ngModel"],[1,"col-md-6"],["name","numExteriorName","type","text","autocomplete","off",1,"form-control",3,"ngModel","required","ngModelChange"],["numExterior","ngModel"],["name","numInteriorName","autocomplete","off","type","text",1,"form-control",3,"ngModel","ngModelChange"],["numInterior","ngModel"],["name","entreCallesName","type","text","autocomplete","off","appFormatoAlfanumerico","",1,"form-control",3,"ngModel","ngModelChange"],["entreCalles","ngModel"],[1,"d-flex"],["name","ladaName","bindLabel","claveNumero","bindValue","idLada",1,"lada-input",3,"items","required","ngModel","placeholder","ngModelChange"],["ladaModel","ngModel"],["name","telefono","type","text","maxlength","10","minlength","10","appFormatoTelefono","",1,"form-control",3,"ngModel","required","ngModelChange"],["telefono","ngModel"],["name","correo","type","text","maxlength","50","appFormatoCorreo","",1,"form-control",3,"ngModel","ngModelChange"],["correo","ngModel"],["name","regimenFiscalName","bindLabel","claveNombre","bindValue","idRegimenFiscal",3,"required","items","ngModel","placeholder","notFoundText","ngModelChange"],["regimenFiscalLst","ngModel"],[1,"row","mb-4"],[1,"custom-file"],["type","file","id","hospitalLogotipo","name","hospitalLogotipo","autocomplete","off","accept","image/jpeg,image/png",3,"disabled","change"],["hospitalLogotipoInput",""],[4,"ngIf"],[1,"modal-footer"],[1,"text-right"],["type","button",1,"btn-secundario","mr-3",3,"click"],["type","submit",1,"btn-primario","ml-3",3,"disabled"],[1,"error"],[1,"row","mb-3"],[1,"col-md-6","d-flex",2,"word-break","break-all","gap","10px"],["src","assets/img/svg/ico-15x15-Eliminar.svg","alt","Eliminar",2,"cursor","pointer",3,"click"],["alt","Logotipo Compania","width","100px",3,"src"]],template:function(t,i){if(1&t){const c=o.EpF();o.TgZ(0,"div",0)(1,"div",1),o._uU(2),o.qZA(),o.TgZ(3,"div",2)(4,"form",3,4),o.NdJ("keydown.enter",function(a){return a.preventDefault()})("ngSubmit",function(){o.CHM(c);const a=o.MAs(5);return o.KtG(i.enviarFormulario(a))}),o.TgZ(6,"div")(7,"div",5)(8,"div",6)(9,"label",7),o._uU(10,"Informaci\xf3n General"),o.qZA()(),o.TgZ(11,"div",8)(12,"div",9)(13,"label",10),o._uU(14,"Locaci\xf3n(Raz\xf3n Social)"),o.qZA(),o.TgZ(15,"div")(16,"input",11,12),o.NdJ("ngModelChange",function(a){return i.hospital.nombre=a}),o.qZA()(),o.YNc(18,bo,2,0,"div",13),o.qZA()(),o.TgZ(19,"div",14)(20,"div",9)(21,"label",10),o._uU(22,"Compa\xf1\xeda"),o.qZA(),o.TgZ(23,"div")(24,"ng-select",15,16),o.NdJ("ngModelChange",function(a){return i.hospital.IdCompania=a}),o.qZA()(),o.YNc(26,Po,2,0,"div",13),o.qZA()()(),o.TgZ(27,"div",5)(28,"div",14)(29,"div",9)(30,"label",10),o._uU(31,"RFC"),o.qZA(),o.TgZ(32,"div")(33,"input",17,18),o.NdJ("ngModelChange",function(a){return i.hospital.rfc=a}),o.qZA()(),o.YNc(35,Fo,2,0,"div",13),o.YNc(36,Eo,2,0,"div",13),o.qZA()(),o.TgZ(37,"div",14)(38,"div",9)(39,"label",10),o._uU(40,"Gerente"),o.qZA(),o.TgZ(41,"div")(42,"ng-select",19,20),o.NdJ("ngModelChange",function(a){return i.hospital.idUsuarioGerente=a}),o.qZA()(),o.YNc(44,Zo,2,0,"div",13),o.qZA()(),o.TgZ(45,"div",14)(46,"div",9)(47,"label",10),o._uU(48,"Banco"),o.qZA(),o.TgZ(49,"div")(50,"ng-select",21,22),o.NdJ("ngModelChange",function(a){return i.hospital.idBanco=a}),o.qZA()(),o.YNc(52,Uo,2,0,"div",13),o.qZA()()(),o.TgZ(53,"div",5)(54,"div",14)(55,"div",9)(56,"label",10),o._uU(57,"Cuenta Banco"),o.qZA(),o.TgZ(58,"div")(59,"input",23,24),o.NdJ("ngModelChange",function(a){return i.hospital.cuenta=a}),o.qZA()(),o.YNc(61,No,2,0,"div",13),o.YNc(62,Oo,2,0,"div",13),o.qZA()(),o.TgZ(63,"div",14)(64,"div",9)(65,"label",10),o._uU(66,"CLABE Banco"),o.qZA(),o.TgZ(67,"div")(68,"input",25,26),o.NdJ("ngModelChange",function(a){return i.hospital.clabe=a}),o.qZA()(),o.YNc(70,So,2,0,"div",13),o.YNc(71,qo,2,0,"div",13),o.qZA()(),o.TgZ(72,"div",14)(73,"div",9)(74,"label",10),o._uU(75,"Portal Web"),o.qZA(),o.TgZ(76,"div")(77,"input",27,28),o.NdJ("ngModelChange",function(a){return i.hospital.portalWeb=a}),o.qZA()(),o.YNc(79,Io,2,0,"div",13),o.YNc(80,yo,2,0,"div",13),o.qZA()()(),o.TgZ(81,"div",5)(82,"div",6)(83,"label",7),o._uU(84,"Domicilio"),o.qZA()(),o.TgZ(85,"div",14)(86,"div",9)(87,"label",10),o._uU(88,"Pa\xeds"),o.qZA(),o.TgZ(89,"div")(90,"ng-select",29,30),o.NdJ("ngModelChange",function(a){return i.campoPais=a})("ngModelChange",function(a){o.CHM(c);const v=o.MAs(99),_=o.MAs(109),A=o.MAs(118),L=o.MAs(126);return o.KtG(i.onChangePais(a,[v,_,A,L]))}),o.qZA(),o.YNc(92,Ho,2,0,"div",13),o.qZA()()(),o.TgZ(93,"div",14)(94,"div",9)(95,"label",10),o._uU(96,"C\xf3digo Postal"),o.qZA(),o.TgZ(97,"div")(98,"input",31,32),o.NdJ("ngModelChange",function(a){return i.hospital.codigoPostal=a})("change",function(a){o.CHM(c);const v=o.MAs(109),_=o.MAs(118),A=o.MAs(126);return o.KtG(1==i.desactivarOnChange?null:i.onChangeCodigoPostal(a,[v,_,A]))}),o.qZA(),o.YNc(100,Jo,2,0,"div",13),o.YNc(101,Ro,2,0,"div",13),o.YNc(102,Do,2,0,"div",13),o.qZA()()(),o.TgZ(103,"div",14)(104,"div",9)(105,"label",10),o._uU(106,"Estado"),o.qZA(),o.TgZ(107,"div")(108,"ng-select",33,34),o.NdJ("ngModelChange",function(a){return i.campoEstado=a})("ngModelChange",function(a){o.CHM(c);const v=o.MAs(118),_=o.MAs(99),A=o.MAs(126);return o.KtG(1==i.desactivarOnChange?null:i.onChangeEstado(a,[v,_,A]))}),o.qZA(),o.YNc(110,xo,2,0,"div",13),o.qZA()()()(),o.TgZ(111,"div",5)(112,"div",14)(113,"div",9)(114,"label",10),o._uU(115,"Municipio"),o.qZA(),o.TgZ(116,"div")(117,"ng-select",35,36),o.NdJ("ngModelChange",function(a){return i.campoMunicipio=a})("ngModelChange",function(a){o.CHM(c);const v=o.MAs(99),_=o.MAs(126);return o.KtG(1==i.desactivarOnChange?null:i.onChangeMunicipio(a,[v,_]))}),o.qZA(),o.YNc(119,Go,2,0,"div",13),o.qZA()()(),o.TgZ(120,"div",14)(121,"div",9)(122,"label",10),o._uU(123,"Colonia"),o.qZA(),o.TgZ(124,"div")(125,"input",37,38),o.NdJ("ngModelChange",function(a){return i.campoColonia=a})("typeaheadOnSelect",function(a){return i.onChangeColonia(a.value)}),o.qZA(),o.YNc(127,Yo,2,0,"div",13),o.qZA()()()(),o.TgZ(128,"div",5)(129,"div",14)(130,"div",9)(131,"label",10),o._uU(132,"Calle"),o.qZA(),o.TgZ(133,"div")(134,"input",39,40),o.NdJ("ngModelChange",function(a){return i.hospital.calle=a}),o.qZA(),o.YNc(136,Qo,2,0,"div",13),o.YNc(137,jo,2,0,"div",13),o.qZA()()(),o.TgZ(138,"div",14)(139,"div",5)(140,"div",41)(141,"div",9)(142,"label",10),o._uU(143,"N\xfam. Exterior"),o.qZA(),o.TgZ(144,"div")(145,"input",42,43),o.NdJ("ngModelChange",function(a){return i.hospital.numeroExterior=a}),o.qZA(),o.YNc(147,Bo,2,0,"div",13),o.qZA()()(),o.TgZ(148,"div",41)(149,"div",9)(150,"label",10),o._uU(151,"N\xfam. Interior"),o.qZA(),o.TgZ(152,"div")(153,"input",44,45),o.NdJ("ngModelChange",function(a){return i.hospital.numeroInterior=a}),o.qZA()()()()()(),o.TgZ(155,"div",14)(156,"div",9)(157,"label",10),o._uU(158,"Entre Calles"),o.qZA(),o.TgZ(159,"div")(160,"input",46,47),o.NdJ("ngModelChange",function(a){return i.hospital.entreCalles=a}),o.qZA(),o.YNc(162,Wo,2,0,"div",13),o.qZA()()()(),o.TgZ(163,"div",5)(164,"div",14)(165,"div",9)(166,"label",10),o._uU(167,"Lada Tel\xe9fono (10 d\xedgitos)"),o.qZA(),o.TgZ(168,"div",48)(169,"ng-select",49,50),o.NdJ("ngModelChange",function(a){return i.hospital.idLada=a}),o.qZA(),o.TgZ(171,"input",51,52),o.NdJ("ngModelChange",function(a){return i.hospital.telefono=a}),o.qZA()(),o.YNc(173,$o,2,0,"div",13),o.YNc(174,Ko,2,0,"div",13),o.qZA()(),o.TgZ(175,"div",14)(176,"div",9)(177,"label",10),o._uU(178,"Correo Electr\xf3nico"),o.qZA(),o.TgZ(179,"div")(180,"input",53,54),o.NdJ("ngModelChange",function(a){return i.hospital.correo=a}),o.qZA()(),o.YNc(182,wo,2,0,"div",13),o.qZA()()(),o.TgZ(183,"div",5)(184,"div",6)(185,"label",7),o._uU(186,"Contabilidad"),o.qZA()(),o.TgZ(187,"div",14)(188,"div",9)(189,"label",10),o._uU(190,"R\xe9gimen Fiscal"),o.qZA(),o.TgZ(191,"div")(192,"ng-select",55,56),o.NdJ("ngModelChange",function(a){return i.hospital.idRegimenFiscal=a}),o.qZA()(),o.YNc(194,Vo,2,0,"div",13),o.qZA()()(),o.TgZ(195,"div",5)(196,"div",6)(197,"label",7),o._uU(198,"Logotipo Locaci\xf3n"),o.qZA()(),o.TgZ(199,"div",57)(200,"div",41)(201,"div")(202,"div",58)(203,"input",59,60),o.NdJ("change",function(a){return i.onFileChangeLogotipo(a)}),o.qZA()()()()(),o.YNc(205,zo,8,2,"div",61),o.qZA()(),o.TgZ(206,"div",62)(207,"div",63)(208,"button",64),o.NdJ("click",function(){return i.regresar()}),o._uU(209,"Cancelar"),o.qZA()(),o.TgZ(210,"div",63)(211,"button",65),o._uU(212,"Guardar"),o.qZA()()()()()()}if(2&t){const c=o.MAs(17),s=o.MAs(34),a=o.MAs(43),v=o.MAs(51),_=o.MAs(60),A=o.MAs(69),L=o.MAs(78),S=o.MAs(91),b=o.MAs(99),q=o.MAs(109),I=o.MAs(118),y=o.MAs(126),P=o.MAs(135),H=o.MAs(146),Q=o.MAs(161),T=o.MAs(172),ao=o.MAs(181),U=o.MAs(193);o.xp6(2),o.hij("",i.accion," Locaci\xf3n"),o.xp6(14),o.Q6J("ngModel",i.hospital.nombre)("required",!0),o.xp6(2),o.Q6J("ngIf",(null==c.errors?null:c.errors.required)&&c.touched),o.xp6(6),o.Q6J("required",!0)("items",i.companiaList)("ngModel",i.hospital.IdCompania)("placeholder",i.placeHolderSelect)("notFoundText",i.placeHolderNoOptions),o.xp6(2),o.Q6J("ngIf",(null==U.errors?null:U.errors.required)&&U.touched),o.xp6(7),o.Q6J("ngModel",i.hospital.rfc)("required",!0),o.xp6(2),o.Q6J("ngIf",(null==s.errors?null:s.errors.required)&&s.touched),o.xp6(1),o.Q6J("ngIf",null==s.errors?null:s.errors.formatoRfc),o.xp6(6),o.Q6J("items",i.usuarioList)("required",!0)("ngModel",i.hospital.idUsuarioGerente)("placeholder",i.placeHolderSelect)("notFoundText",i.placeHolderNoOptions),o.xp6(2),o.Q6J("ngIf",(null==a.errors?null:a.errors.required)&&a.touched),o.xp6(6),o.Q6J("required",!0)("items",i.bancoList)("ngModel",i.hospital.idBanco)("placeholder",i.placeHolderSelect)("notFoundText",i.placeHolderNoOptions),o.xp6(2),o.Q6J("ngIf",(null==v.errors?null:v.errors.required)&&v.touched),o.xp6(7),o.Q6J("ngModel",i.hospital.cuenta)("required",!0),o.xp6(2),o.Q6J("ngIf",(null==_.errors?null:_.errors.required)&&_.touched),o.xp6(1),o.Q6J("ngIf",null==_.errors?null:_.errors.formatoNumerico),o.xp6(6),o.Q6J("ngModel",i.hospital.clabe)("required",!0),o.xp6(2),o.Q6J("ngIf",(null==A.errors?null:A.errors.required)&&A.touched),o.xp6(1),o.Q6J("ngIf",null==A.errors?null:A.errors.formatoNumerico),o.xp6(6),o.Q6J("ngModel",i.hospital.portalWeb)("required",!0),o.xp6(2),o.Q6J("ngIf",(null==L.errors?null:L.errors.required)&&L.touched),o.xp6(1),o.Q6J("ngIf",null==L.errors?null:L.errors.formatoUrl),o.xp6(10),o.Q6J("items",i.paisList)("placeholder",i.placeHolderSelect)("notFoundText",i.placeHolderNoOptions)("ngModel",i.campoPais)("required",!0),o.xp6(2),o.Q6J("ngIf",(null==S.errors?null:S.errors.required)&&S.touched),o.xp6(6),o.Q6J("ngModel",i.hospital.codigoPostal)("typeahead",i.suggestions$)("typeaheadAsync",!0)("typeaheadMinLength",3)("typeaheadScrollable",!0)("typeaheadOptionsInScrollableView",5)("required",!0)("maxlength",5)("minlength",5)("adaptivePosition",!0),o.xp6(2),o.Q6J("ngIf",(null==b.errors?null:b.errors.required)&&b.touched),o.xp6(1),o.Q6J("ngIf",null==b.errors?null:b.errors.formatoCodigoPostal),o.xp6(1),o.Q6J("ngIf",null==b.errors?null:b.errors.minlength),o.xp6(6),o.Q6J("items",i.estadoList)("placeholder",i.placeHolderSelect)("notFoundText",i.placeHolderNoOptions)("ngModel",i.campoEstado)("required",!0),o.xp6(2),o.Q6J("ngIf",(null==q.errors?null:q.errors.required)&&q.touched),o.xp6(7),o.Q6J("items",i.municipioList)("placeholder",i.placeHolderSelect)("notFoundText",i.placeHolderNoOptions)("ngModel",i.campoMunicipio)("required",!0),o.xp6(2),o.Q6J("ngIf",(null==I.errors?null:I.errors.required)&&I.touched),o.xp6(6),o.Q6J("ngModel",i.campoColonia)("typeahead",i.codigoPostalList)("typeaheadScrollable",!0)("typeaheadMinLength",0)("typeaheadOptionsInScrollableView",5)("required",!0),o.xp6(2),o.Q6J("ngIf",(null==y.errors?null:y.errors.required)&&y.touched),o.xp6(7),o.Q6J("ngModel",i.hospital.calle)("required",!0),o.xp6(2),o.Q6J("ngIf",(null==P.errors?null:P.errors.required)&&P.touched),o.xp6(1),o.Q6J("ngIf",null==P.errors?null:P.errors.formatoAlfanumerico),o.xp6(8),o.Q6J("ngModel",i.hospital.numeroExterior)("required",!0),o.xp6(2),o.Q6J("ngIf",(null==H.errors?null:H.errors.required)&&H.touched),o.xp6(6),o.Q6J("ngModel",i.hospital.numeroInterior),o.xp6(7),o.Q6J("ngModel",i.hospital.entreCalles),o.xp6(2),o.Q6J("ngIf",null==Q.errors?null:Q.errors.formatoAlfanumerico),o.xp6(7),o.Q6J("items",i.ladaList)("required",!0)("ngModel",i.hospital.idLada)("placeholder",i.placeHolderSelect),o.xp6(2),o.Q6J("ngModel",i.hospital.telefono)("required",!0),o.xp6(2),o.Q6J("ngIf",null==T.errors?null:T.errors.formatoTelefono),o.xp6(1),o.Q6J("ngIf",((null==T.errors?null:T.errors.required)||(null==T.errors?null:T.errors.minlength)||(null==T.errors?null:T.errors.maxlength))&&T.touched),o.xp6(6),o.Q6J("ngModel",i.hospital.correo),o.xp6(2),o.Q6J("ngIf",null==ao.errors?null:ao.errors.formatoCorreo),o.xp6(10),o.Q6J("required",!0)("items",i.regimenFiscalList)("ngModel",i.hospital.idRegimenFiscal)("placeholder",i.placeHolderSelect)("notFoundText",i.placeHolderNoOptions),o.xp6(2),o.Q6J("ngIf",(null==U.errors?null:U.errors.required)&&U.touched),o.xp6(9),o.Q6J("disabled",i.hospitalLogotipo),o.xp6(2),o.Q6J("ngIf",(null==i.hospitalLogotipo?null:i.hospitalLogotipo.imagenBase64)||(null==i.hospitalLogotipo?null:i.hospitalLogotipo.src)),o.xp6(6),o.Q6J("disabled",i.btnSubmit)}},dependencies:[m._Y,m.Fj,m.JJ,m.JL,m.Q7,m.wO,m.nD,m.On,m.F,w.O5,_o.w9,O,Mo.v,Ao.p,To.E,io.Bp],styles:[".image-box[_ngcontent-%COMP%]{display:flex;margin-top:25px;padding-left:15px;justify-items:center;align-items:center}.pointer[_ngcontent-%COMP%]{cursor:pointer}"]})}var ko=n(62861),Xo=n(58390);function oe(r,e){if(1&r){const t=o.EpF();o.TgZ(0,"div",7),o.NdJ("click",function(){o.CHM(t);const c=o.oxw();return o.KtG(c.agregar())}),o.TgZ(1,"button",8),o._uU(2,"Agregar Locaci\xf3n"),o.qZA()()}}class x{constructor(e,t,i,c,s){this.modalMensajeService=e,this.hospitalService=t,this.accesoService=i,this.encryptionService=c,this.router=s,this.tieneAccesoAgregar=!1,this.accesoEditar=J.v.EDITAR_HOSPITAL,this.accesoEliminar=J.v.ELIMINAR_HOSPITAL,this.HEADER_GRID="Locacion",this.MENSAJE_EXITO_ELIMINAR="La locaci\xf3n ha sido eliminada",this.TITULO_MODAL_ELIMINAR="Eliminar Locaci\xf3n",this.hospitalList=[],this.columns=[{headerName:"N\xfam. Locaci\xf3n",field:"idHospital",minWidth:150,sort:"asc"},{headerName:"Locaci\xf3n",field:"nombre",minWidth:150},{headerName:"Ciudad",field:"ciudad",minWidth:150},{headerName:"Gerente",field:"gerente",minWidth:150},{headerName:"Es Predeterminada",field:"esPredeterminada",minWidth:150}]}ngOnInit(){this.accesoService.tieneAcceso(J.v.AGREGAR_HOSPITAL).subscribe(e=>{this.tieneAccesoAgregar=e}),this.consultarGrid()}consultarGrid(){this.hospitalService.consultarPorCompaniaParaGrid().subscribe(e=>{this.hospitalList=e})}onGridClick(e){e.accion===u.g.GRID_ACCION_EDITAR?this.editar(e.data.idHospital):e.accion===u.g.GRID_ACCION_ELIMINAR&&this.eliminar(e.data)}agregar(){this.router.navigate(["administrador/configuracion-general/catalogo/locacion/form"],{queryParams:this.encryptionService.generateURL({accion:u.g.MODAL_ACCION_AGREGAR})})}editar(e){this.hospitalService.consultar(e).subscribe(t=>{this.router.navigate(["administrador/configuracion-general/catalogo/locacion/form"],{queryParams:this.encryptionService.generateURL({data:JSON.stringify(t),accion:u.g.MODAL_ACCION_EDITAR})})})}eliminar(e){this.modalMensajeService.modalConfirmacion("\xbfDesea eliminar la locaci\xf3n <strong>"+e.nombre+"</strong>?",this.TITULO_MODAL_ELIMINAR,u.g.ICONO_CRUZ).then(t=>{this.hospitalService.eliminar(e.idHospital).subscribe(i=>{this.modalMensajeService.modalExito(this.MENSAJE_EXITO_ELIMINAR),this.consultarGrid()})})}static#o=this.\u0275fac=function(t){return new(t||x)(o.Y36(K.V),o.Y36(M.a),o.Y36(ko.Q),o.Y36(to.C),o.Y36(N.F0))};static#e=this.\u0275cmp=o.Xpm({type:x,selectors:[["app-locacion"]],decls:8,vars:6,consts:[[1,"contenedor"],[1,"titulo-contenedor"],[1,"cuerpo-contenedor"],[1,"row"],[1,"col-md-12"],["class","contenedor-agregar",3,"click",4,"ngIf"],[3,"headerName","data","children","accesoEditar","accesoEliminar","event"],[1,"contenedor-agregar",3,"click"],[1,"btn-agregar"]],template:function(t,i){1&t&&(o.TgZ(0,"div",0)(1,"div",1),o._uU(2,"Locaciones"),o.qZA(),o.TgZ(3,"div",2)(4,"div",3)(5,"div",4),o.YNc(6,oe,3,0,"div",5),o.TgZ(7,"app-grid-general",6),o.NdJ("event",function(s){return i.onGridClick(s)}),o.qZA()()()()()),2&t&&(o.xp6(6),o.Q6J("ngIf",i.tieneAccesoAgregar),o.xp6(1),o.Q6J("headerName",i.HEADER_GRID)("data",i.hospitalList)("children",i.columns)("accesoEditar",i.accesoEditar)("accesoEliminar",i.accesoEliminar))},dependencies:[w.O5,Xo.$],encapsulation:2})}const ee=[{path:"",component:x,data:{title:"Consulta",acceso:J.v.CONSULTAR_IMPUESTO}},{path:"form",component:D}];class G{static#o=this.\u0275fac=function(t){return new(t||G)};static#e=this.\u0275mod=o.oAB({type:G});static#i=this.\u0275inj=o.cJS({imports:[N.Bz.forChild(ee),N.Bz]})}class Y{static#o=this.\u0275fac=function(t){return new(t||Y)};static#e=this.\u0275mod=o.oAB({type:Y});static#i=this.\u0275inj=o.cJS({providers:[M.a,d.s,X.$,f.r,eo.i,p.c,z.l,oo.F,V.B,g,k.G,h.R,E,Z],imports:[G,ro.m,no.Z,j.zk.forChild(),io.H3.forRoot()]})}}}]);