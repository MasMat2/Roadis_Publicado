"use strict";(self.webpackChunkroadis_app=self.webpackChunkroadis_app||[]).push([[1818],{85246:(T,f,a)=>{a.d(f,{B:()=>c});var o=a(94650),l=a(36895),C=a(58390);const _=["grid"];function d(p,g){if(1&p){const m=o.EpF();o.TgZ(0,"div",8),o.NdJ("click",function(){o.CHM(m);const e=o.oxw();return o.KtG(e.onAgregarClick())}),o.TgZ(1,"button",9),o._uU(2),o.qZA()()}if(2&p){const m=o.oxw();o.xp6(2),o.hij("Agregar ",m.tituloBoton," ")}}class c{constructor(){this.mostrarBotonExcel=!1,this.disableXLS=!1,this.gridClick=new o.vpe,this.agregarClick=new o.vpe,this.excelClick=new o.vpe,this.disableEdit=!0,this.disableDelete=!0}ngOnInit(){this.mapearAccesos()}mapearAccesos(){const g=this.crudConfig.configEliminar;g&&(this.accesoEliminar=g.acceso,this.disableDelete=!1);const m=this.crudConfig.formConfig,u=m&&m.configEditar;u&&(this.accesoEditar=u.acceso,this.disableEdit=!1)}onGridClick(g){this.gridClick.emit(g)}onAgregarClick(){this.agregarClick.emit()}onExcelClick(){this.excelClick.emit()}static#e=this.\u0275fac=function(m){return new(m||c)};static#i=this.\u0275cmp=o.Xpm({type:c,selectors:[["app-catalogo-base"]],viewQuery:function(m,u){if(1&m&&o.Gf(_,5),2&m){let e;o.iGM(e=o.CRH())&&(u.grid=e.first)}},inputs:{columns:"columns",titulo:"titulo",tituloBoton:"tituloBoton",gridOptions:"gridOptions",crudConfig:"crudConfig",elementos$:"elementos$",tieneAccesoAgregar$:"tieneAccesoAgregar$",mostrarBotonExcel:"mostrarBotonExcel",disableXLS:"disableXLS"},outputs:{gridClick:"gridClick",agregarClick:"agregarClick",excelClick:"excelClick"},decls:11,vars:17,consts:[[1,"contenedor"],[1,"titulo-contenedor",3,"hidden"],[1,"cuerpo-contenedor"],[1,"row"],[1,"col-12"],["class","contenedor-agregar",3,"click",4,"ngIf"],[3,"headerName","data","gridOptions","children","disableDelete","disableEdit","accesoEditar","accesoEliminar","mostrarBotonExcel","disableXLS","event","exportarExcelEvent"],["grid",""],[1,"contenedor-agregar",3,"click"],[1,"btn-agregar"]],template:function(m,u){1&m&&(o.TgZ(0,"div",0)(1,"div",1),o._uU(2),o.qZA(),o.TgZ(3,"div",2)(4,"div",3)(5,"div",4),o.YNc(6,d,3,1,"div",5),o.ALo(7,"async"),o.TgZ(8,"app-grid-general",6,7),o.NdJ("event",function(E){return u.onGridClick(E)})("exportarExcelEvent",function(){return u.onExcelClick()}),o.ALo(10,"async"),o.qZA()()()()()),2&m&&(o.xp6(1),o.Q6J("hidden",null==u.titulo),o.xp6(1),o.hij(" ",u.titulo," "),o.xp6(4),o.Q6J("ngIf",o.lcZ(7,13,u.tieneAccesoAgregar$)),o.xp6(2),o.Q6J("headerName",u.crudConfig.nombreEntidad)("data",o.lcZ(10,15,u.elementos$))("gridOptions",u.gridOptions)("children",u.columns)("disableDelete",u.disableDelete)("disableEdit",u.disableEdit)("accesoEditar",u.accesoEditar)("accesoEliminar",u.accesoEliminar)("mostrarBotonExcel",u.mostrarBotonExcel)("disableXLS",u.disableXLS))},dependencies:[l.O5,C.$,l.Ov]})}},92020:(T,f,a)=>{a.d(f,{A:()=>d});var o=a(20388),l=a(63405),C=a(71436),_=a(94650);class d{static#e=this.\u0275fac=function(g){return new(g||d)};static#i=this.\u0275mod=_.oAB({type:d});static#r=this.\u0275inj=_.cJS({imports:[l.m,C.a,o.zk.forChild()]})}},27974:(T,f,a)=>{a.d(f,{v:()=>_});var o=a(94540),l=a(40675),C=a(14815);class _{constructor(c,p,g){this.accesoService=c,this.bsModalService=p,this.mensajeService=g}onInit(){this.actualizarGrid(),this.consultarAccesoAgregar()}actualizarGrid(){this.registros$=this.consultarGrid()}consultarAccesoAgregar(){if(!this.crudConfig.formConfig)return;const c=this.crudConfig.formConfig.configAgregar;c&&(this.tieneAccesoAgregar$=this.accesoService.tieneAcceso(c.acceso))}onGridClick(c){const p=this.crudConfig.nombrePropiedadId,g=c.data[p];if(this.esConfig=c.data.esConfig??!1,"number"!=typeof g)throw new Error(`No se pudo obtener el id del elemento. La propiedad "${this.crudConfig.nombrePropiedadId}" no es un n\xfamero.`);({[o.gy.Editar]:()=>this.editar(g),[o.gy.Eliminar]:()=>this.confirmarEliminacion(c.data,g)})[c.accion]()}openForm(c,p){if(!this.crudConfig.formConfig)throw new Error('No se configur\xf3 la propiedad "formConfig" en el objeto "crudConfig"');const g=c===l.V_.Agregar?this.crudConfig.formConfig.configAgregar:this.crudConfig.formConfig.configEditar;if(!g){const e=c===l.V_.Editar?"configEditar":"configAgregar";throw new Error(`No se configur\xf3 la propiedad "${e}" en el objeto "crudConfig"`)}let m={accion:c,idEntidad:p,nombreEntidad:this.crudConfig.nombreEntidad,generoGramatical:this.crudConfig.generoGramatical,esConfig:this.esConfig,...g.params};m.onClose=e=>{e&&this.actualizarGrid(),u.hide()};const u=this.bsModalService.show(this.crudConfig.formConfig.ComponenteFormulario,{initialState:m,...this.crudConfig.formConfig.modalConfig})}agregar(c){void 0!==c?this.openForm(l.V_.Agregar,c):this.openForm(l.V_.Agregar)}editar(c){this.openForm(l.V_.Editar,c)}confirmarEliminacion(c,p){if(!this.crudConfig.configEliminar)throw new Error('No se configur\xf3 la propiedad "configEliminar" en el objeto "crudConfig"');const g=`Eliminar ${this.crudConfig.nombreEntidad}`,[m,u]="masc"===this.crudConfig.generoGramatical?["El","eliminado"]:["La","eliminada"],S=`\xbfDesea eliminar ${`${m.toLowerCase()} ${this.crudConfig.nombreEntidad.toLowerCase()}`}: <strong>${this.crudConfig.configEliminar.elementToString(c)}</strong>?`;this.mensajeService.modalConfirmacion(S,g,C.m.Cruz).then(()=>{const Z=`${m} ${this.crudConfig.nombreEntidad.toLowerCase()} ha sido ${u}`;this.eliminar(p).subscribe(()=>{this.mensajeService.modalExito(Z),this.actualizarGrid()})}).catch(()=>{})}}},70615:(T,f,a)=>{a.d(f,{P:()=>C});var o=a(40675),l=a(90429);class C{constructor(d){this.mensajeService=d,this.submitting=!1,this.entidad={}}onInit(){this.accion===o.V_.Editar&&this.idEntidad&&this.consultar(this.idEntidad).subscribe({next:d=>{this.entidad=d}})}onSubmit(d){if(this.submitting=!0,!d.valid)return l.CW(d),void(this.submitting=!1);const[c,p]="masc"===this.generoGramatical?["El","o"]:["La","a"],g=this.accion===o.V_.Agregar?`agregad${p}`:`modificad${p}`,m=`${c} ${this.nombreEntidad.toLocaleLowerCase()} ha sido ${g}`;(this.accion===o.V_.Agregar?this.agregar(this.entidad):this.editar(this.entidad)).subscribe({next:()=>{this.mensajeService.modalExito(m),this.onClose(!0)},error:()=>{this.submitting=!1}})}cancelar(d){d=d??!1,this.onClose(d)}}},40675:(T,f,a)=>{a.d(f,{V_:()=>l,aQ:()=>_,vf:()=>C});var l,d;a(40675);(d=l||(l={})).Agregar="Agregar",d.Editar="Editar",d.Ver="Consultar";const C="Seleccione una opci\xf3n",_="No hay opciones disponibles"},14815:(T,f,a)=>{var o,l;a.d(f,{m:()=>o}),(l=o||(o={})).Cruz="fa fa-times",l.Pesos="fa fa-dollar-sign",l.Cambio="fas fa-exchange-alt",l.CheckOut="fas fa-door-open",l.Exito="fas fa-check"},94540:(T,f,a)=>{a.d(f,{gy:()=>l,sO:()=>C});var l,_;a(94540);(_=l||(l={})).Editar="edit",_.Eliminar="delete",_.Ver="see",_.DescargarPdf="DescargarPdf",_.Revisar="Revisar",_.Presentar="presentar";const C={headerName:"",field:"",cellClass:"center-ag",minWidth:44,maxWidth:44,suppressMovable:!0,resizable:!1,filter:!1,lockPinned:!0,pinned:"right",lockPosition:!0}},1818:(T,f,a)=>{a.r(f),a.d(f,{JerarquiaAccesoModule:()=>P});var o=a(42612),l=a(8816),C=a(20388),_=a(63405),d=a(63666),c=a(43357),p=a(8981),g=a(88796),m=a(87682),u=a(41283),e=a(94650);class E{static#e=this.\u0275fac=function(i){return new(i||E)};static#i=this.\u0275mod=e.oAB({type:E});static#r=this.\u0275inj=e.cJS({providers:[o.H,p.J,c.z],imports:[_.m,u.Z,g.A0,d.xc,m.jA,C.zk.forChild()]})}var S=a(9116),Z=a(13050),I=a(27974),j=a(85087),x=a(50986),A=a(15861),L=a(70615),N=a(54004),D=a(62861),y=a(2060),b=a(24006),F=a(36895);const G=["angularGrid"];function R(h,r){1&h&&(e.TgZ(0,"div",26),e._uU(1," El nombre es requerido "),e.qZA())}const U=function(h){return{"node-expander-virtual":h}};function w(h,r){if(1&h){const i=e.EpF();e.TgZ(0,"div",49)(1,"div",50),e.NdJ("click",function(){e.CHM(i);const n=e.oxw().$implicit,s=e.oxw(2);return e.KtG(s.eliminarJerarquiaEstructura(n.data))}),e.qZA()()}if(2&h){const i=e.oxw().$implicit,t=e.oxw(2);e.Q6J("ngClass",e.VKq(3,U,i.isLeaf&&!i.hasChildren)),e.xp6(1),e.ekj("delete-disabled",t.submitting)}}function B(h,r){if(1&h){const i=e.EpF();e.TgZ(0,"div",45),e.NdJ("dblclick",function(n){const v=e.CHM(i).$implicit;return e.KtG(v.mouseAction("dblClick",n))}),e._UZ(1,"tree-node-expander",46),e.YNc(2,w,2,5,"div",47),e.TgZ(3,"tree-node-content",48),e.NdJ("click",function(){const s=e.CHM(i).$implicit,v=e.oxw(2);return e.KtG(v.seleccionarCuentaPadre(s.data))}),e.qZA()()}if(2&h){const i=r.$implicit,t=r.index;e.Q6J("ngClass","fondo-impar"),e.xp6(1),e.Q6J("node",i),e.xp6(1),e.Q6J("ngIf","Evento"!=i.data.tipoAcceso),e.xp6(1),e.Q6J("node",i)("index",t)}}function k(h,r){if(1&h){const i=e.EpF();e.TgZ(0,"div",10),e._UZ(1,"div",27),e.TgZ(2,"div",28)(3,"div",29)(4,"div",30)(5,"span",31),e._uU(6,"Jerarqu\xeda"),e.qZA(),e.TgZ(7,"tree-root",32,33),e.YNc(9,B,4,5,"ng-template",null,34,e.W1O),e.qZA()()(),e.TgZ(11,"div",29)(12,"div",10)(13,"div",28)(14,"div",35)(15,"div",13)(16,"label",14),e._uU(17,"Acceso Padre"),e.qZA(),e.TgZ(18,"ng-select",36,37),e.NdJ("ngModelChange",function(n){e.CHM(i);const s=e.oxw();return e.KtG(s.idJerarquiaPadre=n)}),e.qZA()()()(),e.TgZ(20,"div",38)(21,"div",39)(22,"div",40),e._uU(23,"Accesos"),e.qZA(),e.TgZ(24,"db-angular-tree-grid",41,42),e.NdJ("expand",function(n){e.CHM(i);const s=e.oxw();return e.KtG(s.onExpand(n))})("rowselect",function(n){e.CHM(i);const s=e.oxw();return e.KtG(s.onSelectionChange(n,!0))})("rowdeselect",function(n){e.CHM(i);const s=e.oxw();return e.KtG(s.onSelectionChange(n,!1))})("rowselectall",function(){e.CHM(i);const n=e.oxw();return e.KtG(n.onSelectAll(!0))})("rowdeselectall",function(){e.CHM(i);const n=e.oxw();return e.KtG(n.onSelectAll(!1))}),e.qZA()()(),e.TgZ(26,"div",38)(27,"div",43)(28,"button",44),e.NdJ("click",function(){e.CHM(i);const n=e.oxw();return e.KtG(n.onAgregarClick())}),e._uU(29," Agregar "),e.qZA()()()()()()()}if(2&h){const i=e.oxw();e.xp6(7),e.Q6J("nodes",i.jerarquiaArbol)("options",i.options),e.xp6(11),e.Q6J("items",i.jerarquiaSelectorList)("ngModel",i.idJerarquiaPadre)("placeholder",i.placeholderSelect)("notFoundText",i.placeholderNoOptions),e.xp6(6),e.Q6J("data",i.accesos)("configs",i.configTree),e.xp6(4),e.Q6J("disabled",i.disableAgregar)}}function $(h,r){1&h&&(e.TgZ(0,"div",51),e._UZ(1,"img",52),e.TgZ(2,"span"),e._uU(3,"Cargando... por favor espere"),e.qZA()())}function Q(h,r){1&h&&(e.TgZ(0,"div",51),e._UZ(1,"img",52),e.TgZ(2,"span"),e._uU(3,"Procesando... por favor espere"),e.qZA()())}class M extends L.P{constructor(r,i,t,n,s){super(s),this.jerarquiaAccesoService=r,this.jerarquiaAccesoEstructuraService=i,this.tipoCompaniaService=t,this.accesoService=n,this.TITULO_MODAL_ELIMINAR="Eliminar Jerarqu\xeda Estructura",this.MENSAJE_EXITO_ELIMINAR="La estructura de jerarqu\xeda ha sido eliminada",this.MENSAJE_EXITO_AGREGAR_ESTRUCTURA="Las estructuras de jerarqu\xeda han sido agregadas",this.elementosSeleccionados=[],this.accesos=[],this.gridAccesoColumns=[{name:"nombre",header:"Descripci\xf3n"},{name:"tipoAcceso",header:"Tipo Acceso",css_class:"tree-cell"}],this.configTree={id_field:"idAcceso",parent_id_field:"idAccesoPadre",parent_display_field:"nombre",data_loading_text:"Cargando...",multi_select:!0,cascade_selection:!0,css:{expand_class:"fa fa-caret-right",collapse_class:"fa fa-caret-down",row_selection_class:"row-select",table_class:"grid-table-tree"},columns:this.gridAccesoColumns},this.jerarquiaArbol=[],this.options={displayField:"cuenta",isExpandedField:"expanded",idField:"idJerarquiaEstructura",childrenField:"hijos",useCheckbox:!1,useTriState:!1,actionMapping:{mouse:{dblClick:d.iM.TOGGLE_EXPANDED}}},this.jerarquiaSelectorList=[],this.tipoCompaniaList=[],this.placeholderSelect=x.g.PLACEHOLDER_DROPDOWN,this.placeholderNoOptions=x.g.PLACEHOLDER_DROPDOWN_NO_OPTIONS,this.configJerarquiaPadre=Object.assign({labelField:"cuenta",valueField:"idJerarquiaEstructura",searchField:["cuenta"]},x.g.CONFIG_DROPDOWN_DEFAULT),this.configTipoCompania=Object.assign({labelField:"nombre",valueField:"idTipoCompania",searchField:["nombre"],dropdownParent:"body",plugins:["dropdown_direction","remove_button"],maxItems:null,dropdownDirection:"down"}),this.jerarquiaEstructura={},this.disableAgregar=!0,this.loading=!0,this.deshabilitacionEventos=!1}ngOnInit(){var r=()=>super.onInit,i=this;return(0,A.Z)(function*(){yield r().call(i),i.consultarSelectores(),i.actualizarInformacion()})()}consultarArbol(){var r=this;return(0,A.Z)(function*(){return(yield r.jerarquiaAccesoEstructuraService.consultarArbol(r.idEntidad).toPromise())??[]})()}consultarSelector(){var r=this;return(0,A.Z)(function*(){return(yield r.jerarquiaAccesoEstructuraService.consultarPorJerarquiaParaSelector(r.idEntidad).toPromise())??[]})()}consultarGrid(){var r=this;return(0,A.Z)(function*(){return(yield r.accesoService.consultarParaReporteArbol(0).toPromise())??[]})()}consultarTiposCompania(){var r=this;return(0,A.Z)(function*(){return(yield r.tipoCompaniaService.consultarParaSelector().toPromise())??[]})()}consultarSelectores(){var r=this;return(0,A.Z)(function*(){r.tipoCompaniaList=yield r.consultarTiposCompania().catch(()=>[])})()}actualizarInformacion(){var r=this;return(0,A.Z)(function*(){if(!r.esEditar())return void(r.loading=!1);let i=r.consultarArbol(),t=r.consultarSelector(),n=r.consultarGrid();return Promise.all([i,t,n]).then(s=>{r.idJerarquiaPadre=void 0,r.elementosSeleccionados=[],r.jerarquiaArbol=s[0],r.jerarquiaSelectorList=s[1],r.accesos=s[2]}).catch(s=>{}).finally(()=>{r.loading=!1})})()}seleccionarCuentaPadre(r){"Evento"!=r.tipoAcceso&&(this.idJerarquiaPadre=r.idJerarquiaEstructura)}obtenerJerarquiasSeleccionadas(){let r=[];return this.elementosSeleccionados.forEach(i=>{let t={};t.idJerarquiaAcceso=this.entidad.idJerarquiaAcceso,t.idJerarquiaAccesoEstructuraPadre=this.idJerarquiaPadre,t.idAcceso=i.idAcceso,t.idAccesoPadre=i.idAccesoPadre,r.push(t)}),r}onSelectionChange(r,i){let t=r.data,n=this.angularGrid.store.getDisplayData();const s=n.findIndex(J=>J.idAcceso===t.idAcceso),v=s+t.cantidadDescendientes;for(let J=s;J<=v;J++){const z=n[J];this.angularGrid.store.display_data[J].row_selected=i,i?this.elementosSeleccionados.push(n[J]):this.elementosSeleccionados=this.elementosSeleccionados.filter(Y=>Y.idAcceso!=z.idAcceso)}this.actualizarBotonAgregar()}onExpand(r){this.deshabilitacionEventos||(this.deshabilitacionEventos=!0)}onSelectAll(r){this.elementosSeleccionados=r?this.accesos:[],this.actualizarBotonAgregar()}deshabilitarEventos(){let r=this.angularGrid.store.getDisplayData();const t=r.length-1;for(let n=0;n<=t;n++)"Evento"===r[n].tipoAcceso&&(this.angularGrid.store.display_data[n].selection_disabled=!0)}actualizarBotonAgregar(){this.submitting||(this.disableAgregar=this.elementosSeleccionados.length<=0)}onAgregarClick(){var r=this;return(0,A.Z)(function*(){r.disableAgregar=!0,r.submitting=!0,yield r.agregarNodosSeleccionados(),r.submitting=!1,r.elementosSeleccionados=[],r.actualizarBotonAgregar()})()}agregarNodosSeleccionados(){var r=this;return(0,A.Z)(function*(){let i=r.obtenerJerarquiasSeleccionadas();yield r.agregarJerarquiaEstructura(i)})()}agregarJerarquiaEstructura(r){var i=this;return(0,A.Z)(function*(){return i.jerarquiaAccesoEstructuraService.agregar(r).toPromise().then(function(){var t=(0,A.Z)(function*(n){yield i.actualizarInformacion(),i.mensajeService.modalExito(i.MENSAJE_EXITO_AGREGAR_ESTRUCTURA)});return function(n){return t.apply(this,arguments)}}()).catch(t=>{})})()}eliminarJerarquiaEstructura(r){var i=this;return(0,A.Z)(function*(){if(i.submitting)return;let t=!1;yield i.mensajeService.modalConfirmacion(`\n        \xbfDesea eliminar la estructura de jerarqu\xeda <strong>'${r.cuenta}'</strong>?\n        Tambi\xe9n se eliminar\xe1n las jerarqu\xedas hijas.\n      `,i.TITULO_MODAL_ELIMINAR,x.g.ICONO_CRUZ).catch(n=>{t=!0}),!t&&(i.disableAgregar=!0,i.submitting=!0,i.jerarquiaAccesoEstructuraService.eliminar(r.idJerarquiaEstructura).toPromise().then(function(){var n=(0,A.Z)(function*(s){yield i.actualizarInformacion(),i.mensajeService.modalExito(i.MENSAJE_EXITO_ELIMINAR)});return function(s){return n.apply(this,arguments)}}()).catch(n=>{}).finally(()=>{i.disableAgregar=!1,i.submitting=!1}))})()}esEditar(){return this.accion==x.g.MODAL_ACCION_EDITAR}agregar(r){return this.jerarquiaAccesoService.agregar(r).pipe((0,N.U)(()=>{}))}editar(r){return this.jerarquiaAccesoService.editar(r)}consultar(r){return this.jerarquiaAccesoService.consultar(r)}static#e=this.\u0275fac=function(i){return new(i||M)(e.Y36(o.H),e.Y36(p.J),e.Y36(c.z),e.Y36(D.Q),e.Y36(y.V))};static#i=this.\u0275cmp=e.Xpm({type:M,selectors:[["app-jerarquia-acceso-formulario"]],viewQuery:function(i,t){if(1&i&&e.Gf(G,5),2&i){let n;e.iGM(n=e.CRH())&&(t.angularGrid=n.first)}},features:[e.qOj],decls:39,vars:14,consts:[[1,"d-flex"],[1,"barra-lateral-modal"],[1,"fa","fa-plus"],[1,"modal-content"],[1,"modal-header"],["type","button","aria-label","Close",1,"close","pull-right",3,"click"],[1,"far","fa-times-circle"],["novalidate","novalidate",3,"keydown.enter","ngSubmit"],["formulario","ngForm"],["id","modal",1,"cuerpo-contenedor"],[1,"container"],[1,"row","d-flex","justify-content-center"],[1,"col-md-4"],[1,"form-group"],[1,"label-input","required-label"],["name","nombreName","type","text","maxlength","200","required","required","autocomplete","off",1,"form-control",3,"ngModel","ngModelChange"],["nombre","ngModel"],["class","error",4,"ngIf"],["name","tipoCompania","bindLabel","nombre","bindValue","idTipoCompania","appendTo","body",3,"items","multiple","placeholder","notFoundText","ngModel","required","ngModelChange"],["tipoCompania","ngModel"],["class","container",4,"ngIf"],[1,"modal-footer"],[1,"text-right"],["type","button",1,"btn-secundario","btn-margin-left",3,"click"],["type","submit",1,"btn-primario","btn-margin-left",3,"disabled"],["id","loading-cdis",4,"ngIf"],[1,"error"],[1,"separador"],[1,"row"],[1,"col-md-6"],[1,"form-group","contenedor-jerarquia"],[2,"font-weight","600"],[3,"nodes","options"],["tree",""],["treeNodeWrapperTemplate",""],[1,"col-md-12"],["name","jerarquiaPadreName","bindLabel","cuenta","bindValue","idJerarquiaEstructura",1,"select-custom",3,"items","ngModel","placeholder","notFoundText","ngModelChange"],["jerarquiaPadre","ngModel"],[1,"row","mb-4"],[1,"col-md-12","accesos"],[1,"subseccion"],[3,"data","configs","expand","rowselect","rowdeselect","rowselectall","rowdeselectall"],["angularGrid",""],[1,"col-md-12","d-flex","justify-content-center"],["type","button",1,"btn-terceario","btn-margin-left",3,"disabled","click"],[1,"node-wrapper",3,"ngClass","dblclick"],[3,"node"],["class","checkbox mr-1",3,"ngClass",4,"ngIf"],[3,"node","index","click"],[1,"checkbox","mr-1",3,"ngClass"],["type","button",1,"delete",3,"click"],["id","loading-cdis"],["src","assets/img/spinner.gif","alt","Procesando..."]],template:function(i,t){if(1&i){const n=e.EpF();e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"i",2),e.qZA(),e.TgZ(3,"div",3)(4,"div",4)(5,"div"),e._uU(6),e.qZA(),e.TgZ(7,"button",5),e.NdJ("click",function(){return t.cancelar()}),e._UZ(8,"i",6),e.qZA()(),e.TgZ(9,"form",7,8),e.NdJ("keydown.enter",function(v){return v.preventDefault()})("ngSubmit",function(){e.CHM(n);const v=e.MAs(10);return e.KtG(t.onSubmit(v))}),e.TgZ(11,"div",9)(12,"div",10)(13,"div",11)(14,"div",12)(15,"div",13)(16,"label",14),e._uU(17,"Nombre"),e.qZA(),e.TgZ(18,"div")(19,"input",15,16),e.NdJ("ngModelChange",function(v){return t.entidad.nombre=v}),e.qZA(),e.YNc(21,R,2,0,"div",17),e.qZA()()(),e.TgZ(22,"div",12)(23,"div",13)(24,"label",14),e._uU(25,"Tipo Compania"),e.qZA(),e.TgZ(26,"div")(27,"ng-select",18,19),e.NdJ("ngModelChange",function(v){return t.entidad.idsTipoCompania=v}),e.qZA()()()()(),e.YNc(29,k,30,9,"div",20),e.qZA(),e.TgZ(30,"div",21)(31,"div",22)(32,"button",23),e.NdJ("click",function(){return t.cancelar()}),e._uU(33),e.qZA()(),e.TgZ(34,"div",22)(35,"button",24),e._uU(36," Guardar "),e.qZA()()()()()()(),e.YNc(37,$,4,0,"div",25),e.YNc(38,Q,4,0,"div",25)}if(2&i){const n=e.MAs(20);e.xp6(6),e.hij("",t.accion," Jerarqu\xeda de Accesos"),e.xp6(13),e.Q6J("ngModel",t.entidad.nombre),e.xp6(2),e.Q6J("ngIf",(null==n.errors?null:n.errors.required)&&n.touched),e.xp6(6),e.Q6J("items",t.tipoCompaniaList)("multiple",!0)("placeholder",t.placeholderSelect)("notFoundText",t.placeholderNoOptions)("ngModel",t.entidad.idsTipoCompania)("required",!0),e.xp6(2),e.Q6J("ngIf",t.esEditar()),e.xp6(4),e.hij(" ",t.esEditar()?"Cerrar":"Cancelar"," "),e.xp6(2),e.Q6J("disabled",t.submitting),e.xp6(2),e.Q6J("ngIf",t.loading),e.xp6(1),e.Q6J("ngIf",t.submitting)}},dependencies:[b._Y,b.Fj,b.JJ,b.JL,b.Q7,b.nD,b.On,b.F,F.mk,F.O5,g.w9,d.qr,d.rO,d.kj,m.oX],styles:[".delete[_ngcontent-%COMP%]{background-image:url(ico-15x15-Eliminar.0e6e10f0125d927b.svg);background-repeat:no-repeat;cursor:pointer;width:15px;height:15px;display:block}.delete-disabled[_ngcontent-%COMP%]{cursor:default}  db-angular-tree-grid{display:block;max-height:400px;overflow-y:scroll}thead[_ngcontent-%COMP%], tbody[_ngcontent-%COMP%], tfoot[_ngcontent-%COMP%], tr[_ngcontent-%COMP%], td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{border-color:inherit;border-style:solid;border-width:0}.cuerpo-contenedor[_ngcontent-%COMP%]{max-height:70vh;overflow-y:scroll}  tree-viewport{max-height:460px;overflow-y:scroll}"]})}var K=a(85246);class O extends I.v{constructor(r,i,t,n){super(i,t,n),this.jerarquiaAccesoService=r,this.NOMBRE_ENTIDAD="Jerarqu\xeda de Acceso",this.crudConfig={nombreEntidad:this.NOMBRE_ENTIDAD,generoGramatical:"fem",nombrePropiedadId:"idJerarquiaAcceso",formConfig:{ComponenteFormulario:M,modalConfig:x.g.CONFIG_MODAL_LARGE,configAgregar:{acceso:j.v.AGREGAR_JERARQUIA_ACCESO},configEditar:{acceso:j.v.EDITAR_JERARQUIA_ACCESO}},configEliminar:{acceso:j.v.ELIMINAR_JERARQUIA_ACCESO,elementToString:s=>s.nombre}},this.columns=[{headerName:"Nombre",field:"nombre",minWidth:150},{headerName:"Tipo Compa\xf1\xeda",field:"nombreTipoCompania",minWidth:150}]}ngOnInit(){super.onInit()}consultarGrid(){return this.jerarquiaAccesoService.consultarParaGrid()}eliminar(r){return this.jerarquiaAccesoService.eliminar(r)}static#e=this.\u0275fac=function(i){return new(i||O)(e.Y36(o.H),e.Y36(D.Q),e.Y36(C.tT),e.Y36(y.V))};static#i=this.\u0275cmp=e.Xpm({type:O,selectors:[["app-jerarquia-acceso"]],features:[e.qOj],decls:1,vars:4,consts:[["titulo","Jerarqu\xeda de Acceso","tituloBoton","Jerarqu\xeda de Acceso",3,"columns","crudConfig","elementos$","tieneAccesoAgregar$","agregarClick","gridClick"]],template:function(i,t){1&i&&(e.TgZ(0,"app-catalogo-base",0),e.NdJ("agregarClick",function(){return t.agregar()})("gridClick",function(s){return t.onGridClick(s)}),e.qZA()),2&i&&e.Q6J("columns",t.columns)("crudConfig",t.crudConfig)("elementos$",t.registros$)("tieneAccesoAgregar$",t.tieneAccesoAgregar$)},dependencies:[K.B]})}const W=[{path:"",component:O,canActivate:[Z.m],data:{title:"Jerarqu\xeda Acceso"}}];class q{static#e=this.\u0275fac=function(i){return new(i||q)};static#i=this.\u0275mod=e.oAB({type:q});static#r=this.\u0275inj=e.cJS({imports:[S.Bz.forChild(W),S.Bz]})}var H=a(92020);class P{static#e=this.\u0275fac=function(i){return new(i||P)};static#i=this.\u0275mod=e.oAB({type:P});static#r=this.\u0275inj=e.cJS({providers:[o.H],imports:[q,H.A,_.m,l.f,C.zk.forRoot(),E]})}}}]);