"use strict";(self.webpackChunkroadis_app=self.webpackChunkroadis_app||[]).push([[9738],{51763:(Q,C,r)=>{r.d(C,{m:()=>u});var p=r(94650),b=r(80529);class u{constructor(s){this.http=s,this.dataUrl="contratista/"}consultarParaFormulario(s){return this.http.get(this.dataUrl+`formulario/${s}`)}consultarParaGrid(){return this.http.get(this.dataUrl+"grid")}consultarParaSelector(){return this.http.get(this.dataUrl+"selector")}consultarPorLocacion(s){return this.http.post(this.dataUrl+"selector",s)}agregar(s){return this.http.post(this.dataUrl,s)}editar(s){return this.http.put(this.dataUrl,s)}editarAnexos(s){return this.http.put(this.dataUrl+"editarAnexos",s)}eliminar(s){return this.http.delete(this.dataUrl+`${s}`)}descargar(s){return this.http.get(this.dataUrl+`descargar/${s}`)}almacenar(s){return this.http.post(this.dataUrl+"almacenar",s)}consultarGrafica(){return this.http.get(this.dataUrl+"grafica")}descargarXls(){return this.http.post(this.dataUrl+"xls",null)}static#e=this.\u0275fac=function(g){return new(g||u)(p.LFG(b.eN))};static#t=this.\u0275prov=p.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"})}},79738:(Q,C,r)=>{r.r(C),r.d(C,{ReporteControlCumplimientoRevisionesModule:()=>T});var p=r(36895),b=r(8816),u=r(63405),O=r(90061),s=r(3930),g=r(20388),S=r(9116),k=r(24945),I=r(13050),h=r(50986);class y{constructor(){this.idsEstatusRevision=[],this.idsContratista=[],this.idsDepartamento=[],this.idsTipoObservacion=[],this.idsProyecto=[],this.idsObservacionAtendida=[],this.idsOrigenObservacion=[],this.idsClasificacion=[]}}var e=r(94650),w=r(80529);class m{constructor(o){this.http=o,this.url="reporteControlCumplimientoRevisiones/"}registrarLogOut(){return this.http.post(this.url+"registrarLogOut",{})}descargarPdfPorFiltro(o){return this.http.post(this.url+"descargarPdfPorFiltro",o,{responseType:"arrayBuffer",observe:"response"})}descargarXlsPorFiltro(o){return this.http.post(this.url+"descargarXlsPorFiltro",o)}consultarContratistas(){return this.http.get(this.url+"contratistas")}consultarDepartamentos(){return this.http.get(this.url+"departamento")}consultarTipoObservacion(){return this.http.get(this.url+"tipoObservacion")}consultarProyecto(){return this.http.get(this.url+"proyecto")}consultarOrigObservacion(){return this.http.get(this.url+"origObservacion")}consultarReporteGrid(o){return this.http.post(this.url+"consultarReporteGrid",o)}static#e=this.\u0275fac=function(i){return new(i||m)(e.LFG(w.eN))};static#t=this.\u0275prov=e.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"})}var x=r(58390),v=r(37084);function H(n,o){if(1&n&&(e.TgZ(0,"mat-accordion",9)(1,"mat-expansion-panel",10)(2,"mat-expansion-panel-header")(3,"mat-panel-title")(4,"div",11),e._uU(5),e.qZA()()(),e.TgZ(6,"div",12)(7,"div",13)(8,"div",14),e._UZ(9,"app-grid-general",15,16),e.qZA()()()()()),2&n){const i=o.$implicit,t=o.index,d=e.oxw();e.xp6(1),e.Q6J("expanded",0==t),e.xp6(4),e.hij(" ",i.nombreContratista," "),e.xp6(4),e.Q6J("headerName","")("data",i.reporte)("children",d.columns)("disableEdit",!0)("disableDelete",!0)}}class f{constructor(o,i){this.reporteControlCumplimientoRevisionesService=o,this.location=i,this.filtro=new y,this.columns=[{headerName:"Proyecto",field:"nombreProyecto",minWidth:150},{headerName:"Identificadas",field:"identificadas",minWidth:150},{headerName:"Positivas",field:"positivas",minWidth:150},{headerName:"Negativas",field:"negativas",minWidth:150},{headerName:"Atendidas",field:"atendidas",minWidth:150},{headerName:"No Atendidas",field:"noAtendidas",minWidth:150},{headerName:"Avace %",field:"avance",minWidth:150}]}ngOnInit(){}regresar(){this.location.back()}cancelar(){this.onCloseCallback&&this.onCloseCallback(!0)}static#e=this.\u0275fac=function(i){return new(i||f)(e.Y36(m),e.Y36(p.Ye))};static#t=this.\u0275cmp=e.Xpm({type:f,selectors:[["app-reporte-control-grid"]],inputs:{reporteCompleto:"reporteCompleto"},decls:12,vars:1,consts:[[1,"modal-content"],[1,"modal-header"],["type","button","aria-label","Close",1,"close","pull-right",3,"click"],[1,"far","fa-times-circle"],[1,"modal-body"],["multi","true",4,"ngFor","ngForOf"],[1,"modal-footer"],[1,"text-right"],[1,"btn-secundario",3,"click"],["multi","true"],[3,"expanded"],[1,"subseccion"],[1,"cuerpo-contenedor"],[1,"row"],[1,"col-md-12"],[3,"headerName","data","children","disableEdit","disableDelete"],["gridReporte",""]],template:function(i,t){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div"),e._uU(3,"Tabla Control de Cumplimiento de Revisiones - Resumen por Contratista"),e.qZA(),e.TgZ(4,"button",2),e.NdJ("click",function(){return t.cancelar()}),e._UZ(5,"i",3),e.qZA()(),e.TgZ(6,"div",4),e.YNc(7,H,11,7,"mat-accordion",5),e.TgZ(8,"div",6)(9,"div",7)(10,"button",8),e.NdJ("click",function(){return t.cancelar()}),e._uU(11," Cerrar "),e.qZA()()()()()),2&i&&(e.xp6(7),e.Q6J("ngForOf",t.reporteCompleto))},dependencies:[p.sg,x.$,v.pp,v.ib,v.yz,v.yK]})}var G=r(90429),U=r(51763),F=r(91647),L=r(40429),P=r(17462),J=r(74654),B=r(94910),c=r(24006),_=r(88796);function j(n,o){1&n&&(e.TgZ(0,"label"),e._uU(1," Todos "),e.qZA())}function W(n,o){if(1&n&&(e.TgZ(0,"label"),e._uU(1),e.qZA()),2&n){const i=o.item;e.xp6(1),e.hij(" ",i.nombre," ")}}function X(n,o){1&n&&(e.TgZ(0,"label"),e._uU(1," Todos "),e.qZA())}function z(n,o){if(1&n&&(e.TgZ(0,"label"),e._uU(1),e.qZA()),2&n){const i=o.item;e.xp6(1),e.hij(" ",i.nombreComercial," ")}}function V(n,o){1&n&&(e.TgZ(0,"div",62),e._uU(1," El contratista es requerido "),e.qZA())}function K(n,o){1&n&&(e.TgZ(0,"label"),e._uU(1," Todos "),e.qZA())}function $(n,o){if(1&n&&(e.TgZ(0,"label"),e._uU(1),e.qZA()),2&n){const i=o.item;e.xp6(1),e.hij(" ",i.nombre," ")}}function ee(n,o){1&n&&(e.TgZ(0,"label"),e._uU(1," Todos "),e.qZA())}function te(n,o){if(1&n&&(e.TgZ(0,"label"),e._uU(1),e.qZA()),2&n){const i=o.item;e.xp6(1),e.hij(" ",i.nombre," ")}}function oe(n,o){1&n&&(e.TgZ(0,"label"),e._uU(1," Todos "),e.qZA())}function ie(n,o){if(1&n&&(e.TgZ(0,"label"),e._uU(1),e.qZA()),2&n){const i=o.item;e.xp6(1),e.hij(" ",i.nombre," ")}}function ne(n,o){1&n&&(e.TgZ(0,"label"),e._uU(1," Todos "),e.qZA())}function le(n,o){if(1&n&&(e.TgZ(0,"label"),e._uU(1),e.qZA()),2&n){const i=o.item;e.xp6(1),e.hij(" ",i.nombre," ")}}function re(n,o){1&n&&(e.TgZ(0,"label"),e._uU(1," Todos "),e.qZA())}function ae(n,o){if(1&n&&(e.TgZ(0,"label"),e._uU(1),e.qZA()),2&n){const i=o.item;e.xp6(1),e.hij(" ",i.nombre," ")}}function se(n,o){1&n&&(e.TgZ(0,"label"),e._uU(1," Todos "),e.qZA())}function de(n,o){if(1&n&&(e.TgZ(0,"label"),e._uU(1),e.qZA()),2&n){const i=o.item;e.xp6(1),e.hij(" ",i.nombre," ")}}function ce(n,o){1&n&&e._UZ(0,"i",63)}function pe(n,o){1&n&&e._UZ(0,"i",64)}class A{constructor(o,i,t,d,a,l,ge,he,ve,fe){this.reporteControlCumplimientoRevisionesService=o,this.location=i,this.contratistaService=t,this.proyectoRevSegService=d,this.origenObservacionService=a,this.tipoObservacion=l,this.departamentoService=ge,this.bsModalRef=he,this.modalService=ve,this.clasificacionService=fe,this.nombreArchivo="Reporte Control Cumplimiento Revisiones.pdf",this.configDate=h.g.CONFIG_DATEPICKER,this.configDateAnio=h.g.CONFIG_DATEPICKER_YEAR,this.placeHolderSelect=h.g.PLACEHOLDER_DROPDOWN,this.placeHolderNoOptions=h.g.PLACEHOLDER_DROPDOWN_NO_OPTIONS,this.isCollapsed=!0,this.estatusList=[{nombre:"Activo",idEstatus:"1",selectedAllGroup:"selectedAllGroup"},{nombre:"Inactivo",idEstatus:"0",selectedAllGroup:"selectedAllGroup"}],this.obsAtendidaList=[{nombre:"Si",idObservacionAtendida:"1",selectedAllGroup:"selectedAllGroup"},{nombre:"No",idObservacionAtendida:"0",selectedAllGroup:"selectedAllGroup"}],this.contratistaList=new Array,this.departamentoList=new Array,this.tipoObservacionList=new Array,this.proyectoList=new Array,this.oriObservacionList=new Array,this.clasificacionList=new Array,this.todos=!1,this.b64toBlob=(Ce,be="",q=512)=>{const E=atob(Ce),D=[];for(let M=0;M<E.length;M+=q){const N=E.slice(M,M+q),Y=new Array(N.length);for(let Z=0;Z<N.length;Z++)Y[Z]=N.charCodeAt(Z);const _e=new Uint8Array(Y);D.push(_e)}return new Blob(D,{type:be})}}ngOnInit(){this.filtro=new y,this.filtro.claveSeguridad=null,this.filtro.descargarTodas=!1,this.consultasInicial()}consultasInicial(){this.consultarContratistas(),this.consultarDepartamento(),this.consultarTipoObservacion(),this.consultarProyecto(),this.consultarOrigObservacion(),this.consultarClasificacion()}consultarContratistas(){this.contratistaService.consultarParaSelector().subscribe(o=>{this.contratistaList=o,this.contratistaList.forEach(i=>{i.selectedAllGroup="selectedAllGroup"})})}consultarDepartamento(){this.departamentoService.consultarTodosParaSelector().subscribe(o=>{this.departamentoList=o,this.departamentoList.forEach(i=>{i.selectedAllGroup="selectedAllGroup"})})}consultarTipoObservacion(){this.tipoObservacion.consultarParaSelector().subscribe(o=>{this.tipoObservacionList=o,this.tipoObservacionList.forEach(i=>{i.selectedAllGroup="selectedAllGroup"})})}consultarProyecto(){this.proyectoRevSegService.consultarParaSelector().subscribe(o=>{this.proyectoList=o,this.proyectoList.forEach(i=>{i.selectedAllGroup="selectedAllGroup"})})}consultarOrigObservacion(){this.origenObservacionService.consultarParaSelector().subscribe(o=>{this.oriObservacionList=o,this.oriObservacionList.forEach(i=>{i.selectedAllGroup="selectedAllGroup"})})}consultarClasificacion(){this.clasificacionService.consultarParaSelector().subscribe(o=>{this.clasificacionList=o,this.clasificacionList.forEach(i=>{i.selectedAllGroup="selectedAllGroup"})})}enviarFormulario(o){this.buscando=!0,(0,G.CW)(o),o.valid&&this.consultarPDF()}consultarPDF(){this.reporteControlCumplimientoRevisionesService.descargarPdfPorFiltro(this.filtro).subscribe(o=>{this.archivo=o.body,this.buscando=!1})}consultarXLSForm(o){(0,G.CW)(o),o.valid&&this.reporteControlCumplimientoRevisionesService.descargarXlsPorFiltro(this.filtro).subscribe(i=>{let t,d=this.b64toBlob(i.archivo,i.tipoMime);t=URL.createObjectURL(d);var a=document.createElement("a");a.href=t,a.download=i.nombreArchivo,a.click()})}consultarXLS(){this.reporteControlCumplimientoRevisionesService.descargarXlsPorFiltro(this.filtro).subscribe(o=>{let i,t=this.b64toBlob(o.archivo,o.tipoMime);i=URL.createObjectURL(t);var d=document.createElement("a");d.href=i,d.download=o.nombreArchivo,d.click()})}isCollapsedFunction(){this.isCollapsed=!this.isCollapsed,this.isCollapsed?this.height="calc(80vh - 55px)":this.height="calc(64vh - 55px)"}regresar(){this.location.back()}verReporteGrid(){this.reporteControlCumplimientoRevisionesService.consultarReporteGrid(this.filtro).subscribe(o=>{let i={reporteCompleto:o,onCloseCallback:d=>{this.bsModalRef.hide()}};const t={...h.g.CONFIG_MODAL_LARGE,initialState:i};this.bsModalRef=this.modalService.show(f,t)})}marcarTodos(){this.contratistaList.length==this.filtro.idsContratista.length?(this.todos=!0,this.filtro.claveSeguridad=null,this.filtro.idsClasificacion=this.clasificacionList.map(o=>o.idClasificacion),this.filtro.idsContratista=this.contratistaList.map(o=>o.idUsuario),this.filtro.idsDepartamento=this.departamentoList.map(o=>o.idDepartamento),this.filtro.idsEstatusRevision=this.estatusList.map(o=>o.idEstatus),this.filtro.idsObservacionAtendida=this.obsAtendidaList.map(o=>o.idObservacionAtendida),this.filtro.idsOrigenObservacion=this.oriObservacionList.map(o=>o.idOrigenObservacion),this.filtro.idsProyecto=this.proyectoList.map(o=>o.idProyectoRevSeg),this.filtro.idsTipoObservacion=this.tipoObservacionList.map(o=>o.idTipoObservacion)):this.todos=!1}static#e=this.\u0275fac=function(i){return new(i||A)(e.Y36(m),e.Y36(p.Ye),e.Y36(U.m),e.Y36(F.x),e.Y36(L.e),e.Y36(P.b),e.Y36(J._),e.Y36(g.UZ),e.Y36(g.tT),e.Y36(B.o))};static#t=this.\u0275cmp=e.Xpm({type:A,selectors:[["app-reporte-control-cumplimiento-revisiones"]],decls:180,vars:94,consts:[[1,"contenedor"],[1,"titulo-contenedor"],[1,"cuerpo-contenedor"],["novalidate","novalidate",3,"keydown.enter","ngSubmit"],["formulario","ngForm"],[3,"collapse","isAnimated"],[1,"row"],[1,"col-md-4"],[1,"form-group"],[1,"label-input","required-label"],["name","claveSeguridadName","type","number","autocomplete","off","min","0",1,"form-control",3,"ngModel","disabled","ngModelChange"],["claveSeguridad","ngModel"],[1,"label-input"],[1,"date-input-container"],["name","fechaInicialName","type","text","autocomplete","off","placeholder","dd/mm/aaaa","bsDatepicker","",1,"form-control",3,"ngModel","bsConfig","ngModelChange"],[1,"fa-regular","fa-calendar-days"],["name","fechaFinalName","type","text","autocomplete","off","placeholder","dd/mm/aaaa","bsDatepicker","",1,"form-control",3,"ngModel","bsConfig","ngModelChange"],["name","estatusRevSegName","bindLabel","nombre","bindValue","idEstatus","groupBy","selectedAllGroup",3,"ngModel","items","placeholder","notFoundText","multiple","selectableGroup","selectableGroupAsModel","closeOnSelect","ngModelChange"],["estatusRevSeg","ngModel"],["ng-optgroup-tmp",""],["ng-option-tmp",""],["name","contratistaRevSegName","bindLabel","nombreComercial","bindValue","idUsuario","groupBy","selectedAllGroup",3,"ngModel","items","placeholder","notFoundText","multiple","required","selectableGroup","selectableGroupAsModel","closeOnSelect","ngModelChange"],["contratistaRevSeg","ngModel"],["class","error",4,"ngIf"],["name","departamentoRevSegName","bindLabel","nombre","bindValue","idDepartamento","groupBy","selectedAllGroup",3,"ngModel","items","placeholder","notFoundText","multiple","selectableGroup","selectableGroupAsModel","closeOnSelect","ngModelChange"],["departamentoRevSeg","ngModel"],["name","tipoObservacionRevSegName","bindLabel","nombre","bindValue","idTipoObservacion","groupBy","selectedAllGroup",3,"ngModel","items","placeholder","notFoundText","multiple","selectableGroup","selectableGroupAsModel","closeOnSelect","ngModelChange"],["tipoObservacionRevSeg","ngModel"],[1,"calendario"],["name","nivelRiesgoResidualName","type","number","min","0",1,"form-control",3,"ngModel","ngModelChange"],["NivelRiesgoResidual","ngModel"],["name","proyectoRevSegName","bindLabel","nombre","bindValue","idProyectoRevSeg","groupBy","selectedAllGroup",3,"ngModel","items","placeholder","notFoundText","multiple","selectableGroup","selectableGroupAsModel","closeOnSelect","ngModelChange"],["proyectoRevSeg","ngModel"],["name","peligroName","type","text","autocomplete","off",1,"form-control",3,"ngModel","ngModelChange"],["peligro","ngModel"],["name","riesgoName","type","text","autocomplete","off",1,"form-control",3,"ngModel","ngModelChange"],["riesgo","ngModel"],["name","clasificacionRevSeg","bindLabel","nombre","bindValue","idClasificacion","groupBy","selectedAllGroup",3,"ngModel","items","placeholder","notFoundText","multiple","selectableGroup","selectableGroupAsModel","closeOnSelect","ngModelChange"],["clasificacionRevSeg","ngModel"],["name","oriObservacionRevSegName","bindLabel","nombre","bindValue","idOrigenObservacion","groupBy","selectedAllGroup",3,"ngModel","items","placeholder","notFoundText","multiple","selectableGroup","selectableGroupAsModel","closeOnSelect","ngModelChange"],["oriObservacionRevSeg","ngModel"],["name","obsElaboradaName","type","text","autocomplete","off",1,"form-control",3,"ngModel","ngModelChange"],["name","obsAtendidaRevSegName","bindLabel","nombre","bindValue","idObservacionAtendida","groupBy","selectedAllGroup",3,"ngModel","items","placeholder","notFoundText","multiple","selectableGroup","selectableGroupAsModel","closeOnSelect","ngModelChange"],["obsAtendidaRevSeg","ngModel"],["type","button",1,"btn-primario",3,"disabled","click"],[1,"switch"],["checked","checked","id","descargarTodas","name","descargarTodasName","type","checkbox",1,"accent",3,"ngModel","ngModelChange"],["desTodas","ngModel"],[1,"slider","round"],[1,"on"],[1,"off"],["name","fechaName","type","text","autocomplete","off","placeholder","aaaa","placement","top","bsDatepicker","",1,"form-control",3,"ngModel","bsConfig","disabled","ngModelChange"],[1,"form-row","panel-busqueda","mb-4"],[1,"panel-carga-elementos","center-element-vertically",3,"click"],[1,"titulo-panel"],[1,"arow-down-up"],["class","fa fa-chevron-down",4,"ngIf"],["class","fa fa-chevron-up",4,"ngIf"],[1,"contenedor-excel"],[1,"excel",3,"disabled","click"],[1,"col-md-12"],[3,"src","height","useBrowserLocale","zoom","filenameForDownload"],[1,"error"],[1,"fa","fa-chevron-down"],[1,"fa","fa-chevron-up"]],template:function(i,t){if(1&i){const d=e.EpF();e.TgZ(0,"div",0)(1,"div",1),e._uU(2," Reporte Control de Cumplimiento de Revisiones "),e.qZA(),e.TgZ(3,"div",2)(4,"form",3,4),e.NdJ("keydown.enter",function(l){return l.preventDefault()})("ngSubmit",function(){e.CHM(d);const l=e.MAs(5);return e.KtG(t.enviarFormulario(l))}),e.TgZ(6,"div",5)(7,"div",6)(8,"div",7)(9,"div",8)(10,"label",9),e._uU(11,"Clave Revisi\xf3n de Seguridad"),e.qZA(),e.TgZ(12,"div")(13,"input",10,11),e.NdJ("ngModelChange",function(l){return t.filtro.claveSeguridad=l}),e.qZA()()()(),e.TgZ(15,"div",7)(16,"div",8)(17,"label",12),e._uU(18,"Fecha Inicio"),e.qZA(),e.TgZ(19,"div",13)(20,"input",14),e.NdJ("ngModelChange",function(l){return t.filtro.fechaInicial=l}),e.qZA(),e._UZ(21,"i",15),e.qZA()()(),e.TgZ(22,"div",7)(23,"div",8)(24,"label",12),e._uU(25,"Fecha Fin"),e.qZA(),e.TgZ(26,"div",13)(27,"input",16),e.NdJ("ngModelChange",function(l){return t.filtro.fechaFinal=l}),e.qZA(),e._UZ(28,"i",15),e.qZA()()()(),e.TgZ(29,"div",6)(30,"div",7)(31,"div",8)(32,"label",9),e._uU(33,"Estatus Revisi\xf3n de Seguridad"),e.qZA(),e.TgZ(34,"div")(35,"ng-select",17,18),e.NdJ("ngModelChange",function(l){return t.filtro.idsEstatusRevision=l}),e.YNc(37,j,2,0,"ng-template",19),e.YNc(38,W,2,1,"ng-template",20),e.qZA()()()(),e.TgZ(39,"div",7)(40,"div",8)(41,"label",12),e._uU(42,"Contratista"),e.qZA(),e.TgZ(43,"div")(44,"ng-select",21,22),e.NdJ("ngModelChange",function(l){return t.filtro.idsContratista=l})("ngModelChange",function(){return t.marcarTodos()}),e.YNc(46,X,2,0,"ng-template",19),e.YNc(47,z,2,1,"ng-template",20),e.qZA()(),e.YNc(48,V,2,0,"div",23),e.qZA()(),e.TgZ(49,"div",7)(50,"div",8)(51,"label",12),e._uU(52,"Departamento"),e.qZA(),e.TgZ(53,"div")(54,"ng-select",24,25),e.NdJ("ngModelChange",function(l){return t.filtro.idsDepartamento=l}),e.YNc(56,K,2,0,"ng-template",19),e.YNc(57,$,2,1,"ng-template",20),e.qZA()()()()(),e.TgZ(58,"div",6)(59,"div",7)(60,"div",8)(61,"label",9),e._uU(62,"Tipo de Observaci\xf3n"),e.qZA(),e.TgZ(63,"div")(64,"ng-select",26,27),e.NdJ("ngModelChange",function(l){return t.filtro.idsTipoObservacion=l}),e.YNc(66,ee,2,0,"ng-template",19),e.YNc(67,te,2,1,"ng-template",20),e.qZA()()()(),e.TgZ(68,"div",7)(69,"div",8)(70,"label",12),e._uU(71,"Nivel de Riesgo Residual"),e.qZA(),e.TgZ(72,"div",28)(73,"input",29,30),e.NdJ("ngModelChange",function(l){return t.filtro.nivelRiesgoResidual=l}),e.qZA()()()(),e.TgZ(75,"div",7)(76,"div",8)(77,"label",12),e._uU(78,"Proyecto"),e.qZA(),e.TgZ(79,"div")(80,"ng-select",31,32),e.NdJ("ngModelChange",function(l){return t.filtro.idsProyecto=l}),e.YNc(82,oe,2,0,"ng-template",19),e.YNc(83,ie,2,1,"ng-template",20),e.qZA()()()()(),e.TgZ(84,"div",6)(85,"div",7)(86,"div",8)(87,"label",9),e._uU(88,"Peligro"),e.qZA(),e.TgZ(89,"div")(90,"input",33,34),e.NdJ("ngModelChange",function(l){return t.filtro.peligro=l}),e.qZA()()()(),e.TgZ(92,"div",7)(93,"div",8)(94,"label",12),e._uU(95,"Riesgo"),e.qZA(),e.TgZ(96,"div")(97,"input",35,36),e.NdJ("ngModelChange",function(l){return t.filtro.riesgo=l}),e.qZA()()()(),e.TgZ(99,"div",7)(100,"div",8)(101,"label",12),e._uU(102,"Clasificaci\xf3n"),e.qZA(),e.TgZ(103,"div")(104,"ng-select",37,38),e.NdJ("ngModelChange",function(l){return t.filtro.idsClasificacion=l}),e.YNc(106,ne,2,0,"ng-template",19),e.YNc(107,le,2,1,"ng-template",20),e.qZA()()()()(),e.TgZ(108,"div",6)(109,"div",7)(110,"div",8)(111,"label",9),e._uU(112,"Origen de la Observaci\xf3n"),e.qZA(),e.TgZ(113,"div")(114,"ng-select",39,40),e.NdJ("ngModelChange",function(l){return t.filtro.idsOrigenObservacion=l}),e.YNc(116,re,2,0,"ng-template",19),e.YNc(117,ae,2,1,"ng-template",20),e.qZA()()()(),e.TgZ(118,"div",7)(119,"div",8)(120,"label",12),e._uU(121,"Observaci\xf3n Elaborada por"),e.qZA(),e.TgZ(122,"div")(123,"input",41),e.NdJ("ngModelChange",function(l){return t.filtro.observacionElaborada=l}),e.qZA()()()(),e.TgZ(124,"div",7)(125,"div",8)(126,"label",12),e._uU(127,"Observacion Atendida"),e.qZA(),e.TgZ(128,"div")(129,"ng-select",42,43),e.NdJ("ngModelChange",function(l){return t.filtro.idsObservacionAtendida=l}),e.YNc(131,se,2,0,"ng-template",19),e.YNc(132,de,2,1,"ng-template",20),e.qZA()()()()(),e.TgZ(133,"div",6)(134,"div",7)(135,"div",8)(136,"button",44),e.NdJ("click",function(){e.CHM(d);const l=e.MAs(5);return e.KtG(t.enviarFormulario(l))}),e._uU(137),e.qZA()()(),e.TgZ(138,"div",7)(139,"div",8)(140,"button",44),e.NdJ("click",function(){return t.verReporteGrid()}),e._uU(141," Cumplimiento por Contratista "),e.qZA()()()(),e.TgZ(142,"div",6)(143,"div",7)(144,"div",8)(145,"label",9),e._uU(146,"Descargar todas las Revisiones de Seguridad"),e.qZA(),e.TgZ(147,"div")(148,"label",45)(149,"input",46,47),e.NdJ("ngModelChange",function(l){return t.filtro.descargarTodas=l}),e.qZA(),e.TgZ(151,"span",48)(152,"span",49),e._uU(153,"Si"),e.qZA(),e.TgZ(154,"span",50),e._uU(155,"No"),e.qZA()()()()()(),e.TgZ(156,"div",7)(157,"div",8)(158,"label",12),e._uU(159,"A\xf1o"),e.qZA(),e.TgZ(160,"div",13)(161,"input",51),e.NdJ("ngModelChange",function(l){return t.filtro.anio=l}),e.qZA(),e._UZ(162,"i",15),e.qZA()()(),e.TgZ(163,"div",7)(164,"div",8)(165,"button",44),e.NdJ("click",function(){return t.consultarXLS()}),e._uU(166," Descargar .xls Revisiones de Seguridad "),e.qZA()()()()()(),e.TgZ(167,"div",52)(168,"div",53),e.NdJ("click",function(){return t.isCollapsedFunction()}),e.TgZ(169,"span",54),e._uU(170,"Panel de B\xfasqueda"),e.qZA(),e.TgZ(171,"span",55),e.YNc(172,ce,1,0,"i",56),e.YNc(173,pe,1,0,"i",57),e.qZA()()(),e.TgZ(174,"div",6)(175,"div",58)(176,"button",59),e.NdJ("click",function(){e.CHM(d);const l=e.MAs(5);return e.KtG(t.consultarXLSForm(l))}),e.qZA()()(),e.TgZ(177,"div",6)(178,"div",60),e._UZ(179,"ngx-extended-pdf-viewer",61),e.qZA()()()()}if(2&i){const d=e.MAs(45);e.xp6(6),e.Q6J("collapse",t.isCollapsed)("isAnimated",!0),e.xp6(7),e.Q6J("ngModel",t.filtro.claveSeguridad)("disabled",t.todos),e.xp6(7),e.Q6J("ngModel",t.filtro.fechaInicial)("bsConfig",t.configDate),e.xp6(7),e.Q6J("ngModel",t.filtro.fechaFinal)("bsConfig",t.configDate),e.xp6(8),e.Q6J("ngModel",t.filtro.idsEstatusRevision)("items",t.estatusList)("placeholder",t.placeHolderSelect)("notFoundText",t.placeHolderNoOptions)("multiple",!0)("selectableGroup",!0)("selectableGroupAsModel",!1)("closeOnSelect",!1),e.xp6(9),e.Q6J("ngModel",t.filtro.idsContratista)("items",t.contratistaList)("placeholder",t.placeHolderSelect)("notFoundText",t.placeHolderNoOptions)("multiple",!0)("required",null===t.filtro.claveSeguridad)("selectableGroup",!0)("selectableGroupAsModel",!1)("closeOnSelect",!1),e.xp6(4),e.Q6J("ngIf",(null==d.errors?null:d.errors.required)&&d.touched),e.xp6(6),e.Q6J("ngModel",t.filtro.idsDepartamento)("items",t.departamentoList)("placeholder",t.placeHolderSelect)("notFoundText",t.placeHolderNoOptions)("multiple",!0)("selectableGroup",!0)("selectableGroupAsModel",!1)("closeOnSelect",!1),e.xp6(10),e.Q6J("ngModel",t.filtro.idsTipoObservacion)("items",t.tipoObservacionList)("placeholder",t.placeHolderSelect)("notFoundText",t.placeHolderNoOptions)("multiple",!0)("selectableGroup",!0)("selectableGroupAsModel",!1)("closeOnSelect",!1),e.xp6(9),e.Q6J("ngModel",t.filtro.nivelRiesgoResidual),e.xp6(7),e.Q6J("ngModel",t.filtro.idsProyecto)("items",t.proyectoList)("placeholder",t.placeHolderSelect)("notFoundText",t.placeHolderNoOptions)("multiple",!0)("selectableGroup",!0)("selectableGroupAsModel",!1)("closeOnSelect",!1),e.xp6(10),e.Q6J("ngModel",t.filtro.peligro),e.xp6(7),e.Q6J("ngModel",t.filtro.riesgo),e.xp6(7),e.Q6J("ngModel",t.filtro.idsClasificacion)("items",t.clasificacionList)("placeholder",t.placeHolderSelect)("notFoundText",t.placeHolderNoOptions)("multiple",!0)("selectableGroup",!0)("selectableGroupAsModel",!1)("closeOnSelect",!1),e.xp6(10),e.Q6J("ngModel",t.filtro.idsOrigenObservacion)("items",t.oriObservacionList)("placeholder",t.placeHolderSelect)("notFoundText",t.placeHolderNoOptions)("multiple",!0)("selectableGroup",!0)("selectableGroupAsModel",!1)("closeOnSelect",!1),e.xp6(9),e.Q6J("ngModel",t.filtro.observacionElaborada),e.xp6(6),e.Q6J("ngModel",t.filtro.idsObservacionAtendida)("items",t.obsAtendidaList)("placeholder",t.placeHolderSelect)("notFoundText",t.placeHolderNoOptions)("multiple",!0)("selectableGroup",!0)("selectableGroupAsModel",!1)("closeOnSelect",!1),e.xp6(7),e.Q6J("disabled",0===t.filtro.idsContratista.length&&null===t.filtro.claveSeguridad||t.buscando),e.xp6(1),e.hij(" ",t.buscando?"Generando Reporte...":"Generar Reporte"," "),e.xp6(3),e.Q6J("disabled",0===t.filtro.idsContratista.length&&null===t.filtro.claveSeguridad||t.buscando),e.xp6(9),e.Q6J("ngModel",t.filtro.descargarTodas),e.xp6(12),e.Q6J("ngModel",t.filtro.anio)("bsConfig",t.configDateAnio)("disabled",!t.filtro.descargarTodas),e.xp6(4),e.Q6J("disabled",!t.filtro.descargarTodas),e.xp6(7),e.Q6J("ngIf",t.isCollapsed),e.xp6(1),e.Q6J("ngIf",!t.isCollapsed),e.xp6(3),e.Q6J("disabled",0===t.filtro.idsContratista.length),e.xp6(3),e.Q6J("src",t.archivo)("height",t.height)("useBrowserLocale",!0)("zoom","page-width")("filenameForDownload",t.nombreArchivo)}},dependencies:[p.O5,b.Y,c._Y,c.Fj,c.wV,c.Wl,c.JJ,c.JL,c.Q7,c.qQ,c.On,c.F,_.w9,_.C5,_.ir,O.Np,O.Y5,s.S3],styles:['@charset "UTF-8";.switch[_ngcontent-%COMP%]{top:1px;height:calc(1.5em + .8rem + 10px);width:110px}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]:before{background-color:#fff;transform:translate(70px)}.switch[_ngcontent-%COMP%]   input.accent[_ngcontent-%COMP%]:checked + .slider.round[_ngcontent-%COMP%]{background-color:#ed7d31}.switch[_ngcontent-%COMP%]   input.accent[_ngcontent-%COMP%]:checked + .slider.round[_ngcontent-%COMP%]   .on[_ngcontent-%COMP%]{color:#fff}.date-input-container[_ngcontent-%COMP%]{position:relative;width:100%}.date-input-container[_ngcontent-%COMP%]   input[type=date][_ngcontent-%COMP%]{width:100%;padding-right:30px}.date-input-container[_ngcontent-%COMP%]   .fa-calendar-days[_ngcontent-%COMP%]{position:absolute;right:10px;top:50%;transform:translateY(-50%);pointer-events:none}.excel[_ngcontent-%COMP%]{border:none;width:20px;height:38px;background-image:url(svg-ico-18x18-Exportar_Excel.69142fbcdf367676.svg);background-size:100%;background-color:#fff;background-repeat:no-repeat}.contenedor-excel[_ngcontent-%COMP%]{display:flex;flex-direction:row-reverse}']})}const ue=[{path:"",component:A,canActivate:[I.m],data:{title:"Consulta",acceso:k.$D.Consultar}},{path:"reporte-grid",component:f}];class R{static#e=this.\u0275fac=function(i){return new(i||R)};static#t=this.\u0275mod=e.oAB({type:R});static#o=this.\u0275inj=e.cJS({imports:[S.Bz.forChild(ue),S.Bz]})}var me=r(71436);class T{static#e=this.\u0275fac=function(i){return new(i||T)};static#t=this.\u0275mod=e.oAB({type:T});static#o=this.\u0275inj=e.cJS({providers:[F.x,m,U.m,L.e,P.b,J._],imports:[p.ez,b.f,u.m,O.kn,s.g3,g.zk.forChild(),R,_.A0,v.To,me.a]})}}}]);