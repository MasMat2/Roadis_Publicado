"use strict";(self.webpackChunkroadis_app=self.webpackChunkroadis_app||[]).push([[2009],{85246:(E,f,i)=>{i.d(f,{B:()=>s});var r=i(94650),n=i(36895),l=i(58390);const h=["grid"];function a(m,g){if(1&m){const u=r.EpF();r.TgZ(0,"div",8),r.NdJ("click",function(){r.CHM(u);const t=r.oxw();return r.KtG(t.onAgregarClick())}),r.TgZ(1,"button",9),r._uU(2),r.qZA()()}if(2&m){const u=r.oxw();r.xp6(2),r.hij("Agregar ",u.tituloBoton," ")}}class s{constructor(){this.mostrarBotonExcel=!1,this.disableXLS=!1,this.gridClick=new r.vpe,this.agregarClick=new r.vpe,this.excelClick=new r.vpe,this.disableEdit=!0,this.disableDelete=!0}ngOnInit(){this.mapearAccesos()}mapearAccesos(){const g=this.crudConfig.configEliminar;g&&(this.accesoEliminar=g.acceso,this.disableDelete=!1);const u=this.crudConfig.formConfig,p=u&&u.configEditar;p&&(this.accesoEditar=p.acceso,this.disableEdit=!1)}onGridClick(g){this.gridClick.emit(g)}onAgregarClick(){this.agregarClick.emit()}onExcelClick(){this.excelClick.emit()}static#t=this.\u0275fac=function(u){return new(u||s)};static#e=this.\u0275cmp=r.Xpm({type:s,selectors:[["app-catalogo-base"]],viewQuery:function(u,p){if(1&u&&r.Gf(h,5),2&u){let t;r.iGM(t=r.CRH())&&(p.grid=t.first)}},inputs:{columns:"columns",titulo:"titulo",tituloBoton:"tituloBoton",gridOptions:"gridOptions",crudConfig:"crudConfig",elementos$:"elementos$",tieneAccesoAgregar$:"tieneAccesoAgregar$",mostrarBotonExcel:"mostrarBotonExcel",disableXLS:"disableXLS"},outputs:{gridClick:"gridClick",agregarClick:"agregarClick",excelClick:"excelClick"},decls:11,vars:17,consts:[[1,"contenedor"],[1,"titulo-contenedor",3,"hidden"],[1,"cuerpo-contenedor"],[1,"row"],[1,"col-12"],["class","contenedor-agregar",3,"click",4,"ngIf"],[3,"headerName","data","gridOptions","children","disableDelete","disableEdit","accesoEditar","accesoEliminar","mostrarBotonExcel","disableXLS","event","exportarExcelEvent"],["grid",""],[1,"contenedor-agregar",3,"click"],[1,"btn-agregar"]],template:function(u,p){1&u&&(r.TgZ(0,"div",0)(1,"div",1),r._uU(2),r.qZA(),r.TgZ(3,"div",2)(4,"div",3)(5,"div",4),r.YNc(6,a,3,1,"div",5),r.ALo(7,"async"),r.TgZ(8,"app-grid-general",6,7),r.NdJ("event",function(M){return p.onGridClick(M)})("exportarExcelEvent",function(){return p.onExcelClick()}),r.ALo(10,"async"),r.qZA()()()()()),2&u&&(r.xp6(1),r.Q6J("hidden",null==p.titulo),r.xp6(1),r.hij(" ",p.titulo," "),r.xp6(4),r.Q6J("ngIf",r.lcZ(7,13,p.tieneAccesoAgregar$)),r.xp6(2),r.Q6J("headerName",p.crudConfig.nombreEntidad)("data",r.lcZ(10,15,p.elementos$))("gridOptions",p.gridOptions)("children",p.columns)("disableDelete",p.disableDelete)("disableEdit",p.disableEdit)("accesoEditar",p.accesoEditar)("accesoEliminar",p.accesoEliminar)("mostrarBotonExcel",p.mostrarBotonExcel)("disableXLS",p.disableXLS))},dependencies:[n.O5,l.$,n.Ov]})}},92020:(E,f,i)=>{i.d(f,{A:()=>a});var r=i(20388),n=i(63405),l=i(71436),h=i(94650);class a{static#t=this.\u0275fac=function(g){return new(g||a)};static#e=this.\u0275mod=h.oAB({type:a});static#i=this.\u0275inj=h.cJS({imports:[n.m,l.a,r.zk.forChild()]})}},27974:(E,f,i)=>{i.d(f,{v:()=>h});var r=i(94540),n=i(40675),l=i(14815);class h{constructor(s,m,g){this.accesoService=s,this.bsModalService=m,this.mensajeService=g}onInit(){this.actualizarGrid(),this.consultarAccesoAgregar()}actualizarGrid(){this.registros$=this.consultarGrid()}consultarAccesoAgregar(){if(!this.crudConfig.formConfig)return;const s=this.crudConfig.formConfig.configAgregar;s&&(this.tieneAccesoAgregar$=this.accesoService.tieneAcceso(s.acceso))}onGridClick(s){const m=this.crudConfig.nombrePropiedadId,g=s.data[m];if(this.esConfig=s.data.esConfig??!1,"number"!=typeof g)throw new Error(`No se pudo obtener el id del elemento. La propiedad "${this.crudConfig.nombrePropiedadId}" no es un n\xfamero.`);({[r.gy.Editar]:()=>this.editar(g),[r.gy.Eliminar]:()=>this.confirmarEliminacion(s.data,g)})[s.accion]()}openForm(s,m){if(!this.crudConfig.formConfig)throw new Error('No se configur\xf3 la propiedad "formConfig" en el objeto "crudConfig"');const g=s===n.V_.Agregar?this.crudConfig.formConfig.configAgregar:this.crudConfig.formConfig.configEditar;if(!g){const t=s===n.V_.Editar?"configEditar":"configAgregar";throw new Error(`No se configur\xf3 la propiedad "${t}" en el objeto "crudConfig"`)}let u={accion:s,idEntidad:m,nombreEntidad:this.crudConfig.nombreEntidad,generoGramatical:this.crudConfig.generoGramatical,esConfig:this.esConfig,...g.params};u.onClose=t=>{t&&this.actualizarGrid(),p.hide()};const p=this.bsModalService.show(this.crudConfig.formConfig.ComponenteFormulario,{initialState:u,...this.crudConfig.formConfig.modalConfig})}agregar(s){void 0!==s?this.openForm(n.V_.Agregar,s):this.openForm(n.V_.Agregar)}editar(s){this.openForm(n.V_.Editar,s)}confirmarEliminacion(s,m){if(!this.crudConfig.configEliminar)throw new Error('No se configur\xf3 la propiedad "configEliminar" en el objeto "crudConfig"');const g=`Eliminar ${this.crudConfig.nombreEntidad}`,[u,p]="masc"===this.crudConfig.generoGramatical?["El","eliminado"]:["La","eliminada"],e=`\xbfDesea eliminar ${`${u.toLowerCase()} ${this.crudConfig.nombreEntidad.toLowerCase()}`}: <strong>${this.crudConfig.configEliminar.elementToString(s)}</strong>?`;this.mensajeService.modalConfirmacion(e,g,l.m.Cruz).then(()=>{const T=`${u} ${this.crudConfig.nombreEntidad.toLowerCase()} ha sido ${p}`;this.eliminar(m).subscribe(()=>{this.mensajeService.modalExito(T),this.actualizarGrid()})}).catch(()=>{})}}},70615:(E,f,i)=>{i.d(f,{P:()=>l});var r=i(40675),n=i(90429);class l{constructor(a){this.mensajeService=a,this.submitting=!1,this.entidad={}}onInit(){this.accion===r.V_.Editar&&this.idEntidad&&this.consultar(this.idEntidad).subscribe({next:a=>{this.entidad=a}})}onSubmit(a){if(this.submitting=!0,!a.valid)return n.CW(a),void(this.submitting=!1);const[s,m]="masc"===this.generoGramatical?["El","o"]:["La","a"],g=this.accion===r.V_.Agregar?`agregad${m}`:`modificad${m}`,u=`${s} ${this.nombreEntidad.toLocaleLowerCase()} ha sido ${g}`;(this.accion===r.V_.Agregar?this.agregar(this.entidad):this.editar(this.entidad)).subscribe({next:()=>{this.mensajeService.modalExito(u),this.onClose(!0)},error:()=>{this.submitting=!1}})}cancelar(a){a=a??!1,this.onClose(a)}}},96298:(E,f,i)=>{i.d(f,{X:()=>l});var r=i(94650),n=i(80529);class l{constructor(a){this.http=a,this.dataUrl="artrparteInteresada/"}consultar(a){return this.http.get(this.dataUrl+`${a}`)}consultarParaGrid(a){return this.http.post(this.dataUrl+"grid",a)}agregar(a){return this.http.post(this.dataUrl+"agregar",a)}editar(a){return this.http.put(this.dataUrl+"editar",a)}eliminar(a){return this.http.delete(this.dataUrl+`${a}`)}static#t=this.\u0275fac=function(s){return new(s||l)(r.LFG(n.eN))};static#e=this.\u0275prov=r.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"})}},40109:(E,f,i)=>{i.d(f,{f:()=>l});var r=i(94650),n=i(80529);class l{constructor(a){this.http=a,this.dataUrl="aRTRTipoActividad/"}consultar(a){return this.http.get(this.dataUrl+`${a}`)}consultarParaGrid(a){return this.http.post(this.dataUrl+"grid",a)}agregar(a){return this.http.post(this.dataUrl+"agregar",a)}editar(a){return this.http.put(this.dataUrl+"editar",a)}eliminar(a){return this.http.delete(this.dataUrl+`${a}`)}static#t=this.\u0275fac=function(s){return new(s||l)(r.LFG(n.eN))};static#e=this.\u0275prov=r.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"})}},33369:(E,f,i)=>{i.d(f,{R:()=>l});var r=i(94650),n=i(80529);class l{constructor(a){this.http=a,this.dataUrl="codigoPostal/"}consultar(a){return this.http.get(this.dataUrl+`consultar/${a}`)}consultarTodosParaGrid(){return this.http.get(this.dataUrl+"consultarTodosParaGrid")}consultarTodosParaSelector(){return this.http.get(this.dataUrl+"consultarTodosParaSelector")}consultarPorCodigoPostal(a){return this.http.get(this.dataUrl+`consultarPorCodigoPostal/${a}`)}consultarPorMunicipio(a){return this.http.get(this.dataUrl+`consultarPorMunicipio/${a}`)}consultarPorPaisBusqueda(a,s){return this.http.get(this.dataUrl+`consultarPorPaisBusqueda/${a}/${s}`)}agregar(a){return this.http.post(this.dataUrl+"agregar",a)}editar(a){return this.http.put(this.dataUrl+"editar",a)}eliminar(a){return this.http.delete(this.dataUrl+`eliminar/${a}`)}static#t=this.\u0275fac=function(s){return new(s||l)(r.LFG(n.eN))};static#e=this.\u0275prov=r.Yz7({token:l,factory:l.\u0275fac})}},36441:(E,f,i)=>{i.d(f,{s:()=>l});var r=i(94650),n=i(80529);class l{constructor(a){this.http=a,this.dataUrl="estado/"}consultar(a){return this.http.get(this.dataUrl+`${a}`)}consultarParaFormulario(a){return this.http.get(this.dataUrl+`formulario/${a}`)}consultarParaGrid(){return this.http.get(this.dataUrl+"grid")}consultarPorPaisParaSelector(a){return this.http.get(this.dataUrl+`selector/pais/${a}`)}agregar(a){return this.http.post(this.dataUrl,a)}editar(a){return this.http.put(this.dataUrl,a)}eliminar(a){return this.http.delete(this.dataUrl+`${a}`)}static#t=this.\u0275fac=function(s){return new(s||l)(r.LFG(n.eN))};static#e=this.\u0275prov=r.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"})}},51757:(E,f,i)=>{i.d(f,{G:()=>l});var r=i(94650),n=i(80529);class l{constructor(a){this.http=a,this.dataUrl="municipio/"}consultarParaFormulario(a){return this.http.get(this.dataUrl+`formulario/${a}`)}consultarParaGrid(){return this.http.get(this.dataUrl+"grid")}consultarParaSelector(){return this.http.get(this.dataUrl+"selector")}consultarPorEstadoParaSelector(a){return this.http.get(this.dataUrl+`selector/estado/${a}`)}agregar(a){return this.http.post(this.dataUrl,a)}editar(a){return this.http.put(this.dataUrl,a)}eliminar(a){return this.http.delete(this.dataUrl+`${a}`)}static#t=this.\u0275fac=function(s){return new(s||l)(r.LFG(n.eN))};static#e=this.\u0275prov=r.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"})}},46101:(E,f,i)=>{i.d(f,{$:()=>l});var r=i(94650),n=i(80529);class l{constructor(a){this.http=a,this.dataUrl="pais/"}consultarTodosParaSelector(){return this.http.get(this.dataUrl+"consultarTodosParaSelector")}consultar(a){return this.http.get(this.dataUrl+`consultar/${a}`)}consultarPorClave(a){return this.http.get(this.dataUrl+`consultarPorClave/${a}`)}consultarGeneral(){return this.http.get(this.dataUrl+"consultarGeneral")}agregar(a){return this.http.post(this.dataUrl+"agregar",a)}editar(a){return this.http.put(this.dataUrl+"editar",a)}eliminar(a){return this.http.delete(this.dataUrl+`eliminar/${a}`)}static#t=this.\u0275fac=function(s){return new(s||l)(r.LFG(n.eN))};static#e=this.\u0275prov=r.Yz7({token:l,factory:l.\u0275fac})}},12846:(E,f,i)=>{i.d(f,{Y:()=>h});var r=i(50986),n=i(94650),l=i(2060);class h{constructor(s){this.modalMensajeService=s}validarCamposRequeridos(s){Object.keys(s.controls).forEach(m=>{const g=s.controls[m];g.markAsTouched({onlySelf:!0}),g.markAsDirty({onlySelf:!0})})}validarCamposRequeridosConMensaje(s){Object.keys(s.controls).forEach(m=>{const g=s.controls[m];g.markAsTouched({onlySelf:!0}),g.markAsDirty({onlySelf:!0})}),Object.keys(s.controls).some(m=>{const g=s.controls[m];return!!(g.errors&&g.errors.required&&g.invalid)&&(this.modalMensajeService.modalError(r.g.MENSAJE_REQUERIDOS),!0)})}markAsUntouched(s){Object.keys(s.controls).forEach(m=>{s.controls[m].markAsUntouched({onlySelf:!0})})}static#t=this.\u0275fac=function(m){return new(m||h)(n.LFG(l.V))};static#e=this.\u0275prov=n.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"})}},41720:(E,f,i)=>{var r,h,n,l;i.d(f,{Nd:()=>l,ZC:()=>n,f7:()=>r}),(h=r||(r={})).Consultar="APARTR0000",h.Agregar="APARTR1000",h.Editar="APARTR2000",h.Eliminar="APARTR3000",function(h){h.Consultar="ARTRPI0000",h.Agregar="ARTRPI1000",h.Editar="ARTRPI2000",h.Eliminar="ARTRPI3000"}(n||(n={})),function(h){h.Consultar="ARTRTA0000",h.Agregar="ARTRTA1000",h.Editar="ARTRTA2000",h.Eliminar="ARTRTA3000"}(l||(l={}))},40675:(E,f,i)=>{i.d(f,{V_:()=>n,aQ:()=>h,vf:()=>l});var n,a;i(40675);(a=n||(n={})).Agregar="Agregar",a.Editar="Editar",a.Ver="Consultar";const l="Seleccione una opci\xf3n",h="No hay opciones disponibles"},14815:(E,f,i)=>{var r,n;i.d(f,{m:()=>r}),(n=r||(r={})).Cruz="fa fa-times",n.Pesos="fa fa-dollar-sign",n.Cambio="fas fa-exchange-alt",n.CheckOut="fas fa-door-open",n.Exito="fas fa-check"},94540:(E,f,i)=>{i.d(f,{gy:()=>n,sO:()=>l});var n,h;i(94540);(h=n||(n={})).Editar="edit",h.Eliminar="delete",h.Ver="see",h.DescargarPdf="DescargarPdf",h.Revisar="Revisar",h.Presentar="presentar";const l={headerName:"",field:"",cellClass:"center-ag",minWidth:44,maxWidth:44,suppressMovable:!0,resizable:!1,filter:!1,lockPinned:!0,pinned:"right",lockPosition:!0}},25579:(E,f,i)=>{i.r(f),i.d(f,{AnalisisRiesgosTrabajoRutinariosModule:()=>u});var r=i(36895),n=i(9116),l=i(94650);const h=[{path:"analisis-riesgo-trabajo-rutinario",loadChildren:()=>Promise.all([i.e(3849),i.e(8386),i.e(8592),i.e(2184)]).then(i.bind(i,72184)).then(p=>p.AnalisisRiesgoTrabajoRutinarioModule)},{path:"artrparte-interesada",loadChildren:()=>i.e(8940).then(i.bind(i,28940)).then(p=>p.ArtrparteInteresadaModule)},{path:"artrtipo-actividad",loadChildren:()=>i.e(8428).then(i.bind(i,68428)).then(p=>p.ArtrtipoActividadModule)}];class a{static#t=this.\u0275fac=function(M){return new(M||a)};static#e=this.\u0275mod=l.oAB({type:a});static#i=this.\u0275inj=l.cJS({imports:[n.Bz.forChild(h),n.Bz]})}var s=i(92020),m=i(36477),g=i(58682);class u{static#t=this.\u0275fac=function(M){return new(M||u)};static#e=this.\u0275mod=l.oAB({type:u});static#i=this.\u0275inj=l.cJS({imports:[r.ez,m.S,g.h,a,s.A]})}},36477:(E,f,i)=>{i.d(f,{S:()=>y});var r=i(9116),n=i(41720),l=i(13050);class h{}var a=i(27974),s=i(52522),m=i(50986),g=i(18505),u=i(15861),p=i(70615),t=i(40675),M=i(77579),e=i(94650),T=i(96298),S=i(62861),D=i(20388),B=i(2060),P=i(12846),x=i(383),O=i(24006),R=i(36895);const N=["formulario"];function I(A,c){if(1&A){const o=e.EpF();e.TgZ(0,"form",3,4),e.NdJ("keydown.enter",function(_){return _.preventDefault()}),e.TgZ(2,"div",5),e._uU(3," General "),e.qZA(),e.TgZ(4,"div",6)(5,"div",7)(6,"div",8)(7,"label",9),e._uU(8,"Clave"),e.qZA(),e.TgZ(9,"div",10)(10,"input",11,12),e.NdJ("ngModelChange",function(_){e.CHM(o);const v=e.oxw();return e.KtG(v.entidad.idArtrparteInteresada=_)}),e.qZA()()()(),e.TgZ(12,"div",7)(13,"div",8)(14,"label",9),e._uU(15,"Estatus"),e.qZA(),e.TgZ(16,"div"),e._UZ(17,"input",13),e.qZA()()(),e._UZ(18,"div",7),e.TgZ(19,"div",14)(20,"div",8)(21,"label",9),e._uU(22,"Fecha"),e.qZA(),e.TgZ(23,"div",10),e._UZ(24,"input",15),e.ALo(25,"date"),e._UZ(26,"i",16),e.qZA()()(),e._UZ(27,"div",7),e.TgZ(28,"div",17)(29,"div",8)(30,"label",9),e._uU(31,"Parte Interesada"),e.qZA(),e.TgZ(32,"div")(33,"input",18,19),e.NdJ("ngModelChange",function(_){e.CHM(o);const v=e.oxw();return e.KtG(v.entidad.descripcion=_)}),e.qZA()()()()()()}if(2&A){const o=e.oxw();e.xp6(10),e.Q6J("ngModel",o.entidad.idArtrparteInteresada)("readonly",!0),e.xp6(7),e.Q6J("value","Activo"),e.xp6(7),e.Q6J("value",e.xi3(25,6,o.fecha,"dd/MM/yyyy"))("required",!0),e.xp6(9),e.Q6J("ngModel",o.entidad.descripcion)}}function F(A,c){if(1&A){const o=e.EpF();e.TgZ(0,"button",20),e.NdJ("click",function(){e.CHM(o);const _=e.oxw();return e.KtG(_.cancelar())}),e._uU(1," Cancelar "),e.qZA(),e.TgZ(2,"button",21),e.NdJ("click",function(){e.CHM(o);const _=e.oxw();return e.KtG(_.onSubmit(_.formulario))}),e._uU(3," Guardar Parte Interesada "),e.qZA()}if(2&A){const o=e.oxw();e.xp6(2),e.Q6J("disabled",o.submitting)}}class b extends p.P{constructor(c,o,d,_,v,C){super(_),this.artrparteInteresadaService=c,this.bsModalRef=v,this.formularioService=C,this.deshabilitarAgregar=!1,this.destroy$=new M.x,this.esAgregar=!1,this.placeHolderSelect=m.g.PLACEHOLDER_DROPDOWN,this.placeHolderNoOptions=m.g.PLACEHOLDER_DROPDOWN_NO_OPTIONS,this.submiting=!1}ngOnInit(){var c=()=>super.onInit,o=this;return(0,u.Z)(function*(){c().call(o),o.accion===t.V_.Agregar&&!o.idEntidad&&(o.esAgregar=!0,o.fecha=new Date)})()}ngOnDestroy(){this.destroy$.next()}consultar(c){return this.artrparteInteresadaService.consultar(c).pipe((0,g.b)(o=>{console.log(o),this.fecha=new Date(o.fechaAlta)}))}agregar(c){return this.artrparteInteresadaService.agregar(c)}editar(c){return this.artrparteInteresadaService.editar(c)}static#t=this.\u0275fac=function(o){return new(o||b)(e.Y36(T.X),e.Y36(S.Q),e.Y36(D.tT),e.Y36(B.V),e.Y36(D.UZ),e.Y36(P.Y))};static#e=this.\u0275cmp=e.Xpm({type:b,selectors:[["app-artrparte-interesada-formulario"]],viewQuery:function(o,d){if(1&o&&e.Gf(N,5),2&o){let _;e.iGM(_=e.CRH())&&(d.formulario=_.first)}},features:[e.qOj],decls:5,vars:1,consts:[[3,"titulo"],["modalBody",""],["modalFooter",""],["id","form","novalidate","novalidate",3,"keydown.enter"],["formulario","ngForm"],[1,"subseccion"],[1,"row"],[1,"col-md-1",2,"width","12.5%"],[1,"form-group"],[1,"label-input","required-label"],[1,"date-input-container"],["name","clave","type","text","disabled","",1,"form-control",3,"ngModel","readonly","ngModelChange"],["clave","ngModel"],["name","estatus","type","text","maxlength","50","disabled","",1,"form-control",3,"value"],[1,"col-md-1",2,"width","25%"],["type","text","disabled","",1,"form-control",3,"value","required"],[1,"fa-regular","fa-calendar-days"],[1,"col-md-2",2,"width","25%"],["name","descripcion","type","text","maxlength","50",1,"form-control",3,"ngModel","ngModelChange"],["descripcion","ngModel"],["type","button",1,"btn-secundario","flex-shrink-1",3,"click"],["type","button","form","form",1,"btn-primario",3,"disabled","click"]],template:function(o,d){1&o&&(e.TgZ(0,"app-modal-base",0),e.YNc(1,I,35,9,"ng-template",null,1,e.W1O),e.YNc(3,F,4,1,"ng-template",null,2,e.W1O),e.qZA()),2&o&&e.Q6J("titulo",d.nombreEntidad+" - "+d.accion)},dependencies:[x.B,O._Y,O.Fj,O.JJ,O.JL,O.nD,O.On,O.F,R.uU],styles:[".date-input-container[_ngcontent-%COMP%]   .fa-calendar-days[_ngcontent-%COMP%]{position:absolute;right:10px;top:50%;transform:translateY(-50%);pointer-events:none}"]})}var W=i(85246),G=i(88796),J=i(8816);function $(A,c){1&A&&e._UZ(0,"i",22)}function L(A,c){1&A&&e._UZ(0,"i",23)}class Z extends a.v{constructor(c,o,d,_,v,C){super(o,d,_),this.artrparteInteresadaService=c,this.bsModalRef=v,this.formularioService=C,this.placeHolderSelect=m.g.PLACEHOLDER_DROPDOWN,this.placeHolderNoOptions=m.g.PLACEHOLDER_DROPDOWN_NO_OPTIONS,this.idsEstatusList=[{idEstatus:0,nombre:"Inactivo"},{idEstatus:1,nombre:"Activo"}],this.idsEstatusSeleccionados=[],this.isCollapsed=!0,this.buscando=!1,this.interesadaList=[],this.filtro=new h,this.crudConfig={nombreEntidad:"Cat\xe1logo Parte Interesada",generoGramatical:"masc",nombrePropiedadId:"idArtrparteInteresada",formConfig:{ComponenteFormulario:b,modalConfig:s.OS.Large,configAgregar:{acceso:n.ZC.Agregar},configEditar:{acceso:n.ZC.Editar}},configEliminar:{acceso:n.ZC.Eliminar,elementToString:U=>`${U.idArtrparteInteresada}`}},this.columns=[{headerName:"Clave",field:"idArtrparteInteresada",minWidth:50,width:80},{headerName:"Estatus",field:"estatus",minWidth:50,width:80,valueGetter:U=>U.data.estatus?"Activo":"Inactivo"},{headerName:"Parte Interesada",field:"descripcion",minWidth:50,width:130}]}ngOnInit(){super.onInit()}consultarGrid(){return this.idsEstatusSeleccionados.includes(0)?this.filtro.inactivo=!0:this.filtro.inactivo=!1,this.idsEstatusSeleccionados.includes(1)?this.filtro.activo=!0:this.filtro.activo=!1,this.artrparteInteresadaService.consultarParaGrid(this.filtro)}eliminar(c){return this.artrparteInteresadaService.eliminar(c)}isCollapsedFunction(){this.isCollapsed=!this.isCollapsed,this.isCollapsed?this.height="calc(80vh - 55px)":this.height="calc(64vh - 55px)"}enviarFormulario(c){c.valid?(this.idsEstatusSeleccionados.includes(0)?this.filtro.inactivo=!0:this.filtro.inactivo=!1,this.idsEstatusSeleccionados.includes(1)?this.filtro.activo=!0:this.filtro.activo=!1,this.registros$=this.artrparteInteresadaService.consultarParaGrid(this.filtro).pipe((0,g.b)(o=>{this.interesadaList=o}))):this.formularioService.validarCamposRequeridos(c)}static#t=this.\u0275fac=function(o){return new(o||Z)(e.Y36(T.X),e.Y36(S.Q),e.Y36(D.tT),e.Y36(B.V),e.Y36(D.UZ),e.Y36(P.Y))};static#e=this.\u0275cmp=e.Xpm({type:Z,selectors:[["app-artrparte-interesada"]],features:[e.qOj],decls:26,vars:14,consts:[[1,"cuerpo-contenedor"],["novalidate","novalidate",3,"keydown.enter","ngSubmit"],["formulario","ngForm"],[3,"collapse","isAnimated"],[1,"row"],[1,"col-md-4"],[1,"form-group"],[1,"label-input"],["name","idEstatusName","bindLabel","nombre","bindValue","idEstatus",3,"items","placeholder","notFoundText","ngModel","multiple","closeOnSelect","ngModelChange"],["idEstatusLst","ngModel"],[1,"col-md-2"],[1,"row","mb-4"],[1,"col-md-12","text-center"],["type","submit",1,"btn-primario",3,"click"],[1,"form-row","panel-busqueda","mb-4"],[1,"panel-carga-elementos","center-element-vertically",3,"click"],[1,"titulo-panel"],[1,"arow-down-up"],["class","fa fa-chevron-down",4,"ngIf"],["class","fa fa-chevron-up",4,"ngIf"],[1,"col-md-12"],["titulo","Cat\xe1logo Parte Interesada","tituloBoton","Agregar Parte Interesada",3,"columns","crudConfig","elementos$","tieneAccesoAgregar$","agregarClick","gridClick"],[1,"fa","fa-chevron-down"],[1,"fa","fa-chevron-up"]],template:function(o,d){if(1&o){const _=e.EpF();e.TgZ(0,"div",0)(1,"form",1,2),e.NdJ("keydown.enter",function(C){return C.preventDefault()})("ngSubmit",function(){e.CHM(_);const C=e.MAs(2);return e.KtG(d.enviarFormulario(C))}),e.TgZ(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"label",7),e._uU(8,"Estatus"),e.qZA(),e.TgZ(9,"ng-select",8,9),e.NdJ("ngModelChange",function(C){return d.idsEstatusSeleccionados=C}),e.qZA()()()(),e._UZ(11,"div",10),e.TgZ(12,"div",11)(13,"div",12)(14,"button",13),e.NdJ("click",function(){e.CHM(_);const C=e.MAs(2);return e.KtG(d.enviarFormulario(C))}),e._uU(15,"Buscar"),e.qZA()()()()(),e.TgZ(16,"div",14)(17,"div",15),e.NdJ("click",function(){return d.isCollapsedFunction()}),e.TgZ(18,"span",16),e._uU(19,"Panel de B\xfasqueda"),e.qZA(),e.TgZ(20,"span",17),e.YNc(21,$,1,0,"i",18),e.YNc(22,L,1,0,"i",19),e.qZA()()(),e.TgZ(23,"div",4)(24,"div",20)(25,"app-catalogo-base",21),e.NdJ("agregarClick",function(){return d.agregar()})("gridClick",function(C){return d.onGridClick(C)}),e.qZA()()()()}2&o&&(e.xp6(3),e.Q6J("collapse",d.isCollapsed)("isAnimated",!0),e.xp6(6),e.Q6J("items",d.idsEstatusList)("placeholder",d.placeHolderSelect)("notFoundText",d.placeHolderNoOptions)("ngModel",d.idsEstatusSeleccionados)("multiple",!0)("closeOnSelect",!1),e.xp6(12),e.Q6J("ngIf",d.isCollapsed),e.xp6(1),e.Q6J("ngIf",!d.isCollapsed),e.xp6(3),e.Q6J("columns",d.columns)("crudConfig",d.crudConfig)("elementos$",d.registros$)("tieneAccesoAgregar$",d.tieneAccesoAgregar$))},dependencies:[R.O5,W.B,O._Y,O.JJ,O.JL,O.On,O.F,G.w9,J.Y]})}const K=[{path:"",component:Z,canActivate:[l.m],data:{title:"Consulta",acceso:n.ZC.Consultar}}];class y{static#t=this.\u0275fac=function(o){return new(o||y)};static#e=this.\u0275mod=e.oAB({type:y});static#i=this.\u0275inj=e.cJS({imports:[r.Bz.forChild(K),r.Bz]})}},58682:(E,f,i)=>{i.d(f,{h:()=>y});var r=i(9116),n=i(41720);class l{}var h=i(27974),a=i(50986),s=i(18505),m=i(15861),g=i(70615),u=i(40675),p=i(77579),t=i(94650),M=i(40109),e=i(62861),T=i(20388),S=i(2060),D=i(12846),B=i(383),P=i(24006),x=i(36895);const O=["formulario"];function R(A,c){if(1&A){const o=t.EpF();t.TgZ(0,"form",3,4),t.NdJ("keydown.enter",function(_){return _.preventDefault()}),t.TgZ(2,"div",5),t._uU(3," General "),t.qZA(),t.TgZ(4,"div",6)(5,"div",7)(6,"div",8)(7,"label",9),t._uU(8,"Clave"),t.qZA(),t.TgZ(9,"div",10)(10,"input",11,12),t.NdJ("ngModelChange",function(_){t.CHM(o);const v=t.oxw();return t.KtG(v.entidad.idArtrtipoActividad=_)}),t.qZA()()()(),t.TgZ(12,"div",7)(13,"div",8)(14,"label",9),t._uU(15,"Estatus"),t.qZA(),t.TgZ(16,"div"),t._UZ(17,"input",13),t.qZA()()(),t._UZ(18,"div",7),t.TgZ(19,"div",14)(20,"div",8)(21,"label",9),t._uU(22,"Fecha"),t.qZA(),t.TgZ(23,"div",10),t._UZ(24,"input",15),t.ALo(25,"date"),t._UZ(26,"i",16),t.qZA()()(),t._UZ(27,"div",7),t.TgZ(28,"div",17)(29,"div",8)(30,"label",9),t._uU(31,"Tipo Actividad"),t.qZA(),t.TgZ(32,"div")(33,"input",18,19),t.NdJ("ngModelChange",function(_){t.CHM(o);const v=t.oxw();return t.KtG(v.entidad.descripcion=_)}),t.qZA()()()()()()}if(2&A){const o=t.oxw();t.xp6(10),t.Q6J("ngModel",o.entidad.idArtrtipoActividad)("readonly",!0),t.xp6(7),t.Q6J("value","Activo"),t.xp6(7),t.Q6J("value",t.xi3(25,6,o.fecha,"dd/MM/yyyy"))("required",!0),t.xp6(9),t.Q6J("ngModel",o.entidad.descripcion)}}function N(A,c){if(1&A){const o=t.EpF();t.TgZ(0,"button",20),t.NdJ("click",function(){t.CHM(o);const _=t.oxw();return t.KtG(_.cancelar())}),t._uU(1," Cancelar "),t.qZA(),t.TgZ(2,"button",21),t.NdJ("click",function(){t.CHM(o);const _=t.oxw();return t.KtG(_.onSubmit(_.formulario))}),t._uU(3," Guardar Tipo Actividad "),t.qZA()}if(2&A){const o=t.oxw();t.xp6(2),t.Q6J("disabled",o.submitting)}}class I extends g.P{constructor(c,o,d,_,v,C){super(_),this.artrtipoActividadService=c,this.bsModalRef=v,this.formularioService=C,this.deshabilitarAgregar=!1,this.destroy$=new p.x,this.esAgregar=!1,this.placeHolderSelect=a.g.PLACEHOLDER_DROPDOWN,this.placeHolderNoOptions=a.g.PLACEHOLDER_DROPDOWN_NO_OPTIONS,this.submiting=!1}ngOnInit(){var c=()=>super.onInit,o=this;return(0,m.Z)(function*(){c().call(o),o.accion===u.V_.Agregar&&!o.idEntidad&&(o.esAgregar=!0,o.fecha=new Date)})()}ngOnDestroy(){this.destroy$.next()}consultar(c){return this.artrtipoActividadService.consultar(c).pipe((0,s.b)(o=>{console.log(o),this.fecha=new Date(o.fechaAlta)}))}agregar(c){return this.artrtipoActividadService.agregar(c)}editar(c){return this.artrtipoActividadService.editar(c)}static#t=this.\u0275fac=function(o){return new(o||I)(t.Y36(M.f),t.Y36(e.Q),t.Y36(T.tT),t.Y36(S.V),t.Y36(T.UZ),t.Y36(D.Y))};static#e=this.\u0275cmp=t.Xpm({type:I,selectors:[["app-artrtipo-actividad-formulario"]],viewQuery:function(o,d){if(1&o&&t.Gf(O,5),2&o){let _;t.iGM(_=t.CRH())&&(d.formulario=_.first)}},features:[t.qOj],decls:5,vars:1,consts:[[3,"titulo"],["modalBody",""],["modalFooter",""],["id","form","novalidate","novalidate",3,"keydown.enter"],["formulario","ngForm"],[1,"subseccion"],[1,"row"],[1,"col-md-1",2,"width","12.5%"],[1,"form-group"],[1,"label-input","required-label"],[1,"date-input-container"],["name","clave","type","text","disabled","",1,"form-control",3,"ngModel","readonly","ngModelChange"],["clave","ngModel"],["name","estatus","type","text","maxlength","50","disabled","",1,"form-control",3,"value"],[1,"col-md-1",2,"width","25%"],["type","text","disabled","",1,"form-control",3,"value","required"],[1,"fa-regular","fa-calendar-days"],[1,"col-md-2",2,"width","25%"],["name","descripcion","type","text","maxlength","50",1,"form-control",3,"ngModel","ngModelChange"],["descripcion","ngModel"],["type","button",1,"btn-secundario","flex-shrink-1",3,"click"],["type","button","form","form",1,"btn-primario",3,"disabled","click"]],template:function(o,d){1&o&&(t.TgZ(0,"app-modal-base",0),t.YNc(1,R,35,9,"ng-template",null,1,t.W1O),t.YNc(3,N,4,1,"ng-template",null,2,t.W1O),t.qZA()),2&o&&t.Q6J("titulo",d.nombreEntidad+" - "+d.accion)},dependencies:[B.B,P._Y,P.Fj,P.JJ,P.JL,P.nD,P.On,P.F,x.uU],styles:[".date-input-container[_ngcontent-%COMP%]   .fa-calendar-days[_ngcontent-%COMP%]{position:absolute;right:10px;top:50%;transform:translateY(-50%);pointer-events:none}"]})}var F=i(52522),b=i(85246),W=i(88796),G=i(8816);function J(A,c){1&A&&t._UZ(0,"i",22)}function $(A,c){1&A&&t._UZ(0,"i",23)}class L extends h.v{constructor(c,o,d,_,v,C){super(o,d,_),this.artrtipoActividadService=c,this.bsModalRef=v,this.formularioService=C,this.placeHolderSelect=a.g.PLACEHOLDER_DROPDOWN,this.placeHolderNoOptions=a.g.PLACEHOLDER_DROPDOWN_NO_OPTIONS,this.idsEstatusList=[{idEstatus:0,nombre:"Inactivo"},{idEstatus:1,nombre:"Activo"}],this.idsEstatusSeleccionados=[],this.isCollapsed=!0,this.buscando=!1,this.actividadList=[],this.filtro=new l,this.crudConfig={nombreEntidad:"Cat\xe1logo Tipo Actividad",generoGramatical:"masc",nombrePropiedadId:"idArtrtipoActividad",formConfig:{ComponenteFormulario:I,modalConfig:F.OS.Large,configAgregar:{acceso:n.Nd.Agregar},configEditar:{acceso:n.Nd.Editar}},configEliminar:{acceso:n.Nd.Eliminar,elementToString:U=>`${U.idArtrtipoActividad}`}},this.columns=[{headerName:"Clave",field:"idArtrtipoActividad",minWidth:50,width:80},{headerName:"Estatus",field:"estatus",minWidth:50,width:80,valueGetter:U=>U.data.estatus?"Activo":"Inactivo"},{headerName:"Tipo Actividad",field:"descripcion",minWidth:50,width:130}]}ngOnInit(){super.onInit()}consultarGrid(){return this.idsEstatusSeleccionados.includes(0)?this.filtro.inactivo=!0:this.filtro.inactivo=!1,this.idsEstatusSeleccionados.includes(1)?this.filtro.activo=!0:this.filtro.activo=!1,this.artrtipoActividadService.consultarParaGrid(this.filtro)}eliminar(c){return this.artrtipoActividadService.eliminar(c)}isCollapsedFunction(){this.isCollapsed=!this.isCollapsed,this.isCollapsed?this.height="calc(80vh - 55px)":this.height="calc(64vh - 55px)"}enviarFormulario(c){c.valid?(this.idsEstatusSeleccionados.includes(0)?this.filtro.inactivo=!0:this.filtro.inactivo=!1,this.idsEstatusSeleccionados.includes(1)?this.filtro.activo=!0:this.filtro.activo=!1,this.registros$=this.artrtipoActividadService.consultarParaGrid(this.filtro).pipe((0,s.b)(o=>{this.actividadList=o}))):this.formularioService.validarCamposRequeridos(c)}static#t=this.\u0275fac=function(o){return new(o||L)(t.Y36(M.f),t.Y36(e.Q),t.Y36(T.tT),t.Y36(S.V),t.Y36(T.UZ),t.Y36(D.Y))};static#e=this.\u0275cmp=t.Xpm({type:L,selectors:[["app-artrtipo-actividad"]],features:[t.qOj],decls:26,vars:14,consts:[[1,"cuerpo-contenedor"],["novalidate","novalidate",3,"keydown.enter","ngSubmit"],["formulario","ngForm"],[3,"collapse","isAnimated"],[1,"row"],[1,"col-md-4"],[1,"form-group"],[1,"label-input"],["name","idEstatusName","bindLabel","nombre","bindValue","idEstatus",3,"items","placeholder","notFoundText","ngModel","multiple","closeOnSelect","ngModelChange"],["idEstatusLst","ngModel"],[1,"col-md-2"],[1,"row","mb-4"],[1,"col-md-12","text-center"],["type","submit",1,"btn-primario",3,"click"],[1,"form-row","panel-busqueda","mb-4"],[1,"panel-carga-elementos","center-element-vertically",3,"click"],[1,"titulo-panel"],[1,"arow-down-up"],["class","fa fa-chevron-down",4,"ngIf"],["class","fa fa-chevron-up",4,"ngIf"],[1,"col-md-12"],["titulo","Cat\xe1logo Tipo Actividad","tituloBoton","Tipo Actividad",3,"columns","crudConfig","elementos$","tieneAccesoAgregar$","agregarClick","gridClick"],[1,"fa","fa-chevron-down"],[1,"fa","fa-chevron-up"]],template:function(o,d){if(1&o){const _=t.EpF();t.TgZ(0,"div",0)(1,"form",1,2),t.NdJ("keydown.enter",function(C){return C.preventDefault()})("ngSubmit",function(){t.CHM(_);const C=t.MAs(2);return t.KtG(d.enviarFormulario(C))}),t.TgZ(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"label",7),t._uU(8,"Estatus"),t.qZA(),t.TgZ(9,"ng-select",8,9),t.NdJ("ngModelChange",function(C){return d.idsEstatusSeleccionados=C}),t.qZA()()()(),t._UZ(11,"div",10),t.TgZ(12,"div",11)(13,"div",12)(14,"button",13),t.NdJ("click",function(){t.CHM(_);const C=t.MAs(2);return t.KtG(d.enviarFormulario(C))}),t._uU(15,"Buscar"),t.qZA()()()()(),t.TgZ(16,"div",14)(17,"div",15),t.NdJ("click",function(){return d.isCollapsedFunction()}),t.TgZ(18,"span",16),t._uU(19,"Panel de B\xfasqueda"),t.qZA(),t.TgZ(20,"span",17),t.YNc(21,J,1,0,"i",18),t.YNc(22,$,1,0,"i",19),t.qZA()()(),t.TgZ(23,"div",4)(24,"div",20)(25,"app-catalogo-base",21),t.NdJ("agregarClick",function(){return d.agregar()})("gridClick",function(C){return d.onGridClick(C)}),t.qZA()()()()}2&o&&(t.xp6(3),t.Q6J("collapse",d.isCollapsed)("isAnimated",!0),t.xp6(6),t.Q6J("items",d.idsEstatusList)("placeholder",d.placeHolderSelect)("notFoundText",d.placeHolderNoOptions)("ngModel",d.idsEstatusSeleccionados)("multiple",!0)("closeOnSelect",!1),t.xp6(12),t.Q6J("ngIf",d.isCollapsed),t.xp6(1),t.Q6J("ngIf",!d.isCollapsed),t.xp6(3),t.Q6J("columns",d.columns)("crudConfig",d.crudConfig)("elementos$",d.registros$)("tieneAccesoAgregar$",d.tieneAccesoAgregar$))},dependencies:[x.O5,b.B,P._Y,P.JJ,P.JL,P.On,P.F,W.w9,G.Y]})}var Z=i(13050);const K=[{path:"",component:L,canActivate:[Z.m],data:{title:"Consulta",acceso:n.Nd.Consultar}}];class y{static#t=this.\u0275fac=function(o){return new(o||y)};static#e=this.\u0275mod=t.oAB({type:y});static#i=this.\u0275inj=t.cJS({imports:[r.Bz.forChild(K),r.Bz]})}},8816:(E,f,i)=>{i.d(f,{Y:()=>s,f:()=>m});var r=i(37340),n=i(94650);const l="400ms cubic-bezier(0.4,0.0,0.2,1)",h=[(0,r.oB)({height:0,visibility:"hidden"}),(0,r.jt)(l,(0,r.oB)({height:"*",visibility:"visible"}))],a=[(0,r.oB)({height:"*",visibility:"visible"}),(0,r.jt)(l,(0,r.oB)({height:0,visibility:"hidden"}))];class s{constructor(u,p,t){this._el=u,this._renderer=p,this.collapsed=new n.vpe,this.collapses=new n.vpe,this.expanded=new n.vpe,this.expands=new n.vpe,this.isExpanded=!0,this.collapseNewValue=!0,this.isCollapsed=!1,this.isCollapse=!0,this.isCollapsing=!1,this.isAnimated=!1,this._display="block",this._stylesLoaded=!1,this._COLLAPSE_ACTION_NAME="collapse",this._EXPAND_ACTION_NAME="expand",this._factoryCollapseAnimation=t.build(a),this._factoryExpandAnimation=t.build(h)}set display(u){this._display=u,"none"!==u?this.isAnimated?this.toggle():this.show():this.hide()}set collapse(u){this.collapseNewValue=u,(!this._player||this._isAnimationDone)&&(this.isExpanded=u,this.toggle())}get collapse(){return this.isExpanded}ngAfterViewChecked(){this._stylesLoaded=!0,this._player&&this._isAnimationDone&&(this._player.reset(),this._renderer.setStyle(this._el.nativeElement,"height","*"))}toggle(){this.isExpanded?this.hide():this.show()}hide(){this.isCollapsing=!0,this.isExpanded=!1,this.isCollapsed=!0,this.isCollapsing=!1,this.collapses.emit(this),this._isAnimationDone=!1,this.animationRun(this.isAnimated,this._COLLAPSE_ACTION_NAME)(()=>{this._isAnimationDone=!0,this.collapseNewValue!==this.isCollapsed&&this.isAnimated?this.show():(this.collapsed.emit(this),this._renderer.setStyle(this._el.nativeElement,"display","none"))})}show(){this._renderer.setStyle(this._el.nativeElement,"display",this._display),this.isCollapsing=!0,this.isExpanded=!0,this.isCollapsed=!1,this.isCollapsing=!1,this.expands.emit(this),this._isAnimationDone=!1,this.animationRun(this.isAnimated,this._EXPAND_ACTION_NAME)(()=>{this._isAnimationDone=!0,this.collapseNewValue!==this.isCollapsed&&this.isAnimated?this.hide():(this.expanded.emit(this),this._renderer.removeStyle(this._el.nativeElement,"overflow"))})}animationRun(u,p){if(!u||!this._stylesLoaded)return M=>M();this._renderer.setStyle(this._el.nativeElement,"overflow","hidden"),this._renderer.addClass(this._el.nativeElement,"collapse");const t=p===this._EXPAND_ACTION_NAME?this._factoryExpandAnimation:this._factoryCollapseAnimation;return this._player&&this._player.reset(),this._player=t.create(this._el.nativeElement),this._player.play(),M=>this._player?.onDone(M)}}s.\u0275fac=function(u){return new(u||s)(n.Y36(n.SBq),n.Y36(n.Qsj),n.Y36(r._j))},s.\u0275dir=n.lG2({type:s,selectors:[["","collapse",""]],hostVars:9,hostBindings:function(u,p){2&u&&(n.uIk("aria-hidden",p.isCollapsed),n.ekj("collapse",p.isCollapse)("in",p.isExpanded)("show",p.isExpanded)("collapsing",p.isCollapsing))},inputs:{display:"display",isAnimated:"isAnimated",collapse:"collapse"},outputs:{collapsed:"collapsed",collapses:"collapses",expanded:"expanded",expands:"expands"},exportAs:["bs-collapse"]});class m{static forRoot(){return{ngModule:m,providers:[]}}}m.\u0275fac=function(u){return new(u||m)},m.\u0275mod=n.oAB({type:m}),m.\u0275inj=n.cJS({})}}]);