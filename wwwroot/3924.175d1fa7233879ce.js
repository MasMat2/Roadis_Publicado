"use strict";(self.webpackChunkroadis_app=self.webpackChunkroadis_app||[]).push([[3924],{33369:(E,h,a)=>{a.d(h,{R:()=>o});var s=a(94650),r=a(80529);class o{constructor(e){this.http=e,this.dataUrl="codigoPostal/"}consultar(e){return this.http.get(this.dataUrl+`consultar/${e}`)}consultarTodosParaGrid(){return this.http.get(this.dataUrl+"consultarTodosParaGrid")}consultarTodosParaSelector(){return this.http.get(this.dataUrl+"consultarTodosParaSelector")}consultarPorCodigoPostal(e){return this.http.get(this.dataUrl+`consultarPorCodigoPostal/${e}`)}consultarPorMunicipio(e){return this.http.get(this.dataUrl+`consultarPorMunicipio/${e}`)}consultarPorPaisBusqueda(e,i){return this.http.get(this.dataUrl+`consultarPorPaisBusqueda/${e}/${i}`)}agregar(e){return this.http.post(this.dataUrl+"agregar",e)}editar(e){return this.http.put(this.dataUrl+"editar",e)}eliminar(e){return this.http.delete(this.dataUrl+`eliminar/${e}`)}static#t=this.\u0275fac=function(i){return new(i||o)(s.LFG(r.eN))};static#e=this.\u0275prov=s.Yz7({token:o,factory:o.\u0275fac})}},36441:(E,h,a)=>{a.d(h,{s:()=>o});var s=a(94650),r=a(80529);class o{constructor(e){this.http=e,this.dataUrl="estado/"}consultar(e){return this.http.get(this.dataUrl+`${e}`)}consultarParaFormulario(e){return this.http.get(this.dataUrl+`formulario/${e}`)}consultarParaGrid(){return this.http.get(this.dataUrl+"grid")}consultarPorPaisParaSelector(e){return this.http.get(this.dataUrl+`selector/pais/${e}`)}agregar(e){return this.http.post(this.dataUrl,e)}editar(e){return this.http.put(this.dataUrl,e)}eliminar(e){return this.http.delete(this.dataUrl+`${e}`)}static#t=this.\u0275fac=function(i){return new(i||o)(s.LFG(r.eN))};static#e=this.\u0275prov=s.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"})}},51757:(E,h,a)=>{a.d(h,{G:()=>o});var s=a(94650),r=a(80529);class o{constructor(e){this.http=e,this.dataUrl="municipio/"}consultarParaFormulario(e){return this.http.get(this.dataUrl+`formulario/${e}`)}consultarParaGrid(){return this.http.get(this.dataUrl+"grid")}consultarParaSelector(){return this.http.get(this.dataUrl+"selector")}consultarPorEstadoParaSelector(e){return this.http.get(this.dataUrl+`selector/estado/${e}`)}agregar(e){return this.http.post(this.dataUrl,e)}editar(e){return this.http.put(this.dataUrl,e)}eliminar(e){return this.http.delete(this.dataUrl+`${e}`)}static#t=this.\u0275fac=function(i){return new(i||o)(s.LFG(r.eN))};static#e=this.\u0275prov=s.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"})}},46101:(E,h,a)=>{a.d(h,{$:()=>o});var s=a(94650),r=a(80529);class o{constructor(e){this.http=e,this.dataUrl="pais/"}consultarTodosParaSelector(){return this.http.get(this.dataUrl+"consultarTodosParaSelector")}consultar(e){return this.http.get(this.dataUrl+`consultar/${e}`)}consultarPorClave(e){return this.http.get(this.dataUrl+`consultarPorClave/${e}`)}consultarGeneral(){return this.http.get(this.dataUrl+"consultarGeneral")}agregar(e){return this.http.post(this.dataUrl+"agregar",e)}editar(e){return this.http.put(this.dataUrl+"editar",e)}eliminar(e){return this.http.delete(this.dataUrl+`eliminar/${e}`)}static#t=this.\u0275fac=function(i){return new(i||o)(s.LFG(r.eN))};static#e=this.\u0275prov=s.Yz7({token:o,factory:o.\u0275fac})}},38500:(E,h,a)=>{a.d(h,{f:()=>o});var s=a(94650),r=a(80529);class o{constructor(e){this.http=e,this.dataUrl="sucursal/"}consultarGeneral(){return this.http.get(this.dataUrl+"consultarGeneral")}consultarPorCompaniaParaGrid(){return this.http.get(this.dataUrl+"consultarPorCompaniaParaGrid")}consultarPorUsuarioSesion(){return this.http.get(this.dataUrl+"consultarPorUsuarioSesion")}consultarInformacionDeposito(e){return this.http.get(this.dataUrl+`consultarInformacionDeposito/${e}`)}consultarPorCompania(e){return this.http.get(this.dataUrl+`consultarPorCompania/${e}`)}consultar(e){return this.http.get(this.dataUrl+`consultar/${e}`)}agregar(e){return this.http.post(this.dataUrl+"agregar",e)}editar(e){return this.http.put(this.dataUrl+"editar",e)}eliminar(e){return this.http.delete(this.dataUrl+`eliminar/${e}`)}consultarConfiguracionesGenerales(){return this.http.get(this.dataUrl+"consultarConfiguracionesGenerales")}EditarConfiguracionesGenerales(e){return this.http.put(this.dataUrl+"EditarConfiguracionesGenerales",e)}consultarAplicadoEncuesta(e){return this.http.get(this.dataUrl+`consultarAplicadoEncuesta/${e}`)}consultarHospitalesPorUsuario(){return this.http.get(this.dataUrl+"consultarHospitalesPorUsuario")}static#t=this.\u0275fac=function(i){return new(i||o)(s.LFG(r.eN))};static#e=this.\u0275prov=s.Yz7({token:o,factory:o.\u0275fac})}},25587:(E,h,a)=>{a.d(h,{X:()=>o});var s=a(94650),r=a(80529);class o{constructor(e){this.http=e,this.dataUrl="proyecto/"}consultarTodosParaSelector(){return this.http.get(this.dataUrl+"consultarTodosParaSelector")}consultar(e){return this.http.get(this.dataUrl+`consultar/${e}`)}consultarGeneral(){return this.http.get(this.dataUrl+"consultarGeneral")}agregar(e){return this.http.post(this.dataUrl+"agregar",e)}editar(e){return this.http.put(this.dataUrl+"editar",e)}eliminar(e){return this.http.delete(this.dataUrl+`eliminar/${e}`)}cargaMasiva(e){return this.http.post(this.dataUrl+"cargaMasiva",e)}consultarImagen(e){return this.http.get(this.dataUrl+`imagen/${e}`)}consultarCuadricula(){return this.http.get(this.dataUrl+"consultarCuadricula")}consultarFiltro(e){return this.http.post(this.dataUrl+"consultarGeneral",e)}consultarCursosColaboradorCuadricula(){return this.http.get(this.dataUrl+"consultarCursosColaboradorCuadricula")}consultarGeneralCursosColaborador(){return this.http.get(this.dataUrl+"consultarGeneralCursosColaborador")}consultarInformacionCursosColaborador(){return this.http.get(this.dataUrl+"consultarInformacionCursosColaborador/")}static#t=this.\u0275fac=function(i){return new(i||o)(s.LFG(r.eN))};static#e=this.\u0275prov=s.Yz7({token:o,factory:o.\u0275fac})}},12846:(E,h,a)=>{a.d(h,{Y:()=>v});var s=a(50986),r=a(94650),o=a(2060);class v{constructor(i){this.modalMensajeService=i}validarCamposRequeridos(i){Object.keys(i.controls).forEach(l=>{const p=i.controls[l];p.markAsTouched({onlySelf:!0}),p.markAsDirty({onlySelf:!0})})}validarCamposRequeridosConMensaje(i){Object.keys(i.controls).forEach(l=>{const p=i.controls[l];p.markAsTouched({onlySelf:!0}),p.markAsDirty({onlySelf:!0})}),Object.keys(i.controls).some(l=>{const p=i.controls[l];return!!(p.errors&&p.errors.required&&p.invalid)&&(this.modalMensajeService.modalError(s.g.MENSAJE_REQUERIDOS),!0)})}markAsUntouched(i){Object.keys(i.controls).forEach(l=>{i.controls[l].markAsUntouched({onlySelf:!0})})}static#t=this.\u0275fac=function(l){return new(l||v)(r.LFG(o.V))};static#e=this.\u0275prov=r.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"})}},69210:(E,h,a)=>{a.r(h),a.d(h,{ReporteHistorialMovimientoModule:()=>D});var s=a(25587),r=a(90061),o=a(8816),v=a(3930),e=a(38500),i=a(5955),l=a(41283),p=a(63405),u=a(9116),m=a(13050),g=a(50986),t=a(94650),O=a(36895),y=a(46558),T=a(12846),M=a(24006),I=a(88796);function R(f,c){1&f&&(t.TgZ(0,"div",36),t._uU(1," El proyecto es requerido para la consulta "),t.qZA())}function L(f,c){1&f&&(t.TgZ(0,"div",36),t._uU(1," La fecha de inicio es requerida para la consulta "),t.qZA())}function b(f,c){1&f&&(t.TgZ(0,"div",36),t._uU(1," La fecha fin es requerida para la consulta "),t.qZA())}function F(f,c){1&f&&t._UZ(0,"i",37)}function N(f,c){1&f&&t._UZ(0,"i",38)}function B(f,c){1&f&&(t.TgZ(0,"div",39),t._UZ(1,"img",40),t.TgZ(2,"span"),t._uU(3,"Procesando... por favor espere"),t.qZA()())}class U{constructor(c,C,n,P,_,d){this.location=c,this.sucursalService=C,this.usuarioService=n,this.historialMovimientoService=P,this.proyectoService=_,this.formularioService=d,this.placeHolderSelect=g.g.PLACEHOLDER_DROPDOWN,this.placeHolderNoOptions=g.g.PLACEHOLDER_DROPDOWN_NO_OPTIONS,this.configDate=g.g.CONFIG_DATEPICKER,this.isCollapsed=!0,this.btnSubmit=!1,this.filtro={},this.usuarioList=[],this.nombreArchivo="Historial de Movimientos.pdf",this.configProyectos=Object.assign({labelField:"nombre",valueField:"idProyecto",searchField:["nombre"]},g.g.CONFIG_DROPDOWN_DEFAULT),this.configUsuario=Object.assign({labelField:"nombreCompleto",valueField:"idUsuario",searchField:["nombre"]},g.g.CONFIG_DROPDOWN_DEFAULT),this.configTipo=Object.assign({labelField:"nombre",valueField:"nombre",searchField:["nombre"]},g.g.CONFIG_DROPDOWN_DEFAULT)}ngOnInit(){this.height="calc(80vh - 55px)",this.consultarProyectos(),this.tipos=[{nombre:"Creaci\xf3n"},{nombre:"Actualizaci\xf3n"}]}consultarProyectos(){this.proyectoService.consultarGeneral().subscribe(c=>{this.proyectos=c})}consultarUsuarios(){this.usuarioService.consultarPorTipoUsuario(g.g.CLAVE_USUARIO_ADMINISTRADOR).subscribe(c=>{this.usuarioList=c})}consultarPdf(){this.historialMovimientoService.descargarReporteHistorialMovimiento(this.filtro).subscribe(c=>{this.btnSubmit=!1,this.archivo=c.body})}enviarFormulario(c){if(this.btnSubmit=!0,!c.valid)return this.formularioService.validarCamposRequeridos(c),void(this.btnSubmit=!1);this.consultarPdf()}regresar(){this.location.back()}isCollapsedFunction(){this.isCollapsed=!this.isCollapsed,this.isCollapsed?this.height="calc(80vh - 55px)":this.height="calc(64vh - 55px)"}static#t=this.\u0275fac=function(C){return new(C||U)(t.Y36(O.Ye),t.Y36(e.f),t.Y36(y.i),t.Y36(i.W),t.Y36(s.X),t.Y36(T.Y))};static#e=this.\u0275cmp=t.Xpm({type:U,selectors:[["app-reporte-historial-movimiento"]],decls:61,vars:29,consts:[[1,"contenedor"],[1,"titulo-contenedor"],[1,"cuerpo-contenedor"],["novalidate","novalidate",3,"keydown.enter","ngSubmit"],["formulario","ngForm"],[3,"collapse","isAnimated"],[1,"row"],[1,"col-md-4"],[1,"form-group"],[1,"label-input"],["name","idProyectoName","bindLabel","nombre","bindValue","idProyecto",3,"items","placeholder","notFoundText","ngModel","required","ngModelChange"],["idProyectoLst","ngModel"],["class","error",4,"ngIf"],[1,"col-md-2"],[1,"calendario"],["name","fechaInicioName","type","text","autocomplete","off","placeholder","dd/mm/aaaa","bsDatepicker","",1,"form-control",3,"ngModel","bsConfig","required","ngModelChange"],["fechaInicio","ngModel"],["name","fechaFinName","type","text","autocomplete","off","placeholder","dd/mm/aaaa","bsDatepicker","",1,"form-control",3,"ngModel","bsConfig","required","ngModelChange"],["fechaFin","ngModel"],[1,"label-input","required-label"],["name","tipoName","bindLabel","nombre","bindValue","nombre",3,"items","ngModel","placeholder","notFoundText","ngModelChange"],["tiposLst","ngModel"],["name","numeroName","type","text","autocomplete","cc-csc",1,"form-control",3,"ngModel","ngModelChange"],["numero","ngModel"],[1,"row","mb-4"],[1,"col-md-12","text-center"],["type","submit",1,"btn-primario"],[1,"form-row","panel-busqueda","mb-4"],[1,"panel-carga-elementos","center-element-vertically",3,"click"],[1,"titulo-panel"],[1,"arow-down-up"],["class","fa fa-chevron-down",4,"ngIf"],["class","fa fa-chevron-up",4,"ngIf"],[1,"col-md-12"],[3,"src","height","useBrowserLocale","zoom","filenameForDownload"],["id","loading-cdis",4,"ngIf"],[1,"error"],[1,"fa","fa-chevron-down"],[1,"fa","fa-chevron-up"],["id","loading-cdis"],["src","assets/img/spinner.gif","alt","Procesando..."]],template:function(C,n){if(1&C){const P=t.EpF();t.TgZ(0,"div",0)(1,"div",1),t._uU(2,"Bit\xe1cora de Movimientos"),t.qZA(),t.TgZ(3,"div",2)(4,"form",3,4),t.NdJ("keydown.enter",function(d){return d.preventDefault()})("ngSubmit",function(){t.CHM(P);const d=t.MAs(5);return t.KtG(n.enviarFormulario(d))}),t.TgZ(6,"div",5)(7,"div",6)(8,"div",7)(9,"div",8)(10,"label",9),t._uU(11,"Proyecto"),t.qZA(),t.TgZ(12,"ng-select",10,11),t.NdJ("ngModelChange",function(d){return n.filtro.idProyecto=d}),t.qZA(),t.YNc(14,R,2,0,"div",12),t.qZA()(),t.TgZ(15,"div",13)(16,"div",8)(17,"label",9),t._uU(18,"Fecha Inicio"),t.qZA(),t.TgZ(19,"div",14)(20,"input",15,16),t.NdJ("ngModelChange",function(d){return n.filtro.fechaInicio=d}),t.qZA()(),t.YNc(22,L,2,0,"div",12),t.qZA()(),t.TgZ(23,"div",13)(24,"div",8)(25,"label",9),t._uU(26,"Fecha Fin"),t.qZA(),t.TgZ(27,"div",14)(28,"input",17,18),t.NdJ("ngModelChange",function(d){return n.filtro.fechaFin=d}),t.qZA()(),t.YNc(30,b,2,0,"div",12),t.qZA()(),t.TgZ(31,"div",13)(32,"div",8)(33,"label",19),t._uU(34,"Tipo"),t.qZA(),t.TgZ(35,"div")(36,"ng-select",20,21),t.NdJ("ngModelChange",function(d){return n.filtro.tipo=d}),t.qZA()()()(),t.TgZ(38,"div",13)(39,"div",8)(40,"label",19),t._uU(41,"Folio"),t.qZA(),t.TgZ(42,"div")(43,"input",22,23),t.NdJ("ngModelChange",function(d){return n.filtro.folio=d}),t.qZA()()()()(),t._UZ(45,"div",13),t.TgZ(46,"div",24)(47,"div",25)(48,"button",26),t._uU(49,"Buscar"),t.qZA()()()()(),t.TgZ(50,"div",27)(51,"div",28),t.NdJ("click",function(){return n.isCollapsedFunction()}),t.TgZ(52,"span",29),t._uU(53,"Panel de B\xfasqueda"),t.qZA(),t.TgZ(54,"span",30),t.YNc(55,F,1,0,"i",31),t.YNc(56,N,1,0,"i",32),t.qZA()()(),t.TgZ(57,"div",6)(58,"div",33),t._UZ(59,"ngx-extended-pdf-viewer",34),t.qZA()()()(),t.YNc(60,B,4,0,"div",35)}if(2&C){const P=t.MAs(13),_=t.MAs(21),d=t.MAs(29);t.xp6(6),t.Q6J("collapse",n.isCollapsed)("isAnimated",!0),t.xp6(6),t.Q6J("items",n.proyectos)("placeholder",n.placeHolderSelect)("notFoundText",n.placeHolderNoOptions)("ngModel",n.filtro.idProyecto)("required",!0),t.xp6(2),t.Q6J("ngIf",(null==P.errors?null:P.errors.required)&&P.touched),t.xp6(6),t.Q6J("ngModel",n.filtro.fechaInicio)("bsConfig",n.configDate)("required",!0),t.xp6(2),t.Q6J("ngIf",(null==_.errors?null:_.errors.required)&&_.touched),t.xp6(6),t.Q6J("ngModel",n.filtro.fechaFin)("bsConfig",n.configDate)("required",!0),t.xp6(2),t.Q6J("ngIf",(null==d.errors?null:d.errors.required)&&d.touched),t.xp6(6),t.Q6J("items",n.tipos)("ngModel",n.filtro.tipo)("placeholder",n.placeHolderSelect)("notFoundText",n.placeHolderNoOptions),t.xp6(7),t.Q6J("ngModel",n.filtro.folio),t.xp6(12),t.Q6J("ngIf",n.isCollapsed),t.xp6(1),t.Q6J("ngIf",!n.isCollapsed),t.xp6(3),t.Q6J("src",n.archivo)("height",n.height)("useBrowserLocale",!0)("zoom","page-actual")("filenameForDownload",n.nombreArchivo),t.xp6(1),t.Q6J("ngIf",n.btnSubmit)}},dependencies:[M._Y,M.Fj,M.JJ,M.JL,M.Q7,M.On,M.F,O.O5,I.w9,o.Y,r.Np,r.Y5,v.S3]})}const Z=[{path:"",component:U,canActivate:[m.m],data:{title:"Consulta"}}];class A{static#t=this.\u0275fac=function(C){return new(C||A)};static#e=this.\u0275mod=t.oAB({type:A});static#a=this.\u0275inj=t.cJS({imports:[u.Bz.forChild(Z),u.Bz]})}class D{static#t=this.\u0275fac=function(C){return new(C||D)};static#e=this.\u0275mod=t.oAB({type:D});static#a=this.\u0275inj=t.cJS({providers:[i.W,e.f,s.X],imports:[A,p.m,l.Z,o.f,r.kn,v.g3]})}},8816:(E,h,a)=>{a.d(h,{Y:()=>i,f:()=>l});var s=a(37340),r=a(94650);const o="400ms cubic-bezier(0.4,0.0,0.2,1)",v=[(0,s.oB)({height:0,visibility:"hidden"}),(0,s.jt)(o,(0,s.oB)({height:"*",visibility:"visible"}))],e=[(0,s.oB)({height:"*",visibility:"visible"}),(0,s.jt)(o,(0,s.oB)({height:0,visibility:"hidden"}))];class i{constructor(u,m,g){this._el=u,this._renderer=m,this.collapsed=new r.vpe,this.collapses=new r.vpe,this.expanded=new r.vpe,this.expands=new r.vpe,this.isExpanded=!0,this.collapseNewValue=!0,this.isCollapsed=!1,this.isCollapse=!0,this.isCollapsing=!1,this.isAnimated=!1,this._display="block",this._stylesLoaded=!1,this._COLLAPSE_ACTION_NAME="collapse",this._EXPAND_ACTION_NAME="expand",this._factoryCollapseAnimation=g.build(e),this._factoryExpandAnimation=g.build(v)}set display(u){this._display=u,"none"!==u?this.isAnimated?this.toggle():this.show():this.hide()}set collapse(u){this.collapseNewValue=u,(!this._player||this._isAnimationDone)&&(this.isExpanded=u,this.toggle())}get collapse(){return this.isExpanded}ngAfterViewChecked(){this._stylesLoaded=!0,this._player&&this._isAnimationDone&&(this._player.reset(),this._renderer.setStyle(this._el.nativeElement,"height","*"))}toggle(){this.isExpanded?this.hide():this.show()}hide(){this.isCollapsing=!0,this.isExpanded=!1,this.isCollapsed=!0,this.isCollapsing=!1,this.collapses.emit(this),this._isAnimationDone=!1,this.animationRun(this.isAnimated,this._COLLAPSE_ACTION_NAME)(()=>{this._isAnimationDone=!0,this.collapseNewValue!==this.isCollapsed&&this.isAnimated?this.show():(this.collapsed.emit(this),this._renderer.setStyle(this._el.nativeElement,"display","none"))})}show(){this._renderer.setStyle(this._el.nativeElement,"display",this._display),this.isCollapsing=!0,this.isExpanded=!0,this.isCollapsed=!1,this.isCollapsing=!1,this.expands.emit(this),this._isAnimationDone=!1,this.animationRun(this.isAnimated,this._EXPAND_ACTION_NAME)(()=>{this._isAnimationDone=!0,this.collapseNewValue!==this.isCollapsed&&this.isAnimated?this.hide():(this.expanded.emit(this),this._renderer.removeStyle(this._el.nativeElement,"overflow"))})}animationRun(u,m){if(!u||!this._stylesLoaded)return t=>t();this._renderer.setStyle(this._el.nativeElement,"overflow","hidden"),this._renderer.addClass(this._el.nativeElement,"collapse");const g=m===this._EXPAND_ACTION_NAME?this._factoryExpandAnimation:this._factoryCollapseAnimation;return this._player&&this._player.reset(),this._player=g.create(this._el.nativeElement),this._player.play(),t=>this._player?.onDone(t)}}i.\u0275fac=function(u){return new(u||i)(r.Y36(r.SBq),r.Y36(r.Qsj),r.Y36(s._j))},i.\u0275dir=r.lG2({type:i,selectors:[["","collapse",""]],hostVars:9,hostBindings:function(u,m){2&u&&(r.uIk("aria-hidden",m.isCollapsed),r.ekj("collapse",m.isCollapse)("in",m.isExpanded)("show",m.isExpanded)("collapsing",m.isCollapsing))},inputs:{display:"display",isAnimated:"isAnimated",collapse:"collapse"},outputs:{collapsed:"collapsed",collapses:"collapses",expanded:"expanded",expands:"expands"},exportAs:["bs-collapse"]});class l{static forRoot(){return{ngModule:l,providers:[]}}}l.\u0275fac=function(u){return new(u||l)},l.\u0275mod=r.oAB({type:l}),l.\u0275inj=r.cJS({})}}]);