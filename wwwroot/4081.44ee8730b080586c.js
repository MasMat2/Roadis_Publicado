"use strict";(self.webpackChunkroadis_app=self.webpackChunkroadis_app||[]).push([[4081],{12846:(A,v,t)=>{t.d(v,{Y:()=>l});var u=t(50986),r=t(94650),g=t(2060);class l{constructor(o){this.modalMensajeService=o}validarCamposRequeridos(o){Object.keys(o.controls).forEach(e=>{const c=o.controls[e];c.markAsTouched({onlySelf:!0}),c.markAsDirty({onlySelf:!0})})}validarCamposRequeridosConMensaje(o){Object.keys(o.controls).forEach(e=>{const c=o.controls[e];c.markAsTouched({onlySelf:!0}),c.markAsDirty({onlySelf:!0})}),Object.keys(o.controls).some(e=>{const c=o.controls[e];return!!(c.errors&&c.errors.required&&c.invalid)&&(this.modalMensajeService.modalError(u.g.MENSAJE_REQUERIDOS),!0)})}markAsUntouched(o){Object.keys(o.controls).forEach(e=>{o.controls[e].markAsUntouched({onlySelf:!0})})}static#e=this.\u0275fac=function(e){return new(e||l)(r.LFG(g.V))};static#i=this.\u0275prov=r.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"})}},40675:(A,v,t)=>{t.d(v,{V_:()=>r,aQ:()=>l,vf:()=>g});var r,m;t(40675);(m=r||(r={})).Agregar="Agregar",m.Editar="Editar",m.Ver="Consultar";const g="Seleccione una opci\xf3n",l="No hay opciones disponibles"},14815:(A,v,t)=>{var u,r;t.d(v,{m:()=>u}),(r=u||(u={})).Cruz="fa fa-times",r.Pesos="fa fa-dollar-sign",r.Cambio="fas fa-exchange-alt",r.CheckOut="fas fa-door-open",r.Exito="fas fa-check"},94540:(A,v,t)=>{t.d(v,{gy:()=>r,sO:()=>g});var r,l;t(94540);(l=r||(r={})).Editar="edit",l.Eliminar="delete",l.Ver="see",l.DescargarPdf="DescargarPdf",l.Revisar="Revisar",l.Presentar="presentar";const g={headerName:"",field:"",cellClass:"center-ag",minWidth:44,maxWidth:44,suppressMovable:!0,resizable:!1,filter:!1,lockPinned:!0,pinned:"right",lockPosition:!0}},14081:(A,v,t)=>{t.r(v),t.d(v,{NivelExamenModule:()=>N});var u=t(36895),r=t(20388),g=t(71436),l=t(41283),m=t(24006),o=t(90061),e=t(94650);class c{static#e=this.\u0275fac=function(n){return new(n||c)};static#i=this.\u0275mod=e.oAB({type:c});static#n=this.\u0275inj=e.cJS({imports:[u.ez,m.u5,o.kn]})}var M=t(9116),_=t(31321),y=t(13050),E=t(40675),F=t(14815),S=t(94540),b=t(52522);class D{constructor(){}}var O=t(12846),T=t(2060),Z=t(66606);function J(f,i){1&f&&(e.TgZ(0,"div",27),e._uU(1," La fecha alta es requerida "),e.qZA())}function R(f,i){1&f&&(e.TgZ(0,"div",27),e._uU(1," El Nivel de Evaluaci\xf3n es requerido "),e.qZA())}const U=function(){return{dateInputFormat:"DD/MM/YYYY"}};class p{constructor(i,n,a){this.formularioService=i,this.mensajeService=n,this.nivelExamenService=a,this.nivelExamen=new D,this.submitting=!1,this.esEdicion=!1}ngOnInit(){this.accion===E.V_.Agregar?(this.nivelExamen.fechaAlta=new Date,this.nivelExamen.estatus=!0):this.accion===E.V_.Editar&&this.consultarNivelExamen(this.idNivelExamen)}consultarNivelExamen(i){this.nivelExamenService.consultar(i).subscribe(n=>{n.fechaAlta=new Date(n.fechaAlta),this.nivelExamen=n})}enviarFormulario(i){if(this.submitting=!0,!i.valid)return this.formularioService.validarCamposRequeridos(i),void(this.submitting=!1);this.accion===E.V_.Agregar?this.agregar():this.accion===E.V_.Editar&&this.editar()}agregar(){this.nivelExamenService.agregar(this.nivelExamen).subscribe({next:n=>{this.mensajeService.modalExito("El nivel de Evaluaci\xf3n ha sido agregado"),this.onClose(!0)},error:n=>{this.submitting=!1}})}editar(){this.nivelExamenService.editar(this.nivelExamen).subscribe({next:n=>{this.mensajeService.modalExito("El nivel de Evaluaci\xf3n ha sido modificado"),this.onClose(!0)},error:n=>{this.submitting=!1}})}cancelar(){this.onClose(!1)}esEditar(){return this.accion===E.V_.Editar}static#e=this.\u0275fac=function(n){return new(n||p)(e.Y36(O.Y),e.Y36(T.V),e.Y36(Z.y))};static#i=this.\u0275cmp=e.Xpm({type:p,selectors:[["app-nivel-examen-formulario"]],decls:48,vars:14,consts:[[1,"d-flex"],[1,"barra-lateral-modal"],[1,"modal-content"],[1,"modal-header"],["type","button","aria-label","Close",1,"close","pull-right",3,"click"],[1,"far","fa-times-circle"],["novalidate","novalidate",3,"keydown.enter","ngSubmit"],["formulario","ngForm"],["id","modal",1,"modal-body",2,"overflow","visible"],[1,"row"],[1,"col-1",2,"width","30%"],[1,"form-group"],[1,"label-input","required-label"],["name","clave","type","text","maxlength","10",1,"form-control",3,"ngModel","required","disabled","ngModelChange"],["clave","ngModel"],[1,"calendario"],["type","text","autocomplete","off","placeholder","dd/mm/aaaa","name","fechaAlta","required","","bsDatepicker","","disabled","disabled",1,"form-control",3,"bsConfig","ngModel","ngModelChange"],["fechaAlta","ngModel"],["class","error",4,"ngIf"],["name","estatusContrato","type","text","disabled","disabled",1,"form-control",3,"value","required"],[1,"col-1",2,"width","60%"],["maxlength","200","name","descripcion","type","text",1,"form-control",3,"ngModel","required","ngModelChange"],["descripcion","ngModel"],[1,"modal-footer"],[1,"text-right"],["type","button",1,"btn-secundario","btn-margin-right",3,"click"],["type","submit",1,"btn-primario","btn-margin-left",3,"disabled"],[1,"error"]],template:function(n,a){if(1&n){const d=e.EpF();e.TgZ(0,"div",0),e._UZ(1,"div",1),e.TgZ(2,"div",2)(3,"div",3)(4,"div"),e._uU(5),e.qZA(),e.TgZ(6,"button",4),e.NdJ("click",function(){return a.cancelar()}),e._UZ(7,"i",5),e.qZA()(),e.TgZ(8,"form",6,7),e.NdJ("keydown.enter",function(h){return h.preventDefault()})("ngSubmit",function(){e.CHM(d);const h=e.MAs(9);return e.KtG(a.enviarFormulario(h))}),e.TgZ(10,"div",8)(11,"div",9)(12,"div",10)(13,"div",11)(14,"label",12),e._uU(15,"Clave"),e.qZA(),e.TgZ(16,"div")(17,"input",13,14),e.NdJ("ngModelChange",function(h){return a.nivelExamen.idNivelExamen=h}),e.qZA()()()(),e.TgZ(19,"div",10)(20,"div",11)(21,"label",12),e._uU(22,"Fecha Alta"),e.qZA(),e.TgZ(23,"div",15)(24,"input",16,17),e.NdJ("ngModelChange",function(h){return a.nivelExamen.fechaAlta=h}),e.qZA()(),e.YNc(26,J,2,0,"div",18),e.qZA()(),e.TgZ(27,"div",10)(28,"div",11)(29,"label",12),e._uU(30,"Estatus"),e.qZA(),e.TgZ(31,"div",15),e._UZ(32,"input",19),e.qZA()()()(),e.TgZ(33,"div",9)(34,"div",20)(35,"div",11)(36,"label",12),e._uU(37,"Nivel de Evaluaci\xf3n"),e.qZA(),e.TgZ(38,"div")(39,"input",21,22),e.NdJ("ngModelChange",function(h){return a.nivelExamen.descripcion=h}),e.qZA()(),e.YNc(41,R,2,0,"div",18),e.qZA()()()(),e.TgZ(42,"div",23)(43,"div",24)(44,"button",25),e.NdJ("click",function(){return a.cancelar()}),e._uU(45,"Cancelar"),e.qZA(),e.TgZ(46,"button",26),e._uU(47,"Guardar Nivel de Evaluaci\xf3n"),e.qZA()()()()()()}if(2&n){const d=e.MAs(25),s=e.MAs(40);e.xp6(5),e.hij("Nivel de Evaluaci\xf3n - ",a.accion,""),e.xp6(12),e.Q6J("ngModel",a.nivelExamen.idNivelExamen)("required",!0)("disabled",!0),e.xp6(7),e.Q6J("bsConfig",e.DdM(13,U))("ngModel",a.nivelExamen.fechaAlta),e.xp6(2),e.Q6J("ngIf",(null==d.errors?null:d.errors.required)&&d.touched),e.xp6(6),e.Q6J("value",a.nivelExamen.estatus?"Activo":"Inactivo")("required",!0),e.xp6(7),e.Q6J("ngModel",a.nivelExamen.descripcion)("required",!0),e.xp6(2),e.Q6J("ngIf",(null==s.errors?null:s.errors.required)&&s.touched),e.xp6(5),e.Q6J("disabled",a.submitting)}},dependencies:[u.O5,m._Y,m.Fj,m.JJ,m.JL,m.Q7,m.nD,m.On,m.F,o.Np,o.Y5],encapsulation:2})}var j=t(62861),I=t(58390);function P(f,i){if(1&f){const n=e.EpF();e.TgZ(0,"div",8),e.NdJ("click",function(){e.CHM(n);const d=e.oxw();return e.KtG(d.agregar())}),e.TgZ(1,"button",9),e._uU(2,"Agregar Nivel de Evaluaci\xf3n"),e.qZA()()}}class x{constructor(i,n,a,d){this.accesoService=i,this.mensajeService=n,this.modalService=a,this.nivelExamenService=d,this.HEADER_GRID="Nivel Evaluaci\xf3n",this.tieneAccesoAgregar=!1,this.ACCESO_EDITAR=_.Hp.Editar,this.ACCESO_ELIMINAR=_.Hp.Eliminar,this.nivelExamenList=[],this.columns=[{headerName:"Clave",field:"idNivelExamen",maxWidth:200},{headerName:"Estatus",field:"estatus",minWidth:100,valueGetter:s=>s.data.estatus?"Activo":"Inactivo"},{headerName:"Fecha Alta",field:"fechaAlta",minWidth:100,cellRenderer:s=>s.value?new Date(s.value).toLocaleDateString():""},{headerName:"Nivel de Evaluaci\xf3n",field:"descripcion",minWidth:300}]}ngOnInit(){this.consultarGrid(),this.consultarAccesoAgregar()}consultarAccesoAgregar(){this.accesoService.tieneAcceso(_.Hp.Agregar).subscribe(i=>{this.tieneAccesoAgregar=i})}consultarGrid(){this.nivelExamenService.consultarGeneral().subscribe(i=>{this.nivelExamenList=i})}onGridClick(i){i.accion===S.gy.Editar?this.editar(i.data.idNivelExamen):i.accion===S.gy.Eliminar&&this.eliminar(i.data)}agregar(){const i={accion:E.V_.Agregar,esEdicion:!1,onClose:a=>{a&&this.consultarGrid(),n.hide()}},n=this.modalService.show(p,{initialState:i,...b.OS.Medium})}editar(i){const n={accion:E.V_.Editar,esEdicion:!0,idNivelExamen:i,onClose:d=>{d&&this.consultarGrid(),a.hide()}},a=this.modalService.show(p,{initialState:n,...b.OS.Medium})}eliminar(i){const d=`\xbfDesea eliminar el nivel de evaluaci\xf3n: <strong>${i.descripcion}</strong>?`;this.mensajeService.modalConfirmacion(d,"Eliminar Nivel Evaluaci\xf3n",F.m.Cruz).then(()=>{this.nivelExamenService.eliminar(i.idNivelExamen).subscribe(()=>{this.mensajeService.modalExito("El nivel de Evaluaci\xf3n ha sido eliminado"),this.consultarGrid()})})}static#e=this.\u0275fac=function(n){return new(n||x)(e.Y36(j.Q),e.Y36(T.V),e.Y36(r.tT),e.Y36(Z.y))};static#i=this.\u0275cmp=e.Xpm({type:x,selectors:[["app-nivel-examen"]],decls:9,vars:6,consts:[[1,"contenedor"],[1,"titulo-contenedor"],[1,"cuerpo-contenedor"],[1,"row","justify-content-center"],[1,"col-md-12"],["class","contenedor-agregar",3,"click",4,"ngIf"],[3,"headerName","data","children","accesoEditar","accesoEliminar","event"],["gridNecesidad",""],[1,"contenedor-agregar",3,"click"],[1,"btn-agregar"]],template:function(n,a){1&n&&(e.TgZ(0,"div",0)(1,"div",1),e._uU(2,"Nivel de Evaluaci\xf3n"),e.qZA(),e.TgZ(3,"div",2)(4,"div",3)(5,"div",4),e.YNc(6,P,3,0,"div",5),e.TgZ(7,"app-grid-general",6,7),e.NdJ("event",function(s){return a.onGridClick(s)}),e.qZA()()()()()),2&n&&(e.xp6(6),e.Q6J("ngIf",a.tieneAccesoAgregar),e.xp6(1),e.Q6J("headerName",a.HEADER_GRID)("data",a.nivelExamenList)("children",a.columns)("accesoEditar",a.ACCESO_EDITAR)("accesoEliminar",a.ACCESO_ELIMINAR))},dependencies:[u.O5,I.$],encapsulation:2})}const L=[{path:"",component:x,canActivate:[y.m],data:{title:"Nivel de Examen",acceso:_.Hp.Consultar}}];class C{static#e=this.\u0275fac=function(n){return new(n||C)};static#i=this.\u0275mod=e.oAB({type:C});static#n=this.\u0275inj=e.cJS({imports:[M.Bz.forChild(L),M.Bz]})}class N{static#e=this.\u0275fac=function(n){return new(n||N)};static#i=this.\u0275mod=e.oAB({type:N});static#n=this.\u0275inj=e.cJS({imports:[u.ez,g.a,l.Z,r.zk.forChild(),C,c]})}}}]);