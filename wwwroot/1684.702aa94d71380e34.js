"use strict";(self.webpackChunkroadis_app=self.webpackChunkroadis_app||[]).push([[1684],{12846:(I,C,a)=>{a.d(C,{Y:()=>m});var u=a(50986),v=a(94650),_=a(2060);class m{constructor(r){this.modalMensajeService=r}validarCamposRequeridos(r){Object.keys(r.controls).forEach(s=>{const t=r.controls[s];t.markAsTouched({onlySelf:!0}),t.markAsDirty({onlySelf:!0})})}validarCamposRequeridosConMensaje(r){Object.keys(r.controls).forEach(s=>{const t=r.controls[s];t.markAsTouched({onlySelf:!0}),t.markAsDirty({onlySelf:!0})}),Object.keys(r.controls).some(s=>{const t=r.controls[s];return!!(t.errors&&t.errors.required&&t.invalid)&&(this.modalMensajeService.modalError(u.g.MENSAJE_REQUERIDOS),!0)})}markAsUntouched(r){Object.keys(r.controls).forEach(s=>{r.controls[s].markAsUntouched({onlySelf:!0})})}static#o=this.\u0275fac=function(s){return new(s||m)(v.LFG(_.V))};static#e=this.\u0275prov=v.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"})}},91684:(I,C,a)=>{a.r(C),a.d(C,{TipoCompaniaModule:()=>T});var u=a(20388),v=a(41283),_=a(63405),m=a(43357),E=a(9116),r=a(13050),s=a(85087),t=a(50986);class O{constructor(){}}var o=a(94650),M=a(2060),N=a(12846),p=a(24006),b=a(36895);function R(h,e){1&h&&(o.TgZ(0,"div",24),o._uU(1," La clave es requerida "),o.qZA())}function S(h,e){1&h&&(o.TgZ(0,"div",24),o._uU(1," El nombre del tipo de compa\xf1\xeda es requerido "),o.qZA())}class g{constructor(e,n,i){this.mensajeService=e,this.formularioService=n,this.tipoCompaniaService=i,this.mensajeAgregar="El Tipo de Compa\xf1\xeda ha sido agregado",this.mensajeEditar="El Tipo de Compa\xf1\xeda ha sido modificado",this.btnSubmit=!1,this.tipoCompania=new O,this.deshabilitarGuardarArchivo=!0}ngOnInit(){}enviarFormulario(e){if(this.btnSubmit=!0,!e.valid)return this.formularioService.validarCamposRequeridos(e),void(this.btnSubmit=!1);this.accion===t.g.MODAL_ACCION_AGREGAR?this.agregar():this.accion===t.g.MODAL_ACCION_EDITAR&&this.editar()}agregar(){this.tipoCompaniaService.agregar(this.tipoCompania).subscribe(e=>{this.mensajeService.modalExito(this.mensajeAgregar),this.onClose(!0)},e=>{this.btnSubmit=!1})}editar(){this.tipoCompaniaService.editar(this.tipoCompania).subscribe(e=>{this.mensajeService.modalExito(this.mensajeEditar),this.onClose(!0)},e=>{this.btnSubmit=!1})}cancelar(){this.onClose(!0)}static#o=this.\u0275fac=function(n){return new(n||g)(o.Y36(M.V),o.Y36(N.Y),o.Y36(m.z))};static#e=this.\u0275cmp=o.Xpm({type:g,selectors:[["app-moneda-formulario"]],decls:41,vars:8,consts:[[1,"d-flex"],[1,"barra-lateral-modal"],[1,"modal-content"],[1,"modal-header"],["type","button","aria-label","Close",1,"close","pull-right",3,"click"],[1,"far","fa-times-circle"],["novalidate","novalidate",3,"keydown.enter","ngSubmit"],["formulario","ngForm"],["id","modal",1,"cuerpo-contenedor"],[1,"row"],[1,"col-md-3"],[1,"form-group"],[1,"label-input","required-label"],["name","idTipoCompania","type","text","maxlength","20","disabled","","autofocus","",1,"form-control",3,"ngModel","ngModelChange"],["clave","ngModel"],["name","clave","type","text","maxlength","20","autocomplete","off","required","","autofocus","",1,"form-control",3,"ngModel","disabled","ngModelChange"],["class","error",4,"ngIf"],[1,"col-md-6"],["name","nombre","type","text","maxlength","50","autocomplete","off","required","",1,"form-control",3,"ngModel","ngModelChange"],["nombre","ngModel"],[1,"modal-footer"],[1,"text-right"],["type","button",1,"btn-secundario","mr-3",3,"click"],["type","submit",1,"btn-primario","btn-margin-left",3,"disabled"],[1,"error"]],template:function(n,i){if(1&n){const d=o.EpF();o.TgZ(0,"div",0),o._UZ(1,"div",1),o.TgZ(2,"div",2)(3,"div",3)(4,"div"),o._uU(5),o.qZA(),o.TgZ(6,"button",4),o.NdJ("click",function(){return i.cancelar()}),o._UZ(7,"i",5),o.qZA()(),o.TgZ(8,"form",6,7),o.NdJ("keydown.enter",function(l){return l.preventDefault()})("ngSubmit",function(){o.CHM(d);const l=o.MAs(9);return o.KtG(i.enviarFormulario(l))}),o.TgZ(10,"div",8)(11,"div",9)(12,"div",10)(13,"div",11)(14,"label",12),o._uU(15,"Id Tipo Compa\xf1\xeda"),o.qZA(),o.TgZ(16,"div")(17,"input",13,14),o.NdJ("ngModelChange",function(l){return i.tipoCompania.idTipoCompania=l}),o.qZA()()()(),o.TgZ(19,"div",10)(20,"div",11)(21,"label",12),o._uU(22,"Clave"),o.qZA(),o.TgZ(23,"div")(24,"input",15,14),o.NdJ("ngModelChange",function(l){return i.tipoCompania.clave=l}),o.qZA(),o.YNc(26,R,2,0,"div",16),o.qZA()()(),o.TgZ(27,"div",17)(28,"div",11)(29,"label",12),o._uU(30,"Tipo de Compa\xf1\xeda"),o.qZA(),o.TgZ(31,"div")(32,"input",18,19),o.NdJ("ngModelChange",function(l){return i.tipoCompania.nombre=l}),o.qZA(),o.YNc(34,S,2,0,"div",16),o.qZA()()()()(),o.TgZ(35,"div",20)(36,"div",21)(37,"button",22),o.NdJ("click",function(){return i.cancelar()}),o._uU(38,"Cancelar"),o.qZA(),o.TgZ(39,"button",23),o._uU(40,"Guardar"),o.qZA()()()()()()}if(2&n){const d=o.MAs(18),c=o.MAs(33);o.xp6(5),o.hij("Tipo de Compa\xf1\xeda - ",i.accion,""),o.xp6(12),o.Q6J("ngModel",i.tipoCompania.idTipoCompania),o.xp6(7),o.Q6J("ngModel",i.tipoCompania.clave)("disabled",i.tipoCompania.idTipoCompania>0),o.xp6(2),o.Q6J("ngIf",(null==d.errors?null:d.errors.required)&&d.touched),o.xp6(6),o.Q6J("ngModel",i.tipoCompania.nombre),o.xp6(2),o.Q6J("ngIf",(null==c.errors?null:c.errors.required)&&c.touched),o.xp6(5),o.Q6J("disabled",i.btnSubmit)}},dependencies:[p._Y,p.Fj,p.JJ,p.JL,p.Q7,p.nD,p.On,p.F,b.O5],styles:[".subtitulo[_ngcontent-%COMP%]{color:#ff6c00;padding-top:10px;border-top:1px #ff6c00 solid;margin-top:40px;margin-bottom:20px;width:100%}.image-box[_ngcontent-%COMP%]{display:flex;margin-top:25px;padding-left:15px;justify-items:center;align-items:center}.custom-file-label[_ngcontent-%COMP%]:after{text-align:center}.pointer[_ngcontent-%COMP%]{cursor:pointer}"]})}var Z=a(62861),D=a(58390);function y(h,e){if(1&h){const n=o.EpF();o.TgZ(0,"div",7),o.NdJ("click",function(){o.CHM(n);const d=o.oxw();return o.KtG(d.agregar())}),o.TgZ(1,"button",8),o._uU(2,"Agregar Tipo de Compa\xf1\xeda"),o.qZA()()}}class f{constructor(e,n,i,d,c){this.mensajeService=e,this.tipoCompaniaService=n,this.accesoService=i,this.modalService=d,this.bsModalRef=c,this.tieneAccesoAgregar=!1,this.accesoEditar=s.v.EDITAR_TIPO_COMPANIA,this.accesoEliminar=s.v.ELIMINAR_TIPO_COMPANIA,this.TITULO_MODAL_ELIMINAR="Eliminar Tipo de Compa\xf1\xeda",this.MENSAJE_EXITO_ELIMINAR="El Tipo de Compa\xf1\xeda ha sido eliminado",this.HEADER_GRID="Tipo de Compa\xf1\xeda",this.tipoCompaniaList=[],this.columnaEditar=Object.assign({action:t.g.GRID_ACCION_EDITAR,title:"Editar",acceso:this.accesoEditar,cellRendererSelector:l=>({component:"actionButton",params:{disabled:!1}})},t.g.CONFIG_COLUMN_ACTION),this.columnaEliminar=Object.assign({action:t.g.GRID_ACCION_ELIMINAR,title:"Eliminar",acceso:this.accesoEliminar,cellRendererSelector:l=>({component:"actionButton",params:{disabled:!1}})},t.g.CONFIG_COLUMN_ACTION),this.columns=[{headerName:"Id Tipo Compa\xf1\xeda",field:"idTipoCompania",maxWidth:200},{headerName:"Clave",field:"clave",maxWidth:200},{headerName:"Nombre",field:"nombre",minWidth:150},this.columnaEditar,this.columnaEliminar]}ngOnInit(){this.consultarAccesoAgregar(),this.consultarGrid()}consultarAccesoAgregar(){this.accesoService.tieneAcceso(s.v.AGREGAR_TIPO_COMPANIA).subscribe(e=>{this.tieneAccesoAgregar=e},e=>{})}consultarGrid(){this.tipoCompaniaService.consultarTodosParaGrid().subscribe(e=>{this.tipoCompaniaList=e})}onGridClick(e){e.accion!==t.g.GRID_ACCION_EDITAR?e.accion!==t.g.GRID_ACCION_ELIMINAR||this.eliminar(e.data):this.editar(e.data.idTipoCompania)}agregar(){this.bsModalRef=this.modalService.show(g,t.g.CONFIG_MODAL_MEDIUM),this.bsModalRef.content.accion=t.g.MODAL_ACCION_AGREGAR,this.bsModalRef.content.onClose=e=>{e&&this.consultarGrid(),this.bsModalRef.hide()}}editar(e){this.tipoCompaniaService.consultar(e).subscribe(n=>{this.bsModalRef=this.modalService.show(g,t.g.CONFIG_MODAL_MEDIUM),this.bsModalRef.content.tipoCompania=n,this.bsModalRef.content.accion=t.g.MODAL_ACCION_EDITAR,this.bsModalRef.content.idTipoCompania=e,this.bsModalRef.content.onClose=i=>{i&&this.consultarGrid(),this.bsModalRef.hide()}})}eliminar(e){this.mensajeService.modalConfirmacion("\xbfDesea eliminar el tipo de compa\xf1\xeda <strong>"+e.nombre+"</strong>?",this.TITULO_MODAL_ELIMINAR).then(n=>{this.tipoCompaniaService.eliminar(e.idTipoCompania).subscribe(i=>{this.mensajeService.modalExito(this.MENSAJE_EXITO_ELIMINAR),this.consultarGrid()})})}static#o=this.\u0275fac=function(n){return new(n||f)(o.Y36(M.V),o.Y36(m.z),o.Y36(Z.Q),o.Y36(u.tT),o.Y36(u.UZ))};static#e=this.\u0275cmp=o.Xpm({type:f,selectors:[["ng-component"]],decls:8,vars:6,consts:[[1,"contenedor"],[1,"titulo-contenedor"],[1,"cuerpo-contenedor"],[1,"row"],[1,"col-md-12"],["class","contenedor-agregar",3,"click",4,"ngIf"],[3,"headerName","data","children","accesoEditar","accesoEliminar","event"],[1,"contenedor-agregar",3,"click"],[1,"btn-agregar"]],template:function(n,i){1&n&&(o.TgZ(0,"div",0)(1,"div",1),o._uU(2,"Tipo de Compa\xf1\xeda"),o.qZA(),o.TgZ(3,"div",2)(4,"div",3)(5,"div",4),o.YNc(6,y,3,0,"div",5),o.TgZ(7,"app-grid-general",6),o.NdJ("event",function(c){return i.onGridClick(c)}),o.qZA()()()()()),2&n&&(o.xp6(6),o.Q6J("ngIf",i.tieneAccesoAgregar),o.xp6(1),o.Q6J("headerName",i.HEADER_GRID)("data",i.tipoCompaniaList)("children",i.columns)("accesoEditar",i.accesoEditar)("accesoEliminar",i.accesoEliminar))},dependencies:[b.O5,D.$],encapsulation:2})}const F=[{path:"",component:f,canActivate:[r.m],data:{title:"Consulta",acceso:s.v.CONSULTAR_TIPO_COMPANIA}}];class A{static#o=this.\u0275fac=function(n){return new(n||A)};static#e=this.\u0275mod=o.oAB({type:A});static#i=this.\u0275inj=o.cJS({imports:[E.Bz.forChild(F),E.Bz]})}class T{static#o=this.\u0275fac=function(n){return new(n||T)};static#e=this.\u0275mod=o.oAB({type:T});static#i=this.\u0275inj=o.cJS({providers:[m.z,u.UZ],imports:[A,_.m,v.Z,u.zk.forChild()]})}}}]);