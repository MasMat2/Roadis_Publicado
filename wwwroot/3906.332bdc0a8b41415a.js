"use strict";(self.webpackChunkroadis_app=self.webpackChunkroadis_app||[]).push([[3906],{33369:(N,C,a)=>{a.d(C,{R:()=>m});var u=a(94650),p=a(80529);class m{constructor(r){this.http=r,this.dataUrl="codigoPostal/"}consultar(r){return this.http.get(this.dataUrl+`consultar/${r}`)}consultarTodosParaGrid(){return this.http.get(this.dataUrl+"consultarTodosParaGrid")}consultarTodosParaSelector(){return this.http.get(this.dataUrl+"consultarTodosParaSelector")}consultarPorCodigoPostal(r){return this.http.get(this.dataUrl+`consultarPorCodigoPostal/${r}`)}consultarPorMunicipio(r){return this.http.get(this.dataUrl+`consultarPorMunicipio/${r}`)}consultarPorPaisBusqueda(r,_){return this.http.get(this.dataUrl+`consultarPorPaisBusqueda/${r}/${_}`)}agregar(r){return this.http.post(this.dataUrl+"agregar",r)}editar(r){return this.http.put(this.dataUrl+"editar",r)}eliminar(r){return this.http.delete(this.dataUrl+`eliminar/${r}`)}static#o=this.\u0275fac=function(_){return new(_||m)(u.LFG(p.eN))};static#e=this.\u0275prov=u.Yz7({token:m,factory:m.\u0275fac})}},83083:(N,C,a)=>{a.d(C,{c:()=>m});var u=a(94650),p=a(80529);class m{constructor(r){this.http=r,this.dataUrl="compania/"}consultar(r){return this.http.get(this.dataUrl+`consultar/${r}`)}consultarGeneral(){return this.http.get(this.dataUrl+"consultarGeneral")}consultarTodosParaSelector(){return this.http.get(this.dataUrl+"consultarTodosParaSelector")}consultarPorUsuarioPermiso(){return this.http.get(this.dataUrl+"consultarPorUsuarioPermiso")}consultarTodosParaGrid(r){return this.http.post(this.dataUrl+"consultarTodosParaGrid",r)}agregar(r){return this.http.post(this.dataUrl+"agregar",r)}editar(r){return this.http.put(this.dataUrl+"editar",r)}eliminar(r){return this.http.delete(this.dataUrl+`eliminar/${r}`)}consultarPorUsuario(){return this.http.get(this.dataUrl+"consultarPorUsuario")}consultarClaveCompaniaUsuarioSesion(){return this.http.get(this.dataUrl+"consultarClaveCompaniaUsuarioSesion/",{responseType:"text"})}static#o=this.\u0275fac=function(_){return new(_||m)(u.LFG(p.eN))};static#e=this.\u0275prov=u.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"})}},36441:(N,C,a)=>{a.d(C,{s:()=>m});var u=a(94650),p=a(80529);class m{constructor(r){this.http=r,this.dataUrl="estado/"}consultar(r){return this.http.get(this.dataUrl+`${r}`)}consultarParaFormulario(r){return this.http.get(this.dataUrl+`formulario/${r}`)}consultarParaGrid(){return this.http.get(this.dataUrl+"grid")}consultarPorPaisParaSelector(r){return this.http.get(this.dataUrl+`selector/pais/${r}`)}agregar(r){return this.http.post(this.dataUrl,r)}editar(r){return this.http.put(this.dataUrl,r)}eliminar(r){return this.http.delete(this.dataUrl+`${r}`)}static#o=this.\u0275fac=function(_){return new(_||m)(u.LFG(p.eN))};static#e=this.\u0275prov=u.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"})}},51757:(N,C,a)=>{a.d(C,{G:()=>m});var u=a(94650),p=a(80529);class m{constructor(r){this.http=r,this.dataUrl="municipio/"}consultarParaFormulario(r){return this.http.get(this.dataUrl+`formulario/${r}`)}consultarParaGrid(){return this.http.get(this.dataUrl+"grid")}consultarParaSelector(){return this.http.get(this.dataUrl+"selector")}consultarPorEstadoParaSelector(r){return this.http.get(this.dataUrl+`selector/estado/${r}`)}agregar(r){return this.http.post(this.dataUrl,r)}editar(r){return this.http.put(this.dataUrl,r)}eliminar(r){return this.http.delete(this.dataUrl+`${r}`)}static#o=this.\u0275fac=function(_){return new(_||m)(u.LFG(p.eN))};static#e=this.\u0275prov=u.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"})}},46101:(N,C,a)=>{a.d(C,{$:()=>m});var u=a(94650),p=a(80529);class m{constructor(r){this.http=r,this.dataUrl="pais/"}consultarTodosParaSelector(){return this.http.get(this.dataUrl+"consultarTodosParaSelector")}consultar(r){return this.http.get(this.dataUrl+`consultar/${r}`)}consultarPorClave(r){return this.http.get(this.dataUrl+`consultarPorClave/${r}`)}consultarGeneral(){return this.http.get(this.dataUrl+"consultarGeneral")}agregar(r){return this.http.post(this.dataUrl+"agregar",r)}editar(r){return this.http.put(this.dataUrl+"editar",r)}eliminar(r){return this.http.delete(this.dataUrl+`eliminar/${r}`)}static#o=this.\u0275fac=function(_){return new(_||m)(u.LFG(p.eN))};static#e=this.\u0275prov=u.Yz7({token:m,factory:m.\u0275fac})}},21737:(N,C,a)=>{a.d(C,{n:()=>m});var u=a(94650),p=a(80529);class m{constructor(r){this.http=r,this.dataUrl="agrupadorCuentaContable/"}consultarParaGrid(){return this.http.get(this.dataUrl+"consultarParaGrid")}consultarParaSelector(){return this.http.get(this.dataUrl+"consultarParaSelector")}consultarDto(r){return this.http.get(this.dataUrl+`consultarDto/${r}`)}agregar(r){return this.http.post(this.dataUrl+"agregar",r)}editar(r){return this.http.put(this.dataUrl+"editar",r)}eliminar(r){return this.http.delete(this.dataUrl+`eliminar/${r}`)}static#o=this.\u0275fac=function(_){return new(_||m)(u.LFG(p.eN))};static#e=this.\u0275prov=u.Yz7({token:m,factory:m.\u0275fac})}},3338:(N,C,a)=>{a.d(C,{b:()=>u});class u{constructor(){}}},44051:(N,C,a)=>{a.d(C,{V:()=>w});var u=a(15861);class p{constructor(){}}class m{}class U{}var r=a(3338),_=a(60393),g=a(50986),t=a(90429),v=a(92340),o=a(94650),P=a(62861),O=a(21737),S=a(33369),y=a(83083),Y=a(36441),R=a(40293),G=a(73698),b=a(2060),q=a(70932),x=a(51757),F=a(46101),V=a(73523),D=a(9116),E=a(43357),f=a(80529);class M{constructor(e){this.http=e,this.dataUrl="companiaLogotipo/"}consultarPorCompania(e){return this.http.get(this.dataUrl+`consultarPorCompania/${e}`)}agregar(e){return this.http.post(this.dataUrl+"agregar",e)}eliminar(e){return this.http.delete(this.dataUrl+`eliminar/${e}`)}static#o=this.\u0275fac=function(n){return new(n||M)(o.LFG(f.eN))};static#e=this.\u0275prov=o.Yz7({token:M,factory:M.\u0275fac,providedIn:"root"})}var h=a(36895),T=a(24006),L=a(88796);const X=["companiaLogotipoInput"];function eo(l,e){if(1&l&&(o.TgZ(0,"div",56),o._uU(1),o.qZA()),2&l){const n=o.oxw();o.xp6(1),o.Oqu(n.titulo)}}function io(l,e){1&l&&(o.TgZ(0,"div",57),o._uU(1," El nombre compa\xf1\xeda es requerido "),o.qZA())}function no(l,e){1&l&&(o.TgZ(0,"div",57),o._uU(1," El tipo de compan\xeda es requerido "),o.qZA())}function ao(l,e){1&l&&(o.TgZ(0,"div",57),o._uU(1," El RFC es requerido "),o.qZA())}function to(l,e){1&l&&(o.TgZ(0,"div",57),o._uU(1," El RFC tiene un formato inv\xe1lido "),o.qZA())}function ro(l,e){1&l&&(o.TgZ(0,"div",57),o._uU(1," El giro comercial es requerido "),o.qZA())}function lo(l,e){1&l&&(o.TgZ(0,"div",57),o._uU(1," El portal web es requerido "),o.qZA())}function so(l,e){1&l&&(o.TgZ(0,"div",57),o._uU(1," El pa\xeds es requerido "),o.qZA())}function co(l,e){1&l&&(o.TgZ(0,"div",57),o._uU(1," El c\xf3digo postal es requerido (5 d\xedgitos) "),o.qZA())}function uo(l,e){1&l&&(o.TgZ(0,"div",57),o._uU(1," El c\xf3digo postal tiene un formato inv\xe1lido "),o.qZA())}function mo(l,e){1&l&&(o.TgZ(0,"div",57),o._uU(1," El estado es requerido "),o.qZA())}function po(l,e){1&l&&(o.TgZ(0,"div",57),o._uU(1," El municipio es requerido "),o.qZA())}function go(l,e){1&l&&(o.TgZ(0,"div",57),o._uU(1," La colonia es requerida "),o.qZA())}function ho(l,e){1&l&&(o.TgZ(0,"div",57),o._uU(1," La calle es requerida "),o.qZA())}function _o(l,e){1&l&&(o.TgZ(0,"div",57),o._uU(1," El n\xfam. exterior es requerido "),o.qZA())}function fo(l,e){1&l&&(o.TgZ(0,"div",57),o._uU(1," El n\xfam. exterior tiene un formato inv\xe1lido "),o.qZA())}function Co(l,e){1&l&&(o.TgZ(0,"div",57),o._uU(1," El n\xfam. interior tiene un formato inv\xe1lido "),o.qZA())}function vo(l,e){1&l&&(o.TgZ(0,"div",57),o._uU(1," El tel\xe9fono es requerido (10 d\xedgitos) "),o.qZA())}function Mo(l,e){1&l&&(o.TgZ(0,"div",57),o._uU(1," El correo electr\xf3nico es requerido "),o.qZA())}function To(l,e){1&l&&(o.TgZ(0,"div",57),o._uU(1," El correo electr\xf3nico tiene un formato inv\xe1lido "),o.qZA())}function Ao(l,e){1&l&&(o.TgZ(0,"div",57),o._uU(1," La contrase\xf1a es requerida "),o.qZA())}function Eo(l,e){1&l&&(o.TgZ(0,"div",57),o._uU(1," La confirmaci\xf3n de contrase\xf1a es requerida "),o.qZA())}function Zo(l,e){1&l&&(o.TgZ(0,"div",57),o._uU(1," Las contrase\xf1as no coinciden "),o.qZA())}function Io(l,e){if(1&l){const n=o.EpF();o.TgZ(0,"div",6)(1,"div",7)(2,"div",8)(3,"label",9),o._uU(4,"Contrase\xf1a"),o.qZA(),o.TgZ(5,"div")(6,"input",58,59),o.NdJ("ngModelChange",function(s){o.CHM(n);const c=o.oxw();return o.KtG(c.compania.contrasenaUsuario=s)}),o.qZA()(),o.YNc(8,Ao,2,0,"div",12),o.qZA()(),o.TgZ(9,"div",7)(10,"div",8)(11,"label",9),o._uU(12,"Confirmar Contrase\xf1a"),o.qZA(),o.TgZ(13,"div")(14,"input",60,61),o.NdJ("ngModelChange",function(s){o.CHM(n);const c=o.oxw();return o.KtG(c.confirmarContrasena=s)}),o.qZA()(),o.YNc(16,Eo,2,0,"div",12),o.YNc(17,Zo,2,0,"div",12),o.qZA()()()}if(2&l){const n=o.MAs(7),i=o.MAs(15),s=o.oxw();o.xp6(6),o.Q6J("ngModel",s.compania.contrasenaUsuario)("required",!0),o.xp6(2),o.Q6J("ngIf",(null==n.errors?null:n.errors.required)&&n.touched),o.xp6(6),o.Q6J("ngModel",s.confirmarContrasena)("required",!0),o.xp6(2),o.Q6J("ngIf",(null==i.errors?null:i.errors.required)&&i.touched),o.xp6(1),o.Q6J("ngIf",n.value!=i.value&&i.touched)}}function Fo(l,e){1&l&&(o.TgZ(0,"div",57),o._uU(1," El r\xe9gimen fiscal es requerido "),o.qZA())}function Lo(l,e){1&l&&(o.TgZ(0,"div",57),o._uU(1," La moneda es requerida "),o.qZA())}function No(l,e){if(1&l){const n=o.EpF();o.TgZ(0,"div")(1,"div",68)(2,"div",69),o._uU(3),o.TgZ(4,"img",70),o.NdJ("click",function(){o.CHM(n);const s=o.oxw(2);return o.KtG(s.eliminarLogotipo())}),o.qZA()()(),o.TgZ(5,"div",68)(6,"div",63),o._UZ(7,"img",71),o.qZA()()()}if(2&l){const n=o.oxw(2);o.xp6(3),o.hij(" ",null==n.companiaLogotipo?null:n.companiaLogotipo.nombreImagen," "),o.xp6(4),o.Q6J("src",null!=n.companiaLogotipo&&n.companiaLogotipo.imagenBase64?n.obtenerSrcLogotipo(n.companiaLogotipo):n.urlBackend+n.companiaLogotipo.src,o.LSH)}}function Po(l,e){if(1&l){const n=o.EpF();o.TgZ(0,"div")(1,"div",5),o._uU(2,"Logotipo de Compa\xf1\xeda"),o.qZA(),o.TgZ(3,"div",62)(4,"div",63)(5,"div")(6,"div",64)(7,"input",65,66),o.NdJ("change",function(s){o.CHM(n);const c=o.oxw();return o.KtG(c.onFileChangeLogotipo(s))}),o.qZA(),o.TgZ(9,"label",67),o._uU(10),o.qZA()()()()(),o.YNc(11,No,8,2,"div",51),o.qZA()}if(2&l){const n=o.oxw();o.xp6(7),o.Q6J("disabled",n.companiaLogotipo),o.xp6(3),o.hij(" ",null==n.companiaLogotipo?null:n.companiaLogotipo.nombreImagen," "),o.xp6(1),o.Q6J("ngIf",(null==n.companiaLogotipo?null:n.companiaLogotipo.imagenBase64)||(null==n.companiaLogotipo?null:n.companiaLogotipo.src))}}function Uo(l,e){1&l&&(o.TgZ(0,"div",57),o._uU(1," El nombre es requerido "),o.qZA())}function Oo(l,e){1&l&&(o.TgZ(0,"div",57),o._uU(1," El nombre tiene un formato inv\xe1lido "),o.qZA())}function bo(l,e){1&l&&(o.TgZ(0,"div",57),o._uU(1," El apellido paterno es requerido "),o.qZA())}function qo(l,e){1&l&&(o.TgZ(0,"div",57),o._uU(1," El apellido paterno tiene un formato inv\xe1lido "),o.qZA())}function xo(l,e){1&l&&(o.TgZ(0,"div",57),o._uU(1," El apellido materno es requerido "),o.qZA())}function Do(l,e){1&l&&(o.TgZ(0,"div",57),o._uU(1," El apellido materno tiene un formato inv\xe1lido "),o.qZA())}function yo(l,e){1&l&&(o.TgZ(0,"div",57),o._uU(1," El correo tiene un formato inv\xe1lido "),o.qZA())}function Jo(l,e){1&l&&(o.TgZ(0,"div",57),o._uU(1," El correo es requerido "),o.qZA())}function So(l,e){1&l&&(o.TgZ(0,"div",57),o._uU(1," La lada es requerida "),o.qZA())}function Ro(l,e){1&l&&(o.TgZ(0,"div",57),o._uU(1," El tel\xe9fono es requerido (10 d\xedgitos) "),o.qZA())}function Qo(l,e){if(1&l){const n=o.EpF();o.TgZ(0,"div")(1,"div",5),o._uU(2,"Datos de Contacto"),o.qZA(),o.TgZ(3,"div",72),o._UZ(4,"i",73),o.TgZ(5,"div"),o._uU(6," Indique los datos de contacto personal, para futuras referencias. "),o.qZA()(),o.TgZ(7,"div",6)(8,"div",7)(9,"div",8)(10,"label",9),o._uU(11,"Nombre"),o.qZA(),o.TgZ(12,"div")(13,"input",74,11),o.NdJ("ngModelChange",function(s){o.CHM(n);const c=o.oxw();return o.KtG(c.companiaContacto.nombre=s)}),o.qZA()(),o.YNc(15,Uo,2,0,"div",12),o.YNc(16,Oo,2,0,"div",12),o.qZA()(),o.TgZ(17,"div",7)(18,"div",8)(19,"label",9),o._uU(20,"Apellido Paterno"),o.qZA(),o.TgZ(21,"div")(22,"input",75,76),o.NdJ("ngModelChange",function(s){o.CHM(n);const c=o.oxw();return o.KtG(c.companiaContacto.apellidoPaterno=s)}),o.qZA()(),o.YNc(24,bo,2,0,"div",12),o.YNc(25,qo,2,0,"div",12),o.qZA()(),o.TgZ(26,"div",7)(27,"div",8)(28,"label",9),o._uU(29,"Apellido Materno"),o.qZA(),o.TgZ(30,"div")(31,"input",77,78),o.NdJ("ngModelChange",function(s){o.CHM(n);const c=o.oxw();return o.KtG(c.companiaContacto.apellidoMaterno=s)}),o.qZA()(),o.YNc(33,xo,2,0,"div",12),o.YNc(34,Do,2,0,"div",12),o.qZA()()(),o.TgZ(35,"div",6)(36,"div",7)(37,"div",8)(38,"label",9),o._uU(39,"Correo Electr\xf3nico"),o.qZA(),o.TgZ(40,"div")(41,"input",79,80),o.NdJ("ngModelChange",function(s){o.CHM(n);const c=o.oxw();return o.KtG(c.companiaContacto.correo=s)}),o.qZA()(),o.YNc(43,yo,2,0,"div",12),o.YNc(44,Jo,2,0,"div",12),o.qZA()(),o.TgZ(45,"div",7)(46,"div",8)(47,"label",9),o._uU(48,"Lada"),o.qZA(),o.TgZ(49,"div",6)(50,"div",38)(51,"ng-select",81,82),o.NdJ("ngModelChange",function(s){o.CHM(n);const c=o.oxw();return o.KtG(c.companiaContacto.idLada=s)}),o.qZA()(),o.YNc(53,So,2,0,"div",12),o.TgZ(54,"label",9),o._uU(55,"Tel\xe9fono (10 d\xedgitos)"),o.qZA(),o.TgZ(56,"div",41)(57,"input",83,84),o.NdJ("ngModelChange",function(s){o.CHM(n);const c=o.oxw();return o.KtG(c.companiaContacto.telefonoMovil=s)}),o.qZA()()(),o.YNc(59,Ro,2,0,"div",12),o.qZA()()()()}if(2&l){const n=o.MAs(14),i=o.MAs(23),s=o.MAs(32),c=o.MAs(42),d=o.MAs(52),Z=o.MAs(58),A=o.oxw();o.xp6(13),o.Q6J("ngModel",A.companiaContacto.nombre)("required",A.desdeLogin),o.xp6(2),o.Q6J("ngIf",(null==n.errors?null:n.errors.required)&&n.touched),o.xp6(1),o.Q6J("ngIf",(null==n.errors?null:n.errors.formatoNombre)&&n.touched),o.xp6(6),o.Q6J("ngModel",A.companiaContacto.apellidoPaterno)("required",A.desdeLogin),o.xp6(2),o.Q6J("ngIf",(null==i.errors?null:i.errors.required)&&i.touched),o.xp6(1),o.Q6J("ngIf",(null==i.errors?null:i.errors.formatoNombre)&&i.touched),o.xp6(6),o.Q6J("ngModel",A.companiaContacto.apellidoMaterno)("required",A.desdeLogin),o.xp6(2),o.Q6J("ngIf",(null==s.errors?null:s.errors.required)&&s.touched),o.xp6(1),o.Q6J("ngIf",(null==s.errors?null:s.errors.formatoNombre)&&s.touched),o.xp6(7),o.Q6J("ngModel",A.companiaContacto.correo)("required",A.desdeLogin),o.xp6(2),o.Q6J("ngIf",(null==c.errors?null:c.errors.formatoCorreo)&&c.touched),o.xp6(1),o.Q6J("ngIf",(null==c.errors?null:c.errors.required)&&c.touched),o.xp6(7),o.Q6J("items",A.ladaList)("ngModel",A.companiaContacto.idLada)("placeholder",A.placeHolderSelect)("notFoundText",A.placeHolderNoOptions),o.xp6(2),o.Q6J("ngIf",(null==d.errors?null:d.errors.required)&&d.touched),o.xp6(4),o.Q6J("ngModel",A.companiaContacto.telefonoMovil),o.xp6(2),o.Q6J("ngIf",((null==Z.errors?null:Z.errors.required)||(null==Z.errors?null:Z.errors.minlength)||(null==Z.errors?null:Z.errors.maxlength))&&Z.touched)}}function Yo(l,e){if(1&l){const n=o.EpF();o.TgZ(0,"button",85),o.NdJ("click",function(){o.CHM(n);const s=o.oxw(),c=o.MAs(4);return o.KtG(s.enviarFormulario(c))}),o._uU(1," Guardar "),o.qZA()}if(2&l){const n=o.oxw();o.Q6J("disabled",n.btnSubmit)}}class w{constructor(e,n,i,s,c,d,Z,A,B,I,W,H,K,j,Q){this.accesoService=e,this.agrupadorCuentaContableService=n,this.codigoPostalService=i,this.companiaService=s,this.estadoService=c,this.giroComercialService=d,this.ladaService=Z,this.modalMensajeService=A,this.monedaService=B,this.municipioService=I,this.paisService=W,this.regimenFiscalService=H,this.router=K,this.tipoCompaniaService=j,this.companiaLogotipoService=Q,this.titulo="Agregar Compa\xf1\xeda",this.desdeLogin=!0,this.tieneAccesoEditar=!1,this.placeHolderSelect=g.g.PLACEHOLDER_DROPDOWN,this.placeHolderNoOptions=g.g.PLACEHOLDER_DROPDOWN_NO_OPTIONS,this.mensajeEditar="La compa\xf1\xeda ha sido modificada",this.btnSubmit=!1,this.compania=new p,this.companiaContacto=new m,this.paisList=[],this.estadoList=[],this.municipioList=[],this.ladaList=[],this.regimenFiscalList=[],this.agrupadorCuentaList=[],this.tipoCompaniaList=[],this.giroComercialList=[],this.monedaList=[],this.urlBackend=v.N.urlBackend,this.usuario=new r.b,this.confirmarContrasena="",this.companiaLogotipo=new U,this.configLada=Object.assign({labelField:"claveNumero",valueField:"idLada",searchField:["claveNumero"],dropdownParent:"body"},g.g.CONFIG_DROPDOWN_DEFAULT),this.configRegimenFiscal=Object.assign({labelField:"claveNombre",valueField:"idRegimenFiscal",searchField:["claveNombre"]},g.g.CONFIG_DROPDOWN_DEFAULT),this.configAgrupadorCuenta=Object.assign({labelField:"descripcion",valueField:"idAgrupadorCuentaContable",searchField:["descripcion"],dropdownParent:"body"},g.g.CONFIG_DROPDOWN_DEFAULT),this.configTipoCompania=Object.assign({labelField:"nombre",valueField:"idTipoCompania",searchField:["nombre"],dropdownParent:"body"},g.g.CONFIG_DROPDOWN_DEFAULT),this.configMoneda=Object.assign({labelField:"claveNombre",valueField:"idMoneda",searchField:["claveNombre"],dropdownParent:"body"},g.g.CONFIG_DROPDOWN_DEFAULT),this.configGiroComercial=Object.assign({labelField:"nombre",valueField:"idGiroComercial",searchField:["nombre"],dropdownParent:"body"},g.g.CONFIG_DROPDOWN_DEFAULT)}ngOnInit(){var e=this;return(0,u.Z)(function*(){e.desdeLogin?(e.accion=g.g.COMPONENT_ACCION_AGREGAR,e.tieneAccesoEditar=!0):e.accesoService.tieneAcceso(_.xI.Editar).toPromise().then(n=>e.tieneAccesoEditar=n??!1).catch(()=>{}),e.accion===g.g.COMPONENT_ACCION_EDITAR&&(e.consultarLogotipo(e.idCompania),yield e.consultarCompania(e.idCompania)),e.urlFrontend=t.LT(),yield Promise.all([e.consultarPaises(),e.consultarLadas(),e.consultarRegimenFiscal(),e.consultarAgrupadores(),e.consultarTiposCompania(),e.consultarMonedas(),e.consultarGirosComerciales()])})()}consultarCompania(e){var n=this;return(0,u.Z)(function*(){const i=yield n.companiaService.consultar(e).toPromise();n.compania=i??new p})()}consultarLogotipo(e){var n=this;return(0,u.Z)(function*(){const i=yield n.companiaLogotipoService.consultarPorCompania(e).toPromise().catch(s=>console.log(s));n.companiaLogotipo=i??null})()}consultarAgrupadores(){var e=this;return(0,u.Z)(function*(){const n=yield e.agrupadorCuentaContableService.consultarParaSelector().toPromise().catch(()=>[]);e.agrupadorCuentaList=n??[]})()}consultarTiposCompania(){var e=this;return(0,u.Z)(function*(){const n=yield e.tipoCompaniaService.consultarParaSelector().toPromise().catch(()=>[]);e.tipoCompaniaList=n??[]})()}consultarLadas(){var e=this;return(0,u.Z)(function*(){const n=yield e.ladaService.consultarTodosParaSelector().toPromise().catch(()=>[]);e.ladaList=n??[]})()}consultarRegimenFiscal(){var e=this;return(0,u.Z)(function*(){const n=yield e.regimenFiscalService.consultarTodosParaSelector().toPromise().then(i=>(i?.forEach(s=>s.claveNombre=`${s.clave} - ${s.nombre}`),i)).catch(()=>[]);e.regimenFiscalList=n??[]})()}consultarMonedas(){var e=this;return(0,u.Z)(function*(){const n=yield e.monedaService.consultarParaSelector().toPromise().then(i=>(i?.forEach(s=>s.claveNombre=`${s.nombre} (${s.clave})`),i)).catch(()=>[]);e.monedaList=n??[]})()}consultarPaises(){var e=this;return(0,u.Z)(function*(){const n=yield e.paisService.consultarTodosParaSelector().toPromise().catch(()=>[]);if(n&&0!==n.length){if(e.paisList=n??[],!e.compania.idPais){const i=e.paisList.find(s=>s.clave===g.g.CLAVE_PAIS_MEXICO);e.compania.idPais=i?.idPais??0}e.consultarEstados(e.compania.idPais)}else e.paisList=[]})()}consultarEstados(e){var n=this;return(0,u.Z)(function*(){const i=yield n.estadoService.consultarPorPaisParaSelector(e).toPromise().catch(()=>[]);n.estadoList=i??[],n.consultarMunicipios(n.compania.idEstado)})()}consultarMunicipios(e){var n=this;return(0,u.Z)(function*(){const i=e>0?yield n.municipioService.consultarPorEstadoParaSelector(e).toPromise():[];n.municipioList=i??[]})()}consultarGirosComerciales(){var e=this;return(0,u.Z)(function*(){const n=yield e.giroComercialService.consultarTodos().toPromise().catch(()=>[]);e.giroComercialList=n??[]})()}onPaisChange(e){this.compania.idEstado=0,this.estadoList=[],e>0&&this.consultarEstados(e)}onCodigoPostalChange(e){var n=this;return(0,u.Z)(function*(){if(5!=e.length)return;const i=yield n.codigoPostalService.consultarPorCodigoPostal(e).toPromise().catch(()=>[]);!i||0===i.length||(n.consultarMunicipios(i[0].idEstado),n.compania.idEstado=i[0].idEstado,n.compania.idMunicipio=i[0].idMunicipio)})()}onEstadoChange(e){var n=this;return(0,u.Z)(function*(){n.consultarMunicipios(e)})()}onFileChangeLogotipo(e){if(e.target.files&&e.target.files[0]){const n=new FileReader;n.readAsDataURL(e.target.files[0]),this.companiaLogotipo=new U,this.companiaLogotipo.nombreImagen=e.target.files[0].name,this.companiaLogotipo.tipoMime=e.target.files[0].type,n.onload=i=>{const s=n.result;s&&(this.companiaLogotipo.imagenBase64=s.toString().split(",")[1])}}}eliminarLogotipo(){if(!this.companiaLogotipo||!this.companiaLogotipo.idCompaniaLogotipo)return this.companiaLogotipo=null,void(this.companiaLogotipoInput.nativeElement.value="");this.modalMensajeService.modalConfirmacion("\xbfDesea eliminar el logotipo de la compa\xf1\xeda?","Eliminar Logotipo de Compa\xf1\xeda",g.g.ICONO_CRUZ).then(()=>{this.companiaLogotipoService.eliminar(this.companiaLogotipo.idCompaniaLogotipo).subscribe(()=>{this.companiaLogotipo=null,this.companiaLogotipoInput.nativeElement.value="",this.modalMensajeService.modalExito("El logotipo ha sido eliminado")})}).catch(()=>{})}obtenerSrcLogotipo(e){return`data:${e.tipoMime};base64,${e.imagenBase64}`}agregar(){var e=this;return(0,u.Z)(function*(){const n=yield e.companiaService.agregar(e.compania).toPromise();n&&null!==e.companiaLogotipo&&null!=e.companiaLogotipo.imagenBase64&&(e.companiaLogotipo.idCompania=n,yield e.companiaLogotipoService.agregar(e.companiaLogotipo).toPromise())})()}editar(){var e=this;return(0,u.Z)(function*(){yield e.companiaService.editar(e.compania).toPromise(),null!==e.companiaLogotipo&&null!=e.companiaLogotipo.imagenBase64&&(e.companiaLogotipo.idCompania=e.compania.idCompania,yield e.companiaLogotipoService.agregar(e.companiaLogotipo).toPromise())})()}enviarFormulario(e){var n=this;return(0,u.Z)(function*(){if(n.btnSubmit=!0,!e.valid)return t.CW(e),void(n.btnSubmit=!1);n.desdeLogin&&(n.compania.companiaContacto=n.companiaContacto);const i={[g.g.COMPONENT_ACCION_EDITAR]:[n.editar.bind(n),"La compa\xf1\xeda ha sido editada"],[g.g.COMPONENT_ACCION_AGREGAR]:[n.agregar.bind(n),"La compa\xf1\xeda ha sido agregada"]},[s,c]=i[n.accion];try{yield s()}catch{return void(n.btnSubmit=!1)}n.modalMensajeService.modalExito(c),n.regresar()})()}regresar(){this.desdeLogin?this.router.navigate(["login"]):this.router.navigate(["administrador/configuracion-general/catalogo/compania"])}esEditar(){return this.accion===g.g.COMPONENT_ACCION_EDITAR}static#o=this.\u0275fac=function(n){return new(n||w)(o.Y36(P.Q),o.Y36(O.n),o.Y36(S.R),o.Y36(y.c),o.Y36(Y.s),o.Y36(R.p),o.Y36(G.B),o.Y36(b.V),o.Y36(q.n),o.Y36(x.G),o.Y36(F.$),o.Y36(V.F),o.Y36(D.F0),o.Y36(E.z),o.Y36(M))};static#e=this.\u0275cmp=o.Xpm({type:w,selectors:[["app-compania-informacion-formulario"]],viewQuery:function(n,i){if(1&n&&o.Gf(X,5),2&n){let s;o.iGM(s=o.CRH())&&(i.companiaLogotipoInput=s.first)}},inputs:{titulo:"titulo",idCompania:"idCompania",accion:"accion",desdeLogin:"desdeLogin"},decls:169,vars:86,consts:[[1,"contenedor"],["class","titulo-contenedor",4,"ngIf"],[1,"cuerpo-contenedor"],["novalidate","novalidate","autocomplete","off",3,"keydown.enter","ngSubmit"],["formulario","ngForm"],[1,"subseccion"],[1,"row"],[1,"col-md-4"],[1,"form-group"],[1,"label-input","required-label"],["name","nombre","type","text","maxlength","100",1,"form-control",3,"ngModel","required","ngModelChange"],["nombre","ngModel"],["class","error",4,"ngIf"],["name","tipoCompaniaName","bindLabel","nombre","bindValue","idTipoCompania",3,"required","items","ngModel","placeholder","notFoundText","ngModelChange"],["tipoCompaniaLst","ngModel"],["name","Rfc","type","text","maxlength","13","appFormatoRfc","",1,"form-control",3,"ngModel","required","ngModelChange"],["rfc","ngModel"],["name","giroComercialName","bindLabel","nombre","bindValue","idGiroComercial",3,"required","items","ngModel","placeholder","notFoundText","ngModelChange"],["giroComercial","ngModel"],["name","portalWeb","type","text","maxlength","500",1,"form-control",3,"ngModel","required","ngModelChange"],["portalWeb","ngModel"],["name","paisName","bindLabel","nombre","bindValue","idPais",1,"select-custom",3,"items","required","ngModel","placeholder","notFoundText","ngModelChange"],["paisLst","ngModel"],["name","codigoPostal","type","text","appFormatoNumerico","","maxlength","5","minlength","5",1,"form-control",3,"ngModel","required","ngModelChange"],["codigoPostal","ngModel"],["name","estadoName","bindLabel","nombre","bindValue","idEstado",1,"select-custom",3,"items","required","ngModel","placeholder","notFoundText","ngModelChange"],["estadoLst","ngModel"],["name","municipioName","bindLabel","nombre","bindValue","idMunicipio",1,"select-custom",3,"items","required","ngModel","placeholder","notFoundText","ngModelChange"],["municipio","ngModel"],["name","colonia","type","text","maxlength","100",1,"form-control",3,"ngModel","required","ngModelChange"],["colonia","ngModel"],["name","calle","type","text","maxlength","100",1,"form-control",3,"ngModel","required","ngModelChange"],["calle","ngModel"],[1,"col-md-2"],["name","numeroExterior","type","text","maxlength","6","appFormatoAlfanumerico","",1,"form-control",3,"ngModel","required","ngModelChange"],["numeroExterior","ngModel"],["name","numeroInterior","type","text","maxlength","6","appFormatoAlfanumerico","",1,"form-control",3,"ngModel","required","ngModelChange"],["numeroInterior","ngModel"],[1,"col-4","pr-0"],["name","ladaName","bindLabel","claveNumero","bindValue","idLada",1,"lada-input",3,"items","required","ngModel","placeholder","notFoundText","ngModelChange"],["ladaModel","ngModel"],[1,"col-8"],["name","telefonoName","type","text","maxlength","10","minlength","10","appFormatoTelefono","",1,"form-control",3,"ngModel","required","ngModelChange"],["telefono","ngModel"],["name","correo","type","text","maxlength","100","appFormatoCorreo","",1,"form-control",3,"ngModel","required","ngModelChange"],["correo","ngModel"],["class","row",4,"ngIf"],["name","regimenFiscalName","bindLabel","claveNombre","bindValue","idRegimenFiscal",3,"required","items","ngModel","placeholder","notFoundText","ngModelChange"],["regimenFiscalLst","ngModel"],["name","monedaName","bindLabel","claveNombre","bindValue","idMoneda",3,"required","items","ngModel","placeholder","notFoundText","ngModelChange"],["monedaLst","ngModel"],[4,"ngIf"],[1,"modal-footer"],[1,"text-right"],["type","button",1,"btn-secundario","mr-3",3,"click"],["type","button","class","btn-primario mr-3",3,"disabled","click",4,"ngIf"],[1,"titulo-contenedor"],[1,"error"],["name","contrasenaName","type","text","maxlength","100",1,"form-control",3,"ngModel","required","ngModelChange"],["contrasena","ngModel"],["name","confirmarContrasenaName","type","text","maxlength","100",1,"form-control",3,"ngModel","required","ngModelChange"],["confirmarContrasenaText","ngModel"],[1,"row","mb-4"],[1,"col-md-6"],[1,"custom-file"],["type","file","id","companiaLogotipo","name","companiaLogotipo","autocomplete","off","accept","image/jpeg,image/png",1,"custom-file-input",3,"disabled","change"],["companiaLogotipoInput",""],["for","companiaLogotipo",1,"custom-file-label"],[1,"row","mb-3"],[1,"col-md-6","d-flex",2,"word-break","break-all","gap","10px"],["src","assets/img/svg/ico-15x15-Eliminar-gris.svg","alt","Eliminar",2,"cursor","pointer",3,"click"],["alt","Logotipo Compania","width","200px",3,"src"],[1,"contenedor-informativo"],[1,"fas","fa-info-circle"],["name","nombre","type","text","maxlength","200","appFormatoNombre","",1,"form-control",3,"ngModel","required","ngModelChange"],["name","apellidoP","type","text","maxlength","200","appFormatoNombre","",1,"form-control",3,"ngModel","required","ngModelChange"],["apellidoP","ngModel"],["name","apellidoM","type","text","maxlength","200","appFormatoNombre","",1,"form-control",3,"ngModel","required","ngModelChange"],["apellidoM","ngModel"],["name","correoElectronico","type","text","maxlength","50","appFormatoCorreo","",1,"form-control",3,"ngModel","required","ngModelChange"],["correoElectronico","ngModel"],["name","lada","bindLabel","nombre","bindValue","idLada","required","",1,"lada-input",3,"items","ngModel","placeholder","notFoundText","ngModelChange"],["lada","ngModel"],["name","telefonoContacto","type","text","maxlength","10","minlength","10","appFormatoTelefono","","required","",1,"form-control",3,"ngModel","ngModelChange"],["telefonoContacto","ngModel"],["type","button",1,"btn-primario","mr-3",3,"disabled","click"]],template:function(n,i){if(1&n){const s=o.EpF();o.TgZ(0,"div",0),o.YNc(1,eo,2,1,"div",1),o.TgZ(2,"div",2)(3,"form",3,4),o.NdJ("keydown.enter",function(d){return d.preventDefault()})("ngSubmit",function(){o.CHM(s);const d=o.MAs(4);return o.KtG(i.enviarFormulario(d))}),o.TgZ(5,"div",5),o._uU(6,"Informaci\xf3n General"),o.qZA(),o.TgZ(7,"div",6)(8,"div",7)(9,"div",8)(10,"label",9),o._uU(11,"Raz\xf3n Social"),o.qZA(),o.TgZ(12,"div")(13,"input",10,11),o.NdJ("ngModelChange",function(d){return i.compania.nombre=d}),o.qZA()(),o.YNc(15,io,2,0,"div",12),o.qZA()(),o.TgZ(16,"div",7)(17,"div",8)(18,"label",9),o._uU(19,"Tipo de Compa\xf1\xeda"),o.qZA(),o.TgZ(20,"div")(21,"ng-select",13,14),o.NdJ("ngModelChange",function(d){return i.compania.idTipoCompania=d}),o.qZA(),o.YNc(23,no,2,0,"div",12),o.qZA()()(),o.TgZ(24,"div",7)(25,"div",8)(26,"label",9),o._uU(27,"RFC"),o.qZA(),o.TgZ(28,"div")(29,"input",15,16),o.NdJ("ngModelChange",function(d){return i.compania.rfc=d}),o.qZA()(),o.YNc(31,ao,2,0,"div",12),o.YNc(32,to,2,0,"div",12),o.qZA()()(),o.TgZ(33,"div",6)(34,"div",7)(35,"div",8)(36,"label",9),o._uU(37,"Giro Comercial"),o.qZA(),o.TgZ(38,"div")(39,"ng-select",17,18),o.NdJ("ngModelChange",function(d){return i.compania.idGiroComercial=d}),o.qZA(),o.YNc(41,ro,2,0,"div",12),o.qZA()()(),o.TgZ(42,"div",7)(43,"div",8)(44,"label",9),o._uU(45,"Portal Web"),o.qZA(),o.TgZ(46,"div")(47,"input",19,20),o.NdJ("ngModelChange",function(d){return i.compania.portalWeb=d}),o.qZA()(),o.YNc(49,lo,2,0,"div",12),o.qZA()()(),o.TgZ(50,"div",5),o._uU(51,"Domicilio"),o.qZA(),o.TgZ(52,"div",6)(53,"div",7)(54,"div",8)(55,"label",9),o._uU(56,"Pa\xeds"),o.qZA(),o.TgZ(57,"ng-select",21,22),o.NdJ("ngModelChange",function(d){return i.compania.idPais=d})("ngModelChange",function(d){return i.onPaisChange(d)}),o.qZA(),o.YNc(59,so,2,0,"div",12),o.qZA()(),o.TgZ(60,"div",7)(61,"div",8)(62,"label",9),o._uU(63,"C\xf3digo Postal"),o.qZA(),o.TgZ(64,"div")(65,"input",23,24),o.NdJ("ngModelChange",function(d){return i.compania.codigoPostal=d})("ngModelChange",function(d){return i.onCodigoPostalChange(d)}),o.qZA()(),o.YNc(67,co,2,0,"div",12),o.YNc(68,uo,2,0,"div",12),o.qZA()(),o.TgZ(69,"div",7)(70,"div",8)(71,"label",9),o._uU(72,"Estado"),o.qZA(),o.TgZ(73,"div")(74,"ng-select",25,26),o.NdJ("ngModelChange",function(d){return i.compania.idEstado=d})("ngModelChange",function(d){return i.onEstadoChange(d)}),o.qZA()(),o.YNc(76,mo,2,0,"div",12),o.qZA()()(),o.TgZ(77,"div",6)(78,"div",7)(79,"div",8)(80,"label",9),o._uU(81,"Municipio"),o.qZA(),o.TgZ(82,"div")(83,"ng-select",27,28),o.NdJ("ngModelChange",function(d){return i.compania.idMunicipio=d}),o.qZA()(),o.YNc(85,po,2,0,"div",12),o.qZA()(),o.TgZ(86,"div",7)(87,"div",8)(88,"label",9),o._uU(89,"Colonia"),o.qZA(),o.TgZ(90,"div")(91,"input",29,30),o.NdJ("ngModelChange",function(d){return i.compania.colonia=d}),o.qZA()(),o.YNc(93,go,2,0,"div",12),o.qZA()(),o.TgZ(94,"div",7)(95,"div",8)(96,"label",9),o._uU(97,"Calle"),o.qZA(),o.TgZ(98,"div")(99,"input",31,32),o.NdJ("ngModelChange",function(d){return i.compania.calle=d}),o.qZA()(),o.YNc(101,ho,2,0,"div",12),o.qZA()()(),o.TgZ(102,"div",6)(103,"div",33)(104,"div",8)(105,"label",9),o._uU(106,"N\xfam. Exterior"),o.qZA(),o.TgZ(107,"div")(108,"input",34,35),o.NdJ("ngModelChange",function(d){return i.compania.numeroExterior=d}),o.qZA()(),o.YNc(110,_o,2,0,"div",12),o.YNc(111,fo,2,0,"div",12),o.qZA()(),o.TgZ(112,"div",33)(113,"div",8)(114,"label",9),o._uU(115,"N\xfam. Interior"),o.qZA(),o.TgZ(116,"div")(117,"input",36,37),o.NdJ("ngModelChange",function(d){return i.compania.numeroInterior=d}),o.qZA()(),o.YNc(119,Co,2,0,"div",12),o.qZA()(),o.TgZ(120,"div",7)(121,"div",8)(122,"label",9),o._uU(123,"Tel\xe9fono (10 d\xedgitos)"),o.qZA(),o.TgZ(124,"div",6)(125,"div",38)(126,"ng-select",39,40),o.NdJ("ngModelChange",function(d){return i.compania.idLada=d}),o.qZA()(),o.TgZ(128,"div",41)(129,"input",42,43),o.NdJ("ngModelChange",function(d){return i.compania.telefono=d}),o.qZA()()(),o.YNc(131,vo,2,0,"div",12),o.qZA()(),o.TgZ(132,"div",7)(133,"div",8)(134,"label",9),o._uU(135,"Correo Electr\xf3nico"),o.qZA(),o.TgZ(136,"div")(137,"input",44,45),o.NdJ("ngModelChange",function(d){return i.compania.correo=d}),o.qZA()(),o.YNc(139,Mo,2,0,"div",12),o.YNc(140,To,2,0,"div",12),o.qZA()()(),o.YNc(141,Io,18,7,"div",46),o.TgZ(142,"div",5),o._uU(143,"Contabilidad"),o.qZA(),o.TgZ(144,"div",6)(145,"div",7)(146,"div",8)(147,"label",9),o._uU(148,"R\xe9gimen Fiscal"),o.qZA(),o.TgZ(149,"div")(150,"ng-select",47,48),o.NdJ("ngModelChange",function(d){return i.compania.idRegimenFiscal=d}),o.qZA()(),o.YNc(152,Fo,2,0,"div",12),o.qZA()(),o.TgZ(153,"div",7)(154,"div",8)(155,"label",9),o._uU(156,"Moneda"),o.qZA(),o.TgZ(157,"div")(158,"ng-select",49,50),o.NdJ("ngModelChange",function(d){return i.compania.idMoneda=d}),o.qZA(),o.YNc(160,Lo,2,0,"div",12),o.qZA()()()(),o.YNc(161,Po,12,3,"div",51),o.YNc(162,Qo,60,23,"div",51),o.qZA()(),o.TgZ(163,"div",52)(164,"div",53)(165,"button",54),o.NdJ("click",function(){return i.regresar()}),o._uU(166," Cancelar "),o.qZA()(),o.TgZ(167,"div",53),o.YNc(168,Yo,2,1,"button",55),o.qZA()()()}if(2&n){const s=o.MAs(14),c=o.MAs(22),d=o.MAs(30),Z=o.MAs(40),A=o.MAs(48),B=o.MAs(58),I=o.MAs(66),W=o.MAs(75),H=o.MAs(84),K=o.MAs(92),j=o.MAs(100),Q=o.MAs(109),$=o.MAs(118),J=o.MAs(130),z=o.MAs(138),k=o.MAs(151),oo=o.MAs(159);o.xp6(1),o.Q6J("ngIf",i.desdeLogin),o.xp6(12),o.Q6J("ngModel",i.compania.nombre)("required",!0),o.xp6(2),o.Q6J("ngIf",(null==s.errors?null:s.errors.required)&&s.touched),o.xp6(6),o.Q6J("required",!0)("items",i.tipoCompaniaList)("ngModel",i.compania.idTipoCompania)("placeholder",i.placeHolderSelect)("notFoundText",i.placeHolderNoOptions),o.xp6(2),o.Q6J("ngIf",(null==c.errors?null:c.errors.required)&&c.touched),o.xp6(6),o.Q6J("ngModel",i.compania.rfc)("required",!0),o.xp6(2),o.Q6J("ngIf",(null==d.errors?null:d.errors.required)&&d.touched),o.xp6(1),o.Q6J("ngIf",(null==d.errors?null:d.errors.formatoRfc)&&d.touched),o.xp6(7),o.Q6J("required",!0)("items",i.giroComercialList)("ngModel",i.compania.idGiroComercial)("placeholder",i.placeHolderSelect)("notFoundText",i.placeHolderNoOptions),o.xp6(2),o.Q6J("ngIf",(null==Z.errors?null:Z.errors.required)&&Z.touched),o.xp6(6),o.Q6J("ngModel",i.compania.portalWeb)("required",!0),o.xp6(2),o.Q6J("ngIf",(null==A.errors?null:A.errors.required)&&A.touched),o.xp6(8),o.Q6J("items",i.paisList)("required",!0)("ngModel",i.compania.idPais)("placeholder",i.placeHolderSelect)("notFoundText",i.placeHolderNoOptions),o.xp6(2),o.Q6J("ngIf",(null==B.errors?null:B.errors.required)&&B.touched),o.xp6(6),o.Q6J("ngModel",i.compania.codigoPostal)("required",!0),o.xp6(2),o.Q6J("ngIf",((null==I.errors?null:I.errors.required)||(null==I.errors?null:I.errors.minlength)||(null==I.errors?null:I.errors.maxlength))&&I.touched),o.xp6(1),o.Q6J("ngIf",(null==I.errors?null:I.errors.formatoNumerico)&&I.touched),o.xp6(6),o.Q6J("items",i.estadoList)("required",!0)("ngModel",i.compania.idEstado)("placeholder",i.placeHolderSelect)("notFoundText",i.placeHolderNoOptions),o.xp6(2),o.Q6J("ngIf",(null==W.errors?null:W.errors.required)&&W.touched),o.xp6(7),o.Q6J("items",i.municipioList)("required",!0)("ngModel",i.compania.idMunicipio)("placeholder",i.placeHolderSelect)("notFoundText",i.placeHolderNoOptions),o.xp6(2),o.Q6J("ngIf",(null==H.errors?null:H.errors.required)&&H.touched),o.xp6(6),o.Q6J("ngModel",i.compania.colonia)("required",!0),o.xp6(2),o.Q6J("ngIf",(null==K.errors?null:K.errors.required)&&K.touched),o.xp6(6),o.Q6J("ngModel",i.compania.calle)("required",!0),o.xp6(2),o.Q6J("ngIf",(null==j.errors?null:j.errors.required)&&j.touched),o.xp6(7),o.Q6J("ngModel",i.compania.numeroExterior)("required",!0),o.xp6(2),o.Q6J("ngIf",(null==Q.errors?null:Q.errors.required)&&Q.touched),o.xp6(1),o.Q6J("ngIf",(null==$.errors?null:$.errors.formatoAlfanumerico)&&Q.touched),o.xp6(6),o.Q6J("ngModel",i.compania.numeroInterior)("required",!1),o.xp6(2),o.Q6J("ngIf",(null==$.errors?null:$.errors.formatoAlfanumerico)&&$.touched),o.xp6(7),o.Q6J("items",i.ladaList)("required",!1)("ngModel",i.compania.idLada)("placeholder",i.placeHolderSelect)("notFoundText",i.placeHolderNoOptions),o.xp6(3),o.Q6J("ngModel",i.compania.telefono)("required",!1),o.xp6(2),o.Q6J("ngIf",((null==J.errors?null:J.errors.required)||(null==J.errors?null:J.errors.minlength)||(null==J.errors?null:J.errors.maxlength))&&J.touched),o.xp6(6),o.Q6J("ngModel",i.compania.correo)("required",!0),o.xp6(2),o.Q6J("ngIf",(null==z.errors?null:z.errors.required)&&z.touched),o.xp6(1),o.Q6J("ngIf",null==z.errors?null:z.errors.formatoCorreo),o.xp6(1),o.Q6J("ngIf",i.desdeLogin),o.xp6(9),o.Q6J("required",!0)("items",i.regimenFiscalList)("ngModel",i.compania.idRegimenFiscal)("placeholder",i.placeHolderSelect)("notFoundText",i.placeHolderNoOptions),o.xp6(2),o.Q6J("ngIf",(null==k.errors?null:k.errors.required)&&k.touched),o.xp6(6),o.Q6J("required",!0)("items",i.monedaList)("ngModel",i.compania.idMoneda)("placeholder",i.placeHolderSelect)("notFoundText",i.placeHolderNoOptions),o.xp6(2),o.Q6J("ngIf",(null==oo.errors?null:oo.errors.required)&&oo.touched),o.xp6(1),o.Q6J("ngIf",!i.desdeLogin),o.xp6(1),o.Q6J("ngIf",i.desdeLogin),o.xp6(6),o.Q6J("ngIf",i.tieneAccesoEditar)}},dependencies:[h.O5,T._Y,T.Fj,T.JJ,T.JL,T.Q7,T.wO,T.nD,T.On,T.F,L.w9]})}},4179:(N,C,a)=>{a.d(C,{O:()=>F});var u=a(36895),p=a(24006),m=a(33369),U=a(83083),r=a(36441),_=a(40293),g=a(73698),t=a(70932),v=a(51757),o=a(46101),P=a(73523),O=a(43357),S=a(21737),y=a(88796),Y=a(20388),R=a(9116),G=a(44051),b=a(94650);const q=[{path:"",data:{},children:[{path:"",component:G.V}]}];class x{static#o=this.\u0275fac=function(E){return new(E||x)};static#e=this.\u0275mod=b.oAB({type:x});static#i=this.\u0275inj=b.cJS({imports:[R.Bz.forChild(q),R.Bz]})}class F{static#o=this.\u0275fac=function(E){return new(E||F)};static#e=this.\u0275mod=b.oAB({type:F});static#i=this.\u0275inj=b.cJS({providers:[r.s,o.$,U.c,P.F,g.B,v.G,m.R,S.n,O.z,v.G,t.n,_.p],imports:[u.ez,p.u5,u.ez,Y.zk.forChild(),y.A0,x,y.A0]})}},43906:(N,C,a)=>{a.r(C),a.d(C,{CompaniaModule:()=>D});var u=a(71436),p=a(8816),m=a(24006),U=a(88796),r=a(9116),_=a(60393),g=a(50986),t=a(94650),v=a(2060),o=a(83083),P=a(62861),O=a(21006),S=a(43357),y=a(36895),Y=a(58390);function R(E,f){1&E&&t._UZ(0,"i",26)}function G(E,f){1&E&&t._UZ(0,"i",27)}function b(E,f){if(1&E){const M=t.EpF();t.TgZ(0,"div",28),t.NdJ("click",function(){t.CHM(M);const T=t.oxw();return t.KtG(T.agregar())}),t.TgZ(1,"button",29),t._uU(2,"Agregar Compa\xf1\xeda"),t.qZA()()}}class q{constructor(f,M,h,T,L,X){this.modalMensajeService=f,this.companiaService=M,this.accesoService=h,this.encryptionService=T,this.tipoCompaniaService=L,this.router=X,this.RUTA_FORM="administrador/configuracion-general/catalogo/compania/form",this.isCollapsed=!0,this.filtro={},this.buscando=!1,this.MENSAJE_EXITO_BUSQUEDA="La b\xfasqueda ha sido realizada",this.placeHolderSelect=g.g.PLACEHOLDER_DROPDOWN,this.placeHolderNoOptions=g.g.PLACEHOLDER_DROPDOWN_NO_OPTIONS,this.tieneAccesoAgregar=!1,this.accesoEditar=_.xI.Editar,this.accesoEliminar=_.xI.Eliminar,this.HEADER_GRID="Compa\xf1\xeda",this.MENSAJE_EXITO_ELIMINAR="La compa\xf1\xeda ha sido eliminada",this.TITULO_MODAL_ELIMINAR="Eliminar Compa\xf1\xeda",this.companiaList=[],this.configTipoCompania=Object.assign({labelField:"nombre",valueField:"idTipoCompania",searchField:["nombre"],dropdownParent:"body"},{...g.g.CONFIG_DROPDOWN_DEFAULT}),this.columns=[{headerName:"N\xfam. Compa\xf1\xeda",field:"idCompania",minWidth:150,sort:"asc"},{headerName:"Compa\xf1\xeda",field:"nombre",minWidth:150},{headerName:"Ciudad",field:"ciudad",minWidth:150}]}ngOnInit(){this.accesoService.tieneAcceso(_.xI.Agregar).subscribe(f=>{this.tieneAccesoAgregar=f}),this.filtro.idTipoCompania=0,this.consultarGrid(),this.consultarTipoCompanias()}consultarGrid(){this.companiaService.consultarTodosParaGrid(this.filtro).subscribe(f=>{this.companiaList=f})}consultarTipoCompanias(){this.tipoCompaniaService.consultarParaSelector().subscribe(f=>{this.tipoCompaniaList=f})}onGridClick(f){f.accion===g.g.GRID_ACCION_EDITAR?this.editar(f.data.idCompania):f.accion===g.g.GRID_ACCION_ELIMINAR&&this.eliminar(f.data)}agregar(){this.router.navigate([this.RUTA_FORM],{queryParams:this.encryptionService.generateURL({accion:g.g.MODAL_ACCION_AGREGAR})})}editar(f){this.router.navigate([this.RUTA_FORM],{queryParams:this.encryptionService.generateURL({idCompania:f.toString(),accion:g.g.MODAL_ACCION_EDITAR})})}eliminar(f){this.modalMensajeService.modalConfirmacion("\xbfDesea eliminar la compa\xf1\xeda <strong>"+f.nombre+"</strong>?",this.TITULO_MODAL_ELIMINAR,g.g.ICONO_CRUZ).then(M=>{this.companiaService.eliminar(f.idCompania).subscribe(h=>{this.modalMensajeService.modalExito(this.MENSAJE_EXITO_ELIMINAR),this.consultarGrid()})})}buscar(f){""===this.filtro.rfc&&(this.filtro.rfc=void 0),""===this.filtro.nombre&&(this.filtro.folio=void 0),(null==this.filtro.idTipoCompania||this.filtro.idTipoCompania.length<=0)&&(this.filtro.idTipoCompania=0),this.buscando=!0;const M=this.companiaService.consultarTodosParaGrid(this.filtro).toPromise();Promise.all([M]).then(h=>{f&&this.modalMensajeService.modalExito(this.MENSAJE_EXITO_BUSQUEDA),this.companiaList=h[0]??[]}).finally(()=>this.buscando=!1)}limpiar(){this.filtro.nombre="",this.filtro.rfc="",this.filtro.idTipoCompania=0,this.buscar(!1)}static#o=this.\u0275fac=function(M){return new(M||q)(t.Y36(v.V),t.Y36(o.c),t.Y36(P.Q),t.Y36(O.C),t.Y36(S.z),t.Y36(r.F0))};static#e=this.\u0275cmp=t.Xpm({type:q,selectors:[["app-compania"]],decls:45,vars:21,consts:[[1,"contenedor"],[1,"cuerpo-contenedor"],[3,"collapse","isAnimated"],[1,"row"],[1,"col-md-4"],[1,"form-group"],[1,"label-input","required-label"],["name","nombre","type","text","autocomplete","off",1,"form-control",3,"required","ngModel","ngModelChange"],["name","rfc","type","text","autocomplete","off",1,"form-control",3,"required","ngModel","ngModelChange"],["name","tipoCompania","bindLabel","nombre","bindValue","idTipoCompania",3,"items","required","ngModel","placeholder","notFoundText","ngModelChange"],[1,"subtitulo-contenedor"],[1,"col-md-12","d-flex","justify-content-center"],[1,"form-group",2,"max-width","100%"],[1,"label-input","required-label",2,"visibility","hidden"],["type","button",1,"btn-secundario","limpiar","mr-3",3,"click"],["type","button",1,"btn-primario","ml-3",3,"disabled","click"],[1,"form-row","panel-busqueda","mb-4"],[1,"panel-carga-elementos","center-element-vertically",3,"click"],[1,"titulo-panel"],[1,"arow-down-up"],["class","fa fa-chevron-down",4,"ngIf"],["class","fa fa-chevron-up",4,"ngIf"],[1,"titulo-contenedor"],[1,"col-md-12"],["class","contenedor-agregar",3,"click",4,"ngIf"],[3,"headerName","data","children","accesoEditar","accesoEliminar","event"],[1,"fa","fa-chevron-down"],[1,"fa","fa-chevron-up"],[1,"contenedor-agregar",3,"click"],[1,"btn-agregar"]],template:function(M,h){1&M&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"label",6),t._uU(7,"Nombre"),t.qZA(),t.TgZ(8,"div")(9,"input",7),t.NdJ("ngModelChange",function(L){return h.filtro.nombre=L}),t.qZA()()()(),t.TgZ(10,"div",4)(11,"div",5)(12,"label",6),t._uU(13,"RFC"),t.qZA(),t.TgZ(14,"div")(15,"input",8),t.NdJ("ngModelChange",function(L){return h.filtro.rfc=L}),t.qZA()()()(),t.TgZ(16,"div",4)(17,"div",5)(18,"label",6),t._uU(19,"Tipo de compa\xf1\xeda"),t.qZA(),t.TgZ(20,"div")(21,"ng-select",9),t.NdJ("ngModelChange",function(L){return h.filtro.idTipoCompania=L}),t.qZA()()()()(),t.TgZ(22,"div",10)(23,"div",3)(24,"div",11)(25,"div",12)(26,"label",13),t._uU(27,"Buscar"),t.qZA(),t.TgZ(28,"button",14),t.NdJ("click",function(){return h.limpiar()}),t._uU(29," Limpiar "),t.qZA(),t.TgZ(30,"button",15),t.NdJ("click",function(){return h.buscar(!0)}),t._uU(31),t.qZA()()()()()(),t.TgZ(32,"div",16)(33,"div",17),t.NdJ("click",function(){return h.isCollapsed=!h.isCollapsed}),t.TgZ(34,"span",18),t._uU(35,"Panel de B\xfasqueda"),t.qZA(),t.TgZ(36,"span",19),t.YNc(37,R,1,0,"i",20),t.YNc(38,G,1,0,"i",21),t.qZA()()(),t.TgZ(39,"div",3)(40,"div",22),t._uU(41,"Compa\xf1\xedas"),t.qZA(),t.TgZ(42,"div",23),t.YNc(43,b,3,0,"div",24),t.TgZ(44,"app-grid-general",25),t.NdJ("event",function(L){return h.onGridClick(L)}),t.qZA()()()()()),2&M&&(t.xp6(2),t.Q6J("collapse",h.isCollapsed)("isAnimated",!0),t.xp6(7),t.Q6J("required",!1)("ngModel",h.filtro.nombre),t.xp6(6),t.Q6J("required",!1)("ngModel",h.filtro.rfc),t.xp6(6),t.Q6J("items",h.tipoCompaniaList)("required",!1)("ngModel",h.filtro.idTipoCompania)("placeholder",h.placeHolderSelect)("notFoundText",h.placeHolderNoOptions),t.xp6(9),t.Q6J("disabled",h.buscando),t.xp6(1),t.hij(" ",h.buscando?"Buscando...":"Buscar"," "),t.xp6(6),t.Q6J("ngIf",h.isCollapsed),t.xp6(1),t.Q6J("ngIf",!h.isCollapsed),t.xp6(5),t.Q6J("ngIf",h.tieneAccesoAgregar),t.xp6(1),t.Q6J("headerName",h.HEADER_GRID)("data",h.companiaList)("children",h.columns)("accesoEditar",h.accesoEditar)("accesoEliminar",h.accesoEliminar))},dependencies:[y.O5,Y.$,p.Y,m.Fj,m.JJ,m.Q7,m.On,U.w9],encapsulation:2})}const x=[{path:"",component:q,data:{title:"Consulta",acceso:_.xI.Consultar}},{path:"form",loadChildren:()=>Promise.all([a.e(61),a.e(3930),a.e(3405),a.e(2600)]).then(a.bind(a,32600)).then(E=>E.CompaniaFormularioModule)}];class F{static#o=this.\u0275fac=function(M){return new(M||F)};static#e=this.\u0275mod=t.oAB({type:F});static#i=this.\u0275inj=t.cJS({imports:[r.Bz.forChild(x),r.Bz]})}var V=a(4179);class D{static#o=this.\u0275fac=function(M){return new(M||D)};static#e=this.\u0275mod=t.oAB({type:D});static#i=this.\u0275inj=t.cJS({providers:[o.c,S.z],imports:[y.ez,u.a,p.f,m.u5,U.A0,F,V.O]})}},8816:(N,C,a)=>{a.d(C,{Y:()=>_,f:()=>g});var u=a(37340),p=a(94650);const m="400ms cubic-bezier(0.4,0.0,0.2,1)",U=[(0,u.oB)({height:0,visibility:"hidden"}),(0,u.jt)(m,(0,u.oB)({height:"*",visibility:"visible"}))],r=[(0,u.oB)({height:"*",visibility:"visible"}),(0,u.jt)(m,(0,u.oB)({height:0,visibility:"hidden"}))];class _{constructor(v,o,P){this._el=v,this._renderer=o,this.collapsed=new p.vpe,this.collapses=new p.vpe,this.expanded=new p.vpe,this.expands=new p.vpe,this.isExpanded=!0,this.collapseNewValue=!0,this.isCollapsed=!1,this.isCollapse=!0,this.isCollapsing=!1,this.isAnimated=!1,this._display="block",this._stylesLoaded=!1,this._COLLAPSE_ACTION_NAME="collapse",this._EXPAND_ACTION_NAME="expand",this._factoryCollapseAnimation=P.build(r),this._factoryExpandAnimation=P.build(U)}set display(v){this._display=v,"none"!==v?this.isAnimated?this.toggle():this.show():this.hide()}set collapse(v){this.collapseNewValue=v,(!this._player||this._isAnimationDone)&&(this.isExpanded=v,this.toggle())}get collapse(){return this.isExpanded}ngAfterViewChecked(){this._stylesLoaded=!0,this._player&&this._isAnimationDone&&(this._player.reset(),this._renderer.setStyle(this._el.nativeElement,"height","*"))}toggle(){this.isExpanded?this.hide():this.show()}hide(){this.isCollapsing=!0,this.isExpanded=!1,this.isCollapsed=!0,this.isCollapsing=!1,this.collapses.emit(this),this._isAnimationDone=!1,this.animationRun(this.isAnimated,this._COLLAPSE_ACTION_NAME)(()=>{this._isAnimationDone=!0,this.collapseNewValue!==this.isCollapsed&&this.isAnimated?this.show():(this.collapsed.emit(this),this._renderer.setStyle(this._el.nativeElement,"display","none"))})}show(){this._renderer.setStyle(this._el.nativeElement,"display",this._display),this.isCollapsing=!0,this.isExpanded=!0,this.isCollapsed=!1,this.isCollapsing=!1,this.expands.emit(this),this._isAnimationDone=!1,this.animationRun(this.isAnimated,this._EXPAND_ACTION_NAME)(()=>{this._isAnimationDone=!0,this.collapseNewValue!==this.isCollapsed&&this.isAnimated?this.hide():(this.expanded.emit(this),this._renderer.removeStyle(this._el.nativeElement,"overflow"))})}animationRun(v,o){if(!v||!this._stylesLoaded)return O=>O();this._renderer.setStyle(this._el.nativeElement,"overflow","hidden"),this._renderer.addClass(this._el.nativeElement,"collapse");const P=o===this._EXPAND_ACTION_NAME?this._factoryExpandAnimation:this._factoryCollapseAnimation;return this._player&&this._player.reset(),this._player=P.create(this._el.nativeElement),this._player.play(),O=>this._player?.onDone(O)}}_.\u0275fac=function(v){return new(v||_)(p.Y36(p.SBq),p.Y36(p.Qsj),p.Y36(u._j))},_.\u0275dir=p.lG2({type:_,selectors:[["","collapse",""]],hostVars:9,hostBindings:function(v,o){2&v&&(p.uIk("aria-hidden",o.isCollapsed),p.ekj("collapse",o.isCollapse)("in",o.isExpanded)("show",o.isExpanded)("collapsing",o.isCollapsing))},inputs:{display:"display",isAnimated:"isAnimated",collapse:"collapse"},outputs:{collapsed:"collapsed",collapses:"collapses",expanded:"expanded",expands:"expands"},exportAs:["bs-collapse"]});class g{static forRoot(){return{ngModule:g,providers:[]}}}g.\u0275fac=function(v){return new(v||g)},g.\u0275mod=p.oAB({type:g}),g.\u0275inj=p.cJS({})}}]);