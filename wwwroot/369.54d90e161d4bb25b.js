"use strict";(self.webpackChunkroadis_app=self.webpackChunkroadis_app||[]).push([[369],{30369:(J,C,t)=>{t.r(C),t.d(C,{AyudaSeccionModule:()=>A});var v=t(36895),S=t(62861),f=t(59059),p=t(20388),M=t(41283),y=t(63405),_=t(9116),m=t(85087),T=t(13050),d=t(50986);class E{constructor(){}}var I=t(90429),e=t(94650),b=t(2060),c=t(24006);function Z(l,i){1&l&&(e.TgZ(0,"div",26),e._uU(1," La clave es requerida "),e.qZA())}function N(l,i){1&l&&(e.TgZ(0,"div",26),e._uU(1," El orden es requerido. "),e.qZA())}function R(l,i){1&l&&(e.TgZ(0,"div",26),e._uU(1," El nombre es requerido "),e.qZA())}class u{constructor(i,o){this.ayudaSeccionService=i,this.modalMensajeService=o,this.seccion=new E,this.btnSubmit=!1,this.mensajeAgregar="La seccion ayuda ha sido agregada.",this.mensajeEditar="La seccion ayuda ha sido editada."}ngOnInit(){}cancelar(){this.onClose(!0)}enviarFormulario(i){if(this.btnSubmit=!0,!i.valid)return I.CW(i),void(this.btnSubmit=!1);this.accion===d.g.MODAL_ACCION_AGREGAR?this.agregar():this.accion===d.g.MODAL_ACCION_EDITAR&&this.editar()}agregar(){this.ayudaSeccionService.agregar(this.seccion).subscribe(i=>{this.modalMensajeService.modalExito(this.mensajeAgregar),this.onClose(!0),this.btnSubmit=!1},()=>{this.btnSubmit=!1})}editar(){this.ayudaSeccionService.editar(this.seccion).subscribe(i=>{this.modalMensajeService.modalExito(this.mensajeEditar),this.onClose(!0),this.btnSubmit=!1},()=>{this.btnSubmit=!1})}static#e=this.\u0275fac=function(o){return new(o||u)(e.Y36(f.q),e.Y36(b.V))};static#i=this.\u0275cmp=e.Xpm({type:u,selectors:[["app-ayuda-seccion-formulario"]],decls:45,vars:9,consts:[[1,"d-flex"],[1,"barra-lateral-modal"],[1,"fa","fa-plus"],[1,"modal-content"],[1,"modal-header"],["type","button","aria-label","Close",1,"close","pull-right",3,"click"],[1,"far","fa-times-circle"],["novalidate","novalidate",3,"keydown.enter","ngSubmit"],["formulario","ngForm"],["id","modal",1,"modal-body"],[1,"row"],[1,"col-md-6"],[1,"form-group"],[1,"label-input","required-label"],["id","clave","name","clave","type","text","maxlength","20","required","required","autocomplete","off",1,"form-control",3,"ngModel","disabled","ngModelChange"],["clave","ngModel"],["class","error",4,"ngIf"],["id","orden","name","orden","type","number","maxlength","20","required","required","autocomplete","off","min","1",1,"form-control",3,"ngModel","ngModelChange"],["orden","ngModel"],[1,"col-md-12"],["id","nombre","name","nombre","type","text","maxlength","50","required","required","autocomplete","off",1,"form-control",3,"ngModel","ngModelChange"],["nombre","ngModel"],[1,"modal-footer"],[1,"text-right"],["type","button",1,"btn-secundario","mr-3",3,"click"],["type","submit",1,"btn-primario","btn-margin-left",3,"disabled"],[1,"error"]],template:function(o,n){if(1&o){const s=e.EpF();e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"i",2),e.qZA(),e.TgZ(3,"div",3)(4,"div",4)(5,"div"),e._uU(6),e.qZA(),e.TgZ(7,"button",5),e.NdJ("click",function(){return n.cancelar()}),e._UZ(8,"i",6),e.qZA()(),e.TgZ(9,"form",7,8),e.NdJ("keydown.enter",function(r){return r.preventDefault()})("ngSubmit",function(){e.CHM(s);const r=e.MAs(10);return e.KtG(n.enviarFormulario(r))}),e.TgZ(11,"div",9)(12,"div",10)(13,"div",11)(14,"div",12)(15,"label",13),e._uU(16,"Clave"),e.qZA(),e.TgZ(17,"div")(18,"input",14,15),e.NdJ("ngModelChange",function(r){return n.seccion.clave=r}),e.qZA(),e.YNc(20,Z,2,0,"div",16),e.qZA()()(),e.TgZ(21,"div",11)(22,"div",12)(23,"label",13),e._uU(24,"Orden"),e.qZA(),e.TgZ(25,"div")(26,"input",17,18),e.NdJ("ngModelChange",function(r){return n.seccion.orden=r}),e.qZA(),e.YNc(28,N,2,0,"div",16),e.qZA()()()(),e.TgZ(29,"div",10)(30,"div",19)(31,"div",12)(32,"label",13),e._uU(33,"Nombre"),e.qZA(),e.TgZ(34,"div")(35,"input",20,21),e.NdJ("ngModelChange",function(r){return n.seccion.nombre=r}),e.qZA(),e.YNc(37,R,2,0,"div",16),e.qZA()()()()(),e.TgZ(38,"div",22)(39,"div",23)(40,"button",24),e.NdJ("click",function(){return n.cancelar()}),e._uU(41,"Cancelar"),e.qZA()(),e.TgZ(42,"div",23)(43,"button",25),e._uU(44,"Guardar"),e.qZA()()()()()()}if(2&o){const s=e.MAs(19),a=e.MAs(27),r=e.MAs(36);e.xp6(6),e.hij("",n.accion," Secci\xf3n Ayuda"),e.xp6(12),e.Q6J("ngModel",n.seccion.clave)("disabled",n.seccion.idAyudaSeccion>0),e.xp6(2),e.Q6J("ngIf",(null==s.errors?null:s.errors.required)&&s.touched),e.xp6(6),e.Q6J("ngModel",n.seccion.orden),e.xp6(2),e.Q6J("ngIf",(null==a.errors?null:a.errors.required)&&a.touched),e.xp6(7),e.Q6J("ngModel",n.seccion.nombre),e.xp6(2),e.Q6J("ngIf",(null==r.errors?null:r.errors.required)&&r.touched),e.xp6(6),e.Q6J("disabled",n.btnSubmit)}},dependencies:[v.O5,c._Y,c.Fj,c.wV,c.JJ,c.JL,c.Q7,c.nD,c.qQ,c.On,c.F]})}var O=t(58390);function F(l,i){if(1&l){const o=e.EpF();e.TgZ(0,"div",7),e.NdJ("click",function(){e.CHM(o);const s=e.oxw();return e.KtG(s.agregar())}),e.TgZ(1,"button",8),e._uU(2,"Agregar Secci\xf3n"),e.qZA()()}}class h{constructor(i,o,n,s,a){this.ayudaSeccionService=i,this.accesoService=o,this.modalService=n,this.bsModalRef=s,this.modalMensajeService=a,this.tieneAccesoAgregar=!1,this.accesoEditar=m.v.EDITAR_AYUDA_SECCION,this.accesoEliminar=m.v.ELIMINAR_AYUDA_SECCION,this.HEADER_GRID="Secciones de Ayuda",this.MENSAJE_EXITO_ELIMINAR="La secci\xf3n ayuda ha sido eliminada",this.TITULO_MODAL_ELIMINAR="Eliminar Secci\xf3n Ayuda",this.secciones=[],this.columns=[{headerName:"Clave",field:"clave",minWidth:150},{headerName:"Nombre",field:"nombre",minWidth:150}]}ngOnInit(){this.accesoService.tieneAcceso(m.v.AGREGAR_AYUDA_SECCION).subscribe({next:i=>{this.tieneAccesoAgregar=i}}),this.consultarGrid()}consultarGrid(){this.ayudaSeccionService.consultarParaGrid().subscribe(i=>{this.secciones=i})}onGridClick(i){i.accion===d.g.GRID_ACCION_EDITAR?this.editar(i.data):i.accion===d.g.GRID_ACCION_ELIMINAR&&this.eliminar(i.data)}agregar(){this.bsModalRef=this.modalService.show(u,d.g.CONFIG_MODAL_DEFAULT),this.bsModalRef.content.accion=d.g.MODAL_ACCION_AGREGAR,this.bsModalRef.content.onClose=i=>{i&&this.consultarGrid(),this.bsModalRef.hide()}}editar(i){this.bsModalRef=this.modalService.show(u,d.g.CONFIG_MODAL_DEFAULT),this.bsModalRef.content.accion=d.g.MODAL_ACCION_EDITAR,this.bsModalRef.content.seccion=i,this.bsModalRef.content.onClose=o=>{o&&this.consultarGrid(),this.bsModalRef.hide()}}eliminar(i){this.modalMensajeService.modalConfirmacion("\xbfDesea eliminar la secci\xf3n ayuda <strong>"+i.nombre+"</strong>?",this.TITULO_MODAL_ELIMINAR,d.g.ICONO_CRUZ).then(o=>{this.ayudaSeccionService.eliminar(i.idAyudaSeccion).subscribe(n=>{this.modalMensajeService.modalExito(this.MENSAJE_EXITO_ELIMINAR),this.consultarGrid()})})}static#e=this.\u0275fac=function(o){return new(o||h)(e.Y36(f.q),e.Y36(S.Q),e.Y36(p.tT),e.Y36(p.UZ),e.Y36(b.V))};static#i=this.\u0275cmp=e.Xpm({type:h,selectors:[["app-ayuda-seccion"]],decls:8,vars:6,consts:[[1,"contenedor"],[1,"titulo-contenedor"],[1,"cuerpo-contenedor"],[1,"row"],[1,"col-md-12"],["class","contenedor-agregar",3,"click",4,"ngIf"],[3,"headerName","data","children","accesoEditar","accesoEliminar","event"],[1,"contenedor-agregar",3,"click"],[1,"btn-agregar"]],template:function(o,n){1&o&&(e.TgZ(0,"div",0)(1,"div",1),e._uU(2,"Secciones de Ayuda"),e.qZA(),e.TgZ(3,"div",2)(4,"div",3)(5,"div",4),e.YNc(6,F,3,0,"div",5),e.TgZ(7,"app-grid-general",6),e.NdJ("event",function(a){return n.onGridClick(a)}),e.qZA()()()()()),2&o&&(e.xp6(6),e.Q6J("ngIf",n.tieneAccesoAgregar),e.xp6(1),e.Q6J("headerName",n.HEADER_GRID)("data",n.secciones)("children",n.columns)("accesoEditar",n.accesoEditar)("accesoEliminar",n.accesoEliminar))},dependencies:[v.O5,O.$]})}const D=[{path:"",component:h,canActivate:[T.m],data:{title:"Consulta Ayuda Secci\xf3n",acceso:m.v.CONSULTAR_AYUDA_SECCION}}];class g{static#e=this.\u0275fac=function(o){return new(o||g)};static#i=this.\u0275mod=e.oAB({type:g});static#n=this.\u0275inj=e.cJS({imports:[_.Bz.forChild(D),_.Bz]})}class A{static#e=this.\u0275fac=function(o){return new(o||A)};static#i=this.\u0275mod=e.oAB({type:A});static#n=this.\u0275inj=e.cJS({providers:[f.q,S.Q],imports:[v.ez,y.m,M.Z,p.zk.forChild(),g]})}}}]);