"use strict";(self.webpackChunkroadis_app=self.webpackChunkroadis_app||[]).push([[9881],{59881:(G,T,a)=>{a.r(T),a.d(T,{TituloAcademicoModule:()=>v});var p=a(9116),b=a(13050),u=a(85087),c=a(50986),_=a(90429);class C{constructor(){}}var e=a(94650),A=a(20388),E=a(2060),f=a(79810),s=a(24006),M=a(36895);function I(d,i){1&d&&(e.TgZ(0,"div",25),e._uU(1," La clave es requerida "),e.qZA())}function Z(d,i){1&d&&(e.TgZ(0,"div",25),e._uU(1," El nombre es requerido "),e.qZA())}class m{constructor(i,o,t){this.bsModalRef=i,this.modalMensajeService=o,this.tituloAcademicoService=t,this.placeHolderSelect=c.g.PLACEHOLDER_DROPDOWN,this.mensajeAgregar="El t\xedtulo acad\xe9mico ha sido agregado",this.mensajeEditar="El t\xedtulo acad\xe9mico ha sido modificado",this.btnSubmit=!1,this.tituloAcademico=new C}ngOnInit(){}limpiarFormulario(){this.tituloAcademico=new C,this.accion=c.g.MODAL_ACCION_AGREGAR}agregar(i){this.tituloAcademicoService.agregar(this.tituloAcademico).subscribe(()=>{this.modalMensajeService.modalExito(this.mensajeAgregar),i.reset(),this.limpiarFormulario(),this.onClose(!0),this.btnSubmit=!1},()=>{this.btnSubmit=!1})}editar(){this.tituloAcademicoService.editar(this.tituloAcademico).subscribe(()=>{this.modalMensajeService.modalExito(this.mensajeEditar),this.onClose(!0)},()=>{this.btnSubmit=!1})}cancelar(){this.onClose(!0)}enviarFormulario(i){if(this.btnSubmit=!0,!i.valid)return _.CW(i),void(this.btnSubmit=!1);this.accion===c.g.MODAL_ACCION_AGREGAR?this.agregar(i):this.accion===c.g.MODAL_ACCION_EDITAR&&this.editar()}esEditar(){return this.accion===c.g.MODAL_ACCION_EDITAR}static#e=this.\u0275fac=function(o){return new(o||m)(e.Y36(A.UZ),e.Y36(E.V),e.Y36(f.y))};static#i=this.\u0275cmp=e.Xpm({type:m,selectors:[["app-titulo-academico-formulario"]],decls:42,vars:8,consts:[[1,"d-flex"],[1,"barra-lateral-modal"],[1,"fa","fa-plus"],[1,"modal-content"],[1,"modal-header"],["type","button","aria-label","Close",1,"close","pull-right",3,"click"],[1,"far","fa-times-circle"],["novalidate","novalidate",3,"keydown.enter","ngSubmit"],["formulario","ngForm"],["id","modal",1,"cuerpo-contenedor"],[1,"row"],[1,"col-md-2"],[1,"form-group"],[1,"label-input","required-label"],["id","idTituloAcademico","name","idTituloAcademico","type","text","maxlength","20","disabled","",1,"form-control",3,"ngModel","ngModelChange"],["clave","ngModel"],[1,"col-md-5"],["id","clave","name","clave","type","text","maxlength","20","required","required","autocomplete","off",1,"form-control",3,"ngModel","disabled","ngModelChange"],["class","error",4,"ngIf"],["id","nombre","name","nombre","type","text","maxlength","50","required","required","autocomplete","off",1,"form-control",3,"ngModel","ngModelChange"],["nombre","ngModel"],[1,"modal-footer"],[1,"text-right"],["type","button",1,"btn-secundario","mr-3",3,"click"],["type","submit",1,"btn-primario","btn-margin-left",3,"disabled"],[1,"error"]],template:function(o,t){if(1&o){const r=e.EpF();e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"i",2),e.qZA(),e.TgZ(3,"div",3)(4,"div",4)(5,"div"),e._uU(6),e.qZA(),e.TgZ(7,"button",5),e.NdJ("click",function(){return t.cancelar()}),e._UZ(8,"i",6),e.qZA()(),e.TgZ(9,"form",7,8),e.NdJ("keydown.enter",function(l){return l.preventDefault()})("ngSubmit",function(){e.CHM(r);const l=e.MAs(10);return e.KtG(t.enviarFormulario(l))}),e.TgZ(11,"div",9)(12,"div",10)(13,"div",11)(14,"div",12)(15,"label",13),e._uU(16,"Id T\xedtulo Acad\xe9mico"),e.qZA(),e.TgZ(17,"div")(18,"input",14,15),e.NdJ("ngModelChange",function(l){return t.tituloAcademico.idTituloAcademico=l}),e.qZA()()()(),e.TgZ(20,"div",16)(21,"div",12)(22,"label",13),e._uU(23,"Clave"),e.qZA(),e.TgZ(24,"div")(25,"input",17,15),e.NdJ("ngModelChange",function(l){return t.tituloAcademico.clave=l}),e.qZA(),e.YNc(27,I,2,0,"div",18),e.qZA()()(),e.TgZ(28,"div",16)(29,"div",12)(30,"label",13),e._uU(31,"Nombre"),e.qZA(),e.TgZ(32,"div")(33,"input",19,20),e.NdJ("ngModelChange",function(l){return t.tituloAcademico.nombre=l}),e.qZA(),e.YNc(35,Z,2,0,"div",18),e.qZA()()()()(),e.TgZ(36,"div",21)(37,"div",22)(38,"button",23),e.NdJ("click",function(){return t.cancelar()}),e._uU(39,"Cancelar"),e.qZA(),e.TgZ(40,"button",24),e._uU(41,"Guardar"),e.qZA()()()()()()}if(2&o){const r=e.MAs(19),n=e.MAs(34);e.xp6(6),e.hij("T\xedtulo Acad\xe9mico - ",t.accion,""),e.xp6(12),e.Q6J("ngModel",t.tituloAcademico.idTituloAcademico),e.xp6(7),e.Q6J("ngModel",t.tituloAcademico.clave)("disabled",t.esEditar()),e.xp6(2),e.Q6J("ngIf",(null==r.errors?null:r.errors.required)&&r.touched),e.xp6(6),e.Q6J("ngModel",t.tituloAcademico.nombre),e.xp6(2),e.Q6J("ngIf",(null==n.errors?null:n.errors.required)&&n.touched),e.xp6(5),e.Q6J("disabled",t.btnSubmit)}},dependencies:[s._Y,s.Fj,s.JJ,s.JL,s.Q7,s.nD,s.On,s.F,M.O5],encapsulation:2})}var O=a(62861),R=a(58390);function N(d,i){if(1&d){const o=e.EpF();e.TgZ(0,"div",7),e.NdJ("click",function(){e.CHM(o);const r=e.oxw();return e.KtG(r.agregar())}),e.TgZ(1,"button",8),e._uU(2,"Agregar T\xedtulo Acad\xe9mico"),e.qZA()()}}class h{constructor(i,o,t,r,n){this.mensajeService=i,this.tituloAcademicoService=o,this.accesoService=t,this.modalService=r,this.bsModalRef=n,this.tieneAccesoAgregar=!1,this.accesoEditar=u.v.EDITAR_TITULO_ACADEMICO,this.accesoEliminar=u.v.ELIMINAR_TITULO_ACADEMICO,this.HEADER_GRID="T\xedtulos Acad\xe9micos",this.MENSAJE_EXITO_ELIMINAR="El t\xedtulo acad\xe9mico ha sido eliminado",this.TITULO_MODAL_ELIMINAR="Eliminar T\xedtulo Acad\xe9mico",this.titulosList=[],this.columns=[{headerName:"Id T\xedtulo",field:"idTituloAcademico",maxWidth:150},{headerName:"Clave",field:"clave",maxWidth:150},{headerName:"T\xedtulo acad\xe9mico",field:"nombre",minWidth:150}]}ngOnInit(){this.accesoService.tieneAcceso(u.v.AGREGAR_TITULO_ACADEMICO).subscribe(i=>{this.tieneAccesoAgregar=i}),this.consultarGrid()}consultarGrid(){this.tituloAcademicoService.consultarTodosParaGrid().subscribe(i=>{this.titulosList=i})}onGridClick(i){i.accion===c.g.GRID_ACCION_EDITAR?this.editar(i.data.idTituloAcademico):i.accion===c.g.GRID_ACCION_ELIMINAR&&this.eliminar(i.data)}agregar(){this.bsModalRef=this.modalService.show(m,c.g.CONFIG_MODAL_MEDIUM),this.bsModalRef.content.accion=c.g.MODAL_ACCION_AGREGAR,this.bsModalRef.content.onClose=i=>{i&&this.consultarGrid(),this.bsModalRef.hide()}}editar(i){this.tituloAcademicoService.consultar(i).subscribe(o=>{this.bsModalRef=this.modalService.show(m,c.g.CONFIG_MODAL_MEDIUM),this.bsModalRef.content.tituloAcademico=o,this.bsModalRef.content.accion=c.g.MODAL_ACCION_EDITAR,this.bsModalRef.content.onClose=t=>{t&&this.consultarGrid(),this.bsModalRef.hide()}})}eliminar(i){this.mensajeService.modalConfirmacion("\xbfDesea eliminar el t\xedtulo acad\xe9mico <strong>"+i.nombre+"</strong>?",this.TITULO_MODAL_ELIMINAR).then(o=>{this.tituloAcademicoService.eliminar(i.idTituloAcademico).subscribe(t=>{this.mensajeService.modalExito(this.MENSAJE_EXITO_ELIMINAR),this.consultarGrid()})})}static#e=this.\u0275fac=function(o){return new(o||h)(e.Y36(E.V),e.Y36(f.y),e.Y36(O.Q),e.Y36(A.tT),e.Y36(A.UZ))};static#i=this.\u0275cmp=e.Xpm({type:h,selectors:[["ng-component"]],decls:8,vars:6,consts:[[1,"contenedor"],[1,"titulo-contenedor"],[1,"cuerpo-contenedor"],[1,"row"],[1,"col-md-12"],["class","contenedor-agregar",3,"click",4,"ngIf"],[3,"headerName","data","children","accesoEditar","accesoEliminar","event"],[1,"contenedor-agregar",3,"click"],[1,"btn-agregar"]],template:function(o,t){1&o&&(e.TgZ(0,"div",0)(1,"div",1),e._uU(2,"T\xedtulos Acad\xe9micos"),e.qZA(),e.TgZ(3,"div",2)(4,"div",3)(5,"div",4),e.YNc(6,N,3,0,"div",5),e.TgZ(7,"app-grid-general",6),e.NdJ("event",function(n){return t.onGridClick(n)}),e.qZA()()()()()),2&o&&(e.xp6(6),e.Q6J("ngIf",t.tieneAccesoAgregar),e.xp6(1),e.Q6J("headerName",t.HEADER_GRID)("data",t.titulosList)("children",t.columns)("accesoEditar",t.accesoEditar)("accesoEliminar",t.accesoEliminar))},dependencies:[M.O5,R.$],encapsulation:2})}const D=[{path:"",component:h,canActivate:[b.m],data:{title:"Consulta",acceso:u.v.CONSULTAR_TITULO_ACADEMICO}}];class g{static#e=this.\u0275fac=function(o){return new(o||g)};static#i=this.\u0275mod=e.oAB({type:g});static#t=this.\u0275inj=e.cJS({imports:[p.Bz.forChild(D),p.Bz]})}var S=a(63405),L=a(90061),F=a(41283);class v{static#e=this.\u0275fac=function(o){return new(o||v)};static#i=this.\u0275mod=e.oAB({type:v});static#t=this.\u0275inj=e.cJS({providers:[f.y],imports:[g,S.m,F.Z,A.zk.forChild(),L.kn]})}}}]);