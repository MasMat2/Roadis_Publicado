"use strict";(self.webpackChunkroadis_app=self.webpackChunkroadis_app||[]).push([[7223],{93416:(Q,x,d)=>{d.d(x,{U:()=>_});var s=d(94650),P=d(11481);class _{constructor(q){this.sanitizer=q}ngOnInit(){this.imageSrc=this.sanitizer.bypassSecurityTrustResourceUrl(`data:${this.archivoTipoMime};base64,${this.archivo}`)}cancelar(){this.onCloseCallback&&this.onCloseCallback(!0)}static#e=this.\u0275fac=function(f){return new(f||_)(s.Y36(P.H7))};static#o=this.\u0275cmp=s.Xpm({type:_,selectors:[["app-imagen-visor"]],inputs:{archivo:"archivo",nombreImagen:"nombreImagen",archivoTipoMime:"archivoTipoMime"},decls:12,vars:2,consts:[[1,"container-fluid"],[1,"row"],[1,"col-md-6","offset-md-3"],[1,"modal-content"],[1,"modal-header"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],["alt","Imagen",1,"img-fluid",3,"src"]],template:function(f,C){1&f&&(s.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div"),s._uU(6),s.qZA(),s.TgZ(7,"button",5),s.NdJ("click",function(){return C.cancelar()}),s.TgZ(8,"span",6),s._uU(9,"\xd7"),s.qZA()()(),s.TgZ(10,"div",7),s._UZ(11,"img",8),s.qZA()()()()()),2&f&&(s.xp6(6),s.Oqu(C.nombreImagen),s.xp6(5),s.Q6J("src",C.imageSrc,s.LSH))}})}},4837:(Q,x,d)=>{d.d(x,{x:()=>L});var s=d(94650),P=d(19904),_=d(93416),A=d(44826),q=d(50986),f=d(20388),C=d(24006);const O=["inputArchivo"];class L{constructor(g,c){this.modalService=g,this.bsModalRef=c,this.label="Etiqueta",this.habilitado=!1,this.contieneAyuda=!0,this.archivoDto=new s.vpe,this.idArchivoDescarga=new s.vpe,this.idArchivoAyuda=new s.vpe}ngOnInit(){0==this.nombreArchivo.length&&(this.nombreArchivo="Archivo - Fecha - Hora")}previsualizar(){this.tipoMime.startsWith("image/")?this.previsualizarImagen():(this.bsModalRef=this.modalService.show(A.O,q.g.CONFIG_MODAL_DEFAULT),this.bsModalRef.content.archivo=this.archivo,this.bsModalRef.content.nombre=this.nombreArchivo,this.bsModalRef.content.archivoNombre=this.nombreArchivo,this.bsModalRef.content.onClose=g=>{this.bsModalRef.hide()})}previsualizarImagen(){const g={initialState:{archivo:this.archivo,nombreImagen:this.nombreArchivo,archivoTipoMime:this.tipoMime,onCloseCallback:c=>{this.bsModalRef.hide()}},...q.g.CONFIG_MODAL_DEFAULT};this.bsModalRef=this.modalService.show(_.U,g)}previsualizarAyuda(){this.idArchivoAyuda.emit(this.idRegistroArchivoAyuda)}fileChange(g){if(g.target.files&&g.target.files[0]){this.inputArchivo.control.markAsTouched();const c=new FileReader,u=g.target.files[0];c.readAsDataURL(u),c.onload=()=>{this.archivo=c.result.toString().split(",")[1],this.tipoMime=u.type,this.nombreArchivo=u.name;let p=new P.q;p.idArchivo=this.idRegistroArchivo,p.archivo=this.archivo,p.nombreArchivo=this.nombreArchivo,p.tipoMime=this.tipoMime,this.archivoDto.emit(p)}}}getElement(){document.getElementById(this.id).click()}descargarArchivo(){this.downl_endpoint(this.idRegistroArchivo).subscribe(c=>{if("vacio"!=c.tipoMime){let p,U=((c,u="",p=512)=>{const U=atob(c),H=[];for(let J=0;J<U.length;J+=p){const I=U.slice(J,J+p),w=new Array(I.length);for(let S=0;S<I.length;S++)w[S]=I.charCodeAt(S);const le=new Uint8Array(w);H.push(le)}return new Blob(H,{type:u})})(c.archivo,c.tipoMime);p=URL.createObjectURL(U);var u=document.createElement("a");u.href=p,u.download=c.nombreArchivo,u.click()}})}static#e=this.\u0275fac=function(c){return new(c||L)(s.Y36(f.tT),s.Y36(f.UZ))};static#o=this.\u0275cmp=s.Xpm({type:L,selectors:[["app-input-archivo"]],viewQuery:function(c,u){if(1&c&&s.Gf(O,5),2&c){let p;s.iGM(p=s.CRH())&&(u.inputArchivo=p.first)}},inputs:{label:"label",nombreArchivo:"nombreArchivo",archivo:"archivo",tipoMime:"tipoMime",fechaEvidencia:"fechaEvidencia",categoria:"categoria",habilitado:"habilitado",contieneAyuda:"contieneAyuda",id:"id",indice1:"indice1",indice2:"indice2",idRegistroArchivo:"idRegistroArchivo",idRegistroArchivoAyuda:"idRegistroArchivoAyuda",downl_endpoint:"downl_endpoint"},outputs:{archivoDto:"archivoDto",idArchivoDescarga:"idArchivoDescarga",idArchivoAyuda:"idArchivoAyuda"},decls:16,vars:8,consts:[[1,"form-group",2,"margin-top","40px"],[1,"label-input","required-label",2,"margin-left","30px","margin-top","-5px","font-size","12px"],[1,"d-flex","justify-content-around"],["type","button",1,"btn-subir",3,"disabled","click"],["src","assets/img/svg/ico-15x15-Boton-Circular-Naranja-Subir_Archivo-Cargar.svg",1,"icono"],["ngModel","","type","file","autocomplete","off",1,"col-md-7",3,"id","name","hidden","change"],["inputArchivo","ngModel"],["name","nombre","type","text","maxlength","100","readonly","","disabled","",1,"form-control",2,"height","calc(1.5em + 0.75rem + 7px)  !important",3,"ngModel","ngModelChange"],["nombre","ngModel"],["src","assets/img/svg/ico-15x15-Boton-Circular-Naranja-Ver_Archivo.svg",1,"icono"],["type","button",1,"btn-subir",3,"click"],["src","assets/img/svg/ico-15x15-Boton-Circular-Naranja-Descargar.svg",1,"icono"],["type","button",1,"btn-subir","btn-ayuda",3,"disabled","click"],["src","assets/img/svg/ico-15x15-Boton-Circular-Amarillo-Ayuda.svg",1,"icono"]],template:function(c,u){1&c&&(s.TgZ(0,"div",0)(1,"label",1),s._uU(2),s.qZA(),s.TgZ(3,"div",2)(4,"button",3),s.NdJ("click",function(){return u.getElement()}),s._UZ(5,"img",4),s.qZA(),s.TgZ(6,"input",5,6),s.NdJ("change",function(U){return u.fileChange(U)}),s.qZA(),s.TgZ(8,"input",7,8),s.NdJ("ngModelChange",function(U){return u.nombreArchivo=U}),s.qZA(),s.TgZ(10,"button",3),s.NdJ("click",function(){return u.previsualizar()}),s._UZ(11,"img",9),s.qZA(),s.TgZ(12,"button",10),s.NdJ("click",function(){return u.descargarArchivo()}),s._UZ(13,"img",11),s.qZA(),s.TgZ(14,"button",12),s.NdJ("click",function(){return u.previsualizarAyuda()}),s._UZ(15,"img",13),s.qZA()()()),2&c&&(s.xp6(2),s.Oqu(u.label),s.xp6(2),s.Q6J("disabled",u.habilitado),s.xp6(2),s.Q6J("id",u.id)("name",u.label)("hidden",!0),s.xp6(2),s.Q6J("ngModel",u.nombreArchivo),s.xp6(2),s.Q6J("disabled",u.habilitado),s.xp6(4),s.Q6J("disabled",!u.contieneAyuda))},dependencies:[C.Fj,C.JJ,C.nD,C.On],styles:["[_ngcontent-%COMP%]:root{--color-primario: #3f75d2;--color-primario-hover: #F9EFFB;--color-menu: #3f75d2}.btn-subir[_ngcontent-%COMP%]{font-size:small;color:#fbe5d6;padding:0;margin:1px 5px;height:calc(1.3em + .7rem + 6px);background-color:transparent;transition:.2s;border:none;color:#fff;font-size:14px;text-align:center;border-radius:20px;text-wrap:true;max-width:100%;max-height:100%;align-content:center}.form-control[_ngcontent-%COMP%]{color:gray}.icono[_ngcontent-%COMP%]{height:80%;background-color:transparent;border-radius:50%}.icono[_ngcontent-%COMP%]:hover{background-color:#f3f3f3}.btn-ayuda[_ngcontent-%COMP%]:disabled{opacity:0}"]})}},98520:(Q,x,d)=>{d.d(x,{G:()=>A});var s=d(36895),P=d(24006),_=d(94650);class A{static#e=this.\u0275fac=function(C){return new(C||A)};static#o=this.\u0275mod=_.oAB({type:A});static#n=this.\u0275inj=_.cJS({imports:[s.ez,P.u5]})}},44826:(Q,x,d)=>{d.d(x,{O:()=>_});var s=d(94650),P=d(3930);class _{constructor(){this.height="80vh"}ngOnInit(){}cancelar(){this.onClose(!0)}static#e=this.\u0275fac=function(f){return new(f||_)};static#o=this.\u0275cmp=s.Xpm({type:_,selectors:[["app-pdf-visor"]],inputs:{archivo:"archivo",nombre:"nombre",archivoNombre:"archivoNombre",height:"height"},decls:7,vars:6,consts:[[1,"modal-content"],[1,"modal-header"],["type","button","aria-label","Close",1,"close","pull-right",3,"click"],[1,"far","fa-times-circle"],[3,"base64Src","filenameForDownload","useBrowserLocale","zoom","height"]],template:function(f,C){1&f&&(s.TgZ(0,"div",0)(1,"div",1)(2,"div"),s._uU(3),s.qZA(),s.TgZ(4,"button",2),s.NdJ("click",function(){return C.cancelar()}),s._UZ(5,"i",3),s.qZA()(),s._UZ(6,"ngx-extended-pdf-viewer",4),s.qZA()),2&f&&(s.xp6(3),s.hij("",C.nombre," "),s.xp6(3),s.Q6J("base64Src",C.archivo)("filenameForDownload",C.archivoNombre)("useBrowserLocale",!0)("zoom","page-actual")("height",C.height))},dependencies:[P.S3]})}},19904:(Q,x,d)=>{d.d(x,{q:()=>s});class s{}},37223:(Q,x,d)=>{d.r(x),d.d(x,{ContratistaModule:()=>se});var s=d(36895),P=d(9116),_=d(27974),A=d(86936),q=d(52522),f=d(77579);class C{constructor(){}}class O{constructor(){}}class L{constructor(){this.btnSubmit=!1}}var Ce=d(70615),g=d(40675),c=d(50986),u=d(82722),p=d(18505),U=d(54004),H=d(90429),e=d(94650),J=d(51763),I=d(2060);const w=["informacionGeneral"],le=["anexos"],S=["contactos"],qe=["tabset"];function Ue(l,n){if(1&l&&(e.TgZ(0,"tabset",null,3)(2,"tab",4),e._UZ(3,"app-contratista-informacion-general",5,6),e.qZA(),e.TgZ(5,"tab",7),e._UZ(6,"app-contratista-anexos",8,9),e.qZA(),e.TgZ(8,"tab",10),e._UZ(9,"app-contratista-contactos",11,12),e.qZA()()),2&l){const t=e.oxw();e.xp6(3),e.Q6J("entidad",t.entidad)("accion",t.accion),e.xp6(2),e.Q6J("disabled",null==t.entidad.usuario||!t.entidad.usuario.idUsuario),e.xp6(1),e.Q6J("entidad",t.entidad),e.xp6(2),e.Q6J("disabled",null==t.entidad.usuario||!t.entidad.usuario.idUsuario),e.xp6(1),e.Q6J("idUsuarioContratista",t.entidad.idUsuario)("idCompania",t.entidad.usuario.idCompania)}}function Ie(l,n){if(1&l){const t=e.EpF();e.TgZ(0,"button",13),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.cerrar())}),e._uU(1," Cancelar "),e.qZA(),e.TgZ(2,"button",14),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.onSubmit())}),e._uU(3," Guardar "),e.qZA()}if(2&l){const t=e.oxw();e.Q6J("hidden",t.ocultarBotones),e.xp6(2),e.Q6J("disabled",t.submiting)("hidden",t.ocultarBotones)}}class Y extends Ce.P{constructor(n,t){super(t),this.contratistaService=n,this.destroy$=new f.x,this.ocultarBotones=!1,this.placeHolderSelect=c.g.PLACEHOLDER_DROPDOWN,this.placeHolderNoOptions=c.g.PLACEHOLDER_DROPDOWN_NO_OPTIONS,this.submiting=!1,this.tabSeleccionado=0,this.usuario=new L,this.usuarioAnexos=new O}ngOnInit(){this.entidad.usuario=new L,this.entidad.usuarioAnexos=new O,super.onInit()}ngOnDestroy(){this.destroy$.next()}ngAfterViewChecked(){"Contactos Contratista"===this.tabset.tabs.find(t=>1==t.active)?.heading?this.ocultarBotones=!0:this.ocultarBotones=!1}consultar(n){return this.contratistaService.consultarParaFormulario(n).pipe((0,u.R)(this.destroy$),(0,p.b)(t=>{t.usuario.idEstado&&this.informacionGeneral.cargarDatos(t.usuario.idEstado)}),(0,U.U)(t=>{const o=new C;return o.idUsuario=t.idUsuario,o.usuario=t.usuario,o.usuarioAnexos=t.usuarioAnexos,o.guias=t.guias,console.log(o),this.contactos.cargarDatos(o.idUsuario,o.usuario.idCompania),o}))}agregar(n){return this.contratistaService.agregar(n)}editar(n){return"C001"==this.clave?this.contratistaService.editar(n):"C002"==this.clave?this.contratistaService.editarAnexos(n):void 0}onSubmit(){let n=this.tabset.tabs.find(o=>1==o.active)?.heading,t=this.consultarFormulario(n);t&&(this.onSubmitModificado(t),"Contacto Contratistas"==n&&this.onSubmitModificado(t))}onSubmitModificado(n){if(!n.valid)return H.CW(n),void(this.submitting=!1);const[t,o]="masc"===this.generoGramatical?["El","o"]:["La","a"],r=this.accion===g.V_.Agregar?`agregad${o}`:`modificad${o}`,i=`${t} ${this.nombreEntidad.toLocaleLowerCase()} ha sido ${r}`;(this.accion===g.V_.Agregar?this.agregar(this.entidad):this.editar(this.entidad)).subscribe({next:()=>{this.mensajeService.modalExito(i),this.accion==g.V_.Agregar&&this.onClose(!0)},error:()=>{this.submitting=!1}})}consultarFormulario(n){switch(n){case this.informacionGeneral.heading:return this.clave="C001",this.informacionGeneral.formulario;case this.anexos.heading:return this.clave="C002",this.anexos.formulario;default:return this.clave="C003",null}}cerrar(){this.accion==g.V_.Agregar?this.cancelar():this.onClose(!0)}static#e=this.\u0275fac=function(t){return new(t||Y)(e.Y36(J.m),e.Y36(I.V))};static#o=this.\u0275cmp=e.Xpm({type:Y,selectors:[["app-contratista-formulario"]],viewQuery:function(t,o){if(1&t&&(e.Gf(w,5),e.Gf(le,5),e.Gf(S,5),e.Gf(qe,5)),2&t){let r;e.iGM(r=e.CRH())&&(o.informacionGeneral=r.first),e.iGM(r=e.CRH())&&(o.anexos=r.first),e.iGM(r=e.CRH())&&(o.contactos=r.first),e.iGM(r=e.CRH())&&(o.tabset=r.first)}},features:[e.qOj],decls:5,vars:1,consts:[[3,"titulo"],["modalBody",""],["modalFooter",""],["tabset",""],["heading","Informaci\xf3n General",2,"padding","0"],["heading","Informaci\xf3n General",3,"entidad","accion"],["informacionGeneral",""],["heading","Documentos Anexos",2,"padding","0",3,"disabled"],["heading","Documentos Anexos",3,"entidad"],["anexos",""],["heading","Contactos Contratista",2,"padding","0",3,"disabled"],[3,"idUsuarioContratista","idCompania"],["contactos",""],["type","button",1,"btn-secundario","mr-3",3,"hidden","click"],["type","button",1,"btn-primario","btn-margin-left",3,"disabled","hidden","click"]],template:function(t,o){1&t&&(e.TgZ(0,"app-modal-base",0),e.YNc(1,Ue,11,7,"ng-template",null,1,e.W1O),e.YNc(3,Ie,4,3,"ng-template",null,2,e.W1O),e.qZA()),2&t&&e.Q6J("titulo",o.nombreEntidad+" - "+o.accion)},encapsulation:2})}var _e=d(62861),F=d(20388),ve=d(85246);function Je(l,n){1&l&&(e.TgZ(0,"div"),e._UZ(1,"img",2),e.TgZ(2,"span"),e._uU(3,"Procesando... por favor espere"),e.qZA()())}class B extends _.v{constructor(n,t,o,r){super(t,o,r),this.contratistaService=n,this.HEADER_GRID="Contratistas",this.destroy$=new f.x,this.NOMBRE_ENTIDAD="Contratista",this.mostrandoSpinner=!1,this.crudConfig={nombreEntidad:this.NOMBRE_ENTIDAD,generoGramatical:"masc",nombrePropiedadId:"idUsuario",formConfig:{ComponenteFormulario:Y,modalConfig:q.OS.Large,configAgregar:{acceso:A.GR.Agregar},configEditar:{acceso:A.GR.Editar}},configEliminar:{acceso:A.GR.Eliminar,elementToString:i=>i.nombreComercial}},this.columns=[{headerName:"Clave",field:"clave",wrapHeaderText:!0,autoHeaderHeight:!0,wrapText:!0,minWidth:25,width:30},{headerName:"Estatus",field:"estatus",wrapHeaderText:!0,autoHeaderHeight:!0,wrapText:!0,minWidth:25,width:30,valueGetter:i=>i.data.estatus?"Activo":"Inactivo"},{headerName:"Tipo de Contratista",field:"tipoContratista",wrapHeaderText:!0,autoHeaderHeight:!0,wrapText:!1,minWidth:50,width:60},{headerName:"Denominaci\xf3n Social o Raz\xf3n Social",field:"denominacionSocial",wrapHeaderText:!0,autoHeaderHeight:!0,wrapText:!1,minWidth:50,width:120},{headerName:"Nombre Comercial de Contratistas",field:"nombreComercial",wrapHeaderText:!0,autoHeaderHeight:!0,wrapText:!1,minWidth:50,width:100},{headerName:"Giro",field:"giroComercial",wrapHeaderText:!0,autoHeaderHeight:!0,wrapText:!1,minWidth:40,width:50}],this.b64toBlob=(i,a="",T=512)=>{const E=atob(i),h=[];for(let v=0;v<E.length;v+=T){const b=E.slice(v,v+T),Z=new Array(b.length);for(let y=0;y<b.length;y++)Z[y]=b.charCodeAt(y);const he=new Uint8Array(Z);h.push(he)}return new Blob(h,{type:a})}}ngOnInit(){super.onInit()}consultarGrid(){return this.contratistaService.consultarParaGrid()}eliminar(n){return this.contratistaService.eliminar(n)}descargarXLS(){this.mostrandoSpinner=!0,this.contratistaService.descargarXls().subscribe(n=>{let t,o=this.b64toBlob(n.archivo,n.tipoMime);t=URL.createObjectURL(o);var r=document.createElement("a");r.href=t,r.download=n.nombreArchivo,r.click(),this.mostrandoSpinner=!1},n=>{console.error("Error al descargar el archivo",n),this.mostrandoSpinner=!1})}static#e=this.\u0275fac=function(t){return new(t||B)(e.Y36(J.m),e.Y36(_e.Q),e.Y36(F.tT),e.Y36(I.V))};static#o=this.\u0275cmp=e.Xpm({type:B,selectors:[["app-contratista"]],features:[e.qOj],decls:2,vars:7,consts:[["titulo","Contratistas","tituloBoton","Contratista",3,"columns","crudConfig","elementos$","tieneAccesoAgregar$","mostrarBotonExcel","disableXLS","agregarClick","gridClick","excelClick"],[4,"ngIf"],["src","assets/img/spinner.gif","alt","Procesando..."]],template:function(t,o){1&t&&(e.TgZ(0,"app-catalogo-base",0),e.NdJ("agregarClick",function(){return o.agregar()})("gridClick",function(i){return o.onGridClick(i)})("excelClick",function(){return o.descargarXLS()}),e.qZA(),e.YNc(1,Je,4,0,"div",1)),2&t&&(e.Q6J("columns",o.columns)("crudConfig",o.crudConfig)("elementos$",o.registros$)("tieneAccesoAgregar$",o.tieneAccesoAgregar$)("mostrarBotonExcel",!0)("disableXLS",!0),e.xp6(1),e.Q6J("ngIf",o.mostrandoSpinner))},dependencies:[s.O5,ve.B]})}var ye=d(13050);const Ge=[{path:"",component:B,canActivate:[ye.m],data:{title:"Consulta",acceso:A.GR.Consultar}}];class j{static#e=this.\u0275fac=function(t){return new(t||j)};static#o=this.\u0275mod=e.oAB({type:j});static#n=this.\u0275inj=e.cJS({imports:[P.Bz.forChild(Ge),P.Bz]})}var W=d(71436),V=d(41283),$=d(92020),de=d(83083),ce=d(50496),ue=d(62868),Ae=d(80780),me=d(54388),Me=d(38601),m=d(24006),k=d(88796),be=d(13024),D=d(59241),G=d(15861),Te=d(46558),Le=d(46101),Oe=d(36441),Se=d(51757),Fe=d(16902),De=d(79231),Re=d(33369),Qe=d(98504),ge=d(40293),pe=d(41896),z=d(90061),He=d(31250),Ze=d(36678),xe=d(77250);const Ye=["formulario"];function we(l,n){1&l&&(e.TgZ(0,"div",77),e._uU(1," La clave es requerida "),e.qZA())}function Be(l,n){1&l&&(e.TgZ(0,"div",77),e._uU(1," La fecha alta es requerida "),e.qZA())}function je(l,n){1&l&&(e.TgZ(0,"div",77),e._uU(1," La Denominaci\xf3n Social es requerida "),e.qZA())}function We(l,n){1&l&&(e.TgZ(0,"div",77),e._uU(1," El Nombre Comercial es requerido "),e.qZA())}function Ve(l,n){1&l&&(e.TgZ(0,"div",77),e._uU(1," El Tipo de Contratista es requerido "),e.qZA())}function $e(l,n){1&l&&(e.TgZ(0,"div",77),e._uU(1," El RFC no es v\xe1lido "),e.qZA())}function ke(l,n){1&l&&(e.TgZ(0,"div",77),e._uU(1," El correo es requerido "),e.qZA())}function ze(l,n){1&l&&(e.TgZ(0,"div",77),e._uU(1," El correo no es v\xe1lido "),e.qZA())}function Ke(l,n){1&l&&(e.TgZ(0,"div",77),e._uU(1," El tel\xe9fono fijo tiene un formato inv\xe1lido "),e.qZA())}function Xe(l,n){1&l&&(e.TgZ(0,"div",77),e._uU(1," El tel\xe9fono fijo es requerido (10 d\xedgitos) "),e.qZA())}function eo(l,n){1&l&&(e.TgZ(0,"div",77),e._uU(1," El tel\xe9fono fax tiene un formato inv\xe1lido "),e.qZA())}function oo(l,n){1&l&&(e.TgZ(0,"div",77),e._uU(1," El tel\xe9fono fax es requerido (10 d\xedgitos) "),e.qZA())}function no(l,n){1&l&&(e.TgZ(0,"div",77),e._uU(1," El c\xf3digo postal es requerido (5 d\xedgitos) "),e.qZA())}function to(l,n){1&l&&(e.TgZ(0,"div",77),e._uU(1," El c\xf3digo postal tiene un formato inv\xe1lido "),e.qZA())}function io(l,n){1&l&&(e.TgZ(0,"div",77),e._uU(1," El n\xfam. exterior tiene un formato inv\xe1lido "),e.qZA())}function ao(l,n){1&l&&(e.TgZ(0,"div",77),e._uU(1," El n\xfam. interior tiene un formato inv\xe1lido "),e.qZA())}function ro(l,n){1&l&&(e.TgZ(0,"div",77),e._uU(1," El correo no es v\xe1lido "),e.qZA())}function so(l,n){1&l&&(e.TgZ(0,"div",77),e._uU(1," El tel\xe9fono fijo tiene un formato inv\xe1lido "),e.qZA())}function lo(l,n){1&l&&(e.TgZ(0,"div",77),e._uU(1," El tel\xe9fono fijo es requerido (10 d\xedgitos) "),e.qZA())}class K{constructor(n,t,o,r,i,a,T,E,h,M){this.usuarioService=n,this.paisService=t,this.estadoService=o,this.municipioService=r,this.localidadService=i,this.coloniaService=a,this.codigoPostalService=T,this.tipoContratistaService=E,this.giroComercialService=h,this.bancoService=M,this.rfcValido=!0,this.correoValido=!0,this.placeHolderSelect=c.g.PLACEHOLDER_DROPDOWN,this.placeHolderNoOptions=c.g.PLACEHOLDER_DROPDOWN_NO_OPTIONS,this.paisList=[],this.estadoList=[],this.municipioList=[],this.localidadList=[],this.coloniaList=[],this.giroList=[],this.bancoList=[]}ngOnInit(){this.accion===g.V_.Agregar&&(this.usuarioService.consultarMiPerfil().subscribe(n=>{n&&(this.entidad.usuarioAnexos.quienRegistro=n.nombreCompleto,this.entidad.usuarioAnexos.fechaAlta=new Date)}),this.habilitado="Activo",this.rolContratista="Contratista"),this.consultarPaises(),this.consultarTiposContratista(),this.consultarGirosComerciales(),this.consultarBanco()}onRfcChange(n){const t=n.control.errors;null==this.entidad.usuario.rfc||""==this.entidad.usuario.rfc||null!=t&&t.formatoRfc?this.rfcValido=!1:this.rfcValido=!0}correoChange(n){const t=n.control.errors;null==this.entidad.usuario.correo||""==this.entidad.usuario.correo||null!=t&&t.formatoCorreo?this.correoValido=!1:this.correoValido=!0}consultarPaises(){var n=this;return(0,G.Z)(function*(){const t=yield n.paisService.consultarTodosParaSelector().toPromise();if(n.paisList=t??[],!n.entidad.usuario.idPais){const o=n.paisList.find(r=>r.clave===c.g.CLAVE_PAIS_MEXICO);n.entidad.usuario.idPais=o?.idPais??void 0}n.entidad.usuario.idPais&&n.consultarEstados(n.entidad.usuario.idPais)})()}consultarEstados(n){var t=this;return(0,G.Z)(function*(){const o=n>0?yield t.estadoService.consultarPorPaisParaSelector(n).toPromise():[];t.estadoList=o??[]})()}consultarMunicipios(n){var t=this;return(0,G.Z)(function*(){const o=n>0?yield t.municipioService.consultarPorEstadoParaSelector(n).toPromise():[];t.municipioList=o??[]})()}consultarLocalidades(n){var t=this;return(0,G.Z)(function*(){const o=n>0?yield t.localidadService.consultarPorEstado(n).toPromise():[];t.localidadList=o??[]})()}consultarColonias(n){var t=this;return(0,G.Z)(function*(){const o=n&&5===n.length?yield t.coloniaService.consultarPorCodigoParaSelector(n).toPromise():[];t.coloniaList=o??[]})()}consultarTiposContratista(){this.tiposContratista$=this.tipoContratistaService.consultarParaSelector()}onChangePais(){var n=this;return(0,G.Z)(function*(){n.entidad.usuario.idPais?(yield n.consultarEstados(n.entidad.usuario.idPais),n.onChangeEstado()):(n.entidad.usuario.idEstado=void 0,n.entidad.usuario.idMunicipio=void 0,n.entidad.usuario.idLocalidad=void 0,n.entidad.usuario.idColonia=void 0)})()}onChangeEstado(){var n=this;return(0,G.Z)(function*(){n.entidad.usuario.idEstado?(n.entidad.usuario.idMunicipio=void 0,n.entidad.usuario.idLocalidad=void 0,n.entidad.usuario.idColonia=void 0,yield Promise.all([n.consultarMunicipios(n.entidad.usuario.idEstado),n.consultarLocalidades(n.entidad.usuario.idEstado)])):(n.entidad.usuario.idMunicipio=void 0,n.entidad.usuario.idLocalidad=void 0,n.entidad.usuario.idColonia=void 0)})()}onCodigoPostalChange(n){var t=this;return(0,G.Z)(function*(){if(5!=n.length)return;const o=yield t.codigoPostalService.consultarPorCodigoPostal(n).toPromise().catch(()=>[]);!o||0===o.length||(t.consultarMunicipios(o[0].idEstado),t.consultarLocalidades(o[0].idEstado),t.consultarColonias(n),t.entidad.usuario.idEstado=o[0].idEstado,t.entidad.usuario.idMunicipio=o[0].idMunicipio)})()}cargarDatos(n){this.entidad.usuario.idEstado=n,this.onChangeEstado(),this.estadoService.consultar(n).subscribe(t=>{this.entidad.usuario.idPais=t.idPais,this.consultarEstados(t.idPais)})}consultarGirosComerciales(){var n=this;return(0,G.Z)(function*(){const t=yield n.giroComercialService.consultarTodos().toPromise().catch(()=>[]);n.giroList=t??[]})()}consultarBanco(){this.bancoService.consultarTodosParaSelector().subscribe(n=>{this.bancoList=n})}static#e=this.\u0275fac=function(t){return new(t||K)(e.Y36(Te.i),e.Y36(Le.$),e.Y36(Oe.s),e.Y36(Se.G),e.Y36(Fe.b),e.Y36(De.T),e.Y36(Re.R),e.Y36(Qe.h),e.Y36(ge.p),e.Y36(pe.r))};static#o=this.\u0275cmp=e.Xpm({type:K,selectors:[["app-contratista-informacion-general"]],viewQuery:function(t,o){if(1&t&&e.Gf(Ye,5),2&t){let r;e.iGM(r=e.CRH())&&(o.formulario=r.first)}},inputs:{entidad:"entidad",heading:"heading",accion:"accion"},decls:270,vars:95,consts:[["id","form","novalidate","novalidate",3,"keydown.enter"],["formulario","ngForm"],[1,"container-fluid"],[1,"row"],[1,"col-md-2"],[1,"form-group"],[1,"label-input","required-label"],["name","clave","type","text","maxlength","50",1,"form-control",3,"ngModel","required","disabled","ngModelChange"],["clave","ngModel"],["class","error",4,"ngIf"],[1,"calendario"],["type","text","autocomplete","off","placeholder","dd/mm/aaaa","name","fechaAltaName","bsDatepicker","","disabled","disabled",1,"form-control",3,"ngModel","required","ngModelChange"],["fechaAltaName","ngModel"],["name","estatus","type","text","maxlength","50","disabled","",1,"form-control",3,"ngModel","required","ngModelChange"],["estatus","ngModel"],["name","nombreUsuarioAltaName","type","text","disabled","disabled",1,"form-control",3,"ngModel","ngModelChange"],["nombreUsuarioAlta","ngModel"],[1,"col-md-4"],["name","rol","type","text","maxlength","50","disabled","",1,"form-control",3,"ngModel","required","ngModelChange"],["rol","ngModel"],["name","denominacionSocial","type","text","maxlength","50",1,"form-control",3,"ngModel","required","ngModelChange"],["denominacionSocial","ngModel"],["name","nombreComercial","type","text","maxlength","50",1,"form-control",3,"ngModel","required","ngModelChange"],["nombreComercial","ngModel"],["name","tipoContratistaName","bindLabel","nombre","bindValue","idTipoContratista",3,"items","required","ngModel","placeholder","notFoundText","ngModelChange"],["tipoContratistaLst","ngModel"],["name","rfc","type","text","maxlength","13","appFormatoRfc","",1,"form-control",3,"ngModel","ngModelChange"],["rfc","ngModel"],["name","representanteLegal","type","text","maxlength","50",1,"form-control",3,"ngModel","ngModelChange"],["representanteLegal","ngModel"],["name","correo","type","text","maxlength","50","appFormatoCorreo","",1,"form-control",3,"ngModel","required","ngModelChange"],["correo","ngModel"],["name","telefonoFijo","type","text","maxlength","10","maxlength","10","minlength","10","appFormatoTelefono","",1,"form-control",3,"ngModel","required","ngModelChange"],["telefonoFijo","ngModel"],["name","telefonoFax","type","text","maxlength","10","minlength","10","appFormatoTelefono","",1,"form-control",3,"ngModel","required","ngModelChange"],["telefonoFax","ngModel"],["name","giroComercialName","bindLabel","nombre","bindValue","idGiroComercial",3,"items","ngModel","placeholder","notFoundText","ngModelChange"],["giroComercial","ngModel"],[1,"subseccion"],["name","paisName","bindLabel","nombre","bindValue","idPais",1,"select-custom",3,"items","ngModel","placeholder","notFoundText","ngModelChange"],["paisLst","ngModel"],["name","codigoPostal","type","text","appFormatoNumerico","","maxlength","5","minlength","5",1,"form-control",3,"ngModel","ngModelChange"],["codigoPostal","ngModel"],["name","estadoName","bindLabel","nombre","bindValue","idEstado",1,"select-custom",3,"items","ngModel","placeholder","notFoundText","disabled","ngModelChange"],["estadoLst","ngModel"],["name","municipioName","bindLabel","nombre","bindValue","idMunicipio",1,"select-custom",3,"items","ngModel","placeholder","notFoundText","disabled","ngModelChange"],["municipio","ngModel"],["name","localidadName","bindLabel","nombre","bindValue","idLocalidad",1,"select-custom",3,"items","ngModel","placeholder","notFoundText","disabled","ngModelChange"],["localidad","ngModel"],["name","coloniaName","bindLabel","nombre","bindValue","idColonia",1,"select-custom",3,"items","ngModel","placeholder","notFoundText","disabled","ngModelChange"],["colonia","ngModel"],["name","calle","type","text","maxlength","50",1,"form-control",3,"ngModel","ngModelChange"],["calle","ngModel"],["name","numeroExterior","type","text","maxlength","6","appFormatoAlfanumerico","",1,"form-control",3,"ngModel","ngModelChange"],["numeroExterior","ngModel"],["name","numeroInterior","type","text","maxlength","6","appFormatoAlfanumerico","",1,"form-control",3,"ngModel","required","ngModelChange"],["numeroInterior","ngModel"],["name","entreCalles","type","text","maxlength","50",1,"form-control",3,"ngModel","ngModelChange"],["entreCalles","ngModel"],["name","bancoName","bindLabel","nombre","bindValue","idBanco",3,"items","ngModel","placeholder","notFoundText","ngModelChange"],["bancoLst","ngModel"],["name","numeroCuenta","type","text","maxlength","16",1,"form-control",3,"ngModel","ngModelChange"],["numeroCuenta","ngModel"],["name","clabeInterbancaria","type","text","maxlength","50",1,"form-control",3,"ngModel","ngModelChange"],["clabeInterbancaria","ngModel"],["name","sucursal","type","text","maxlength","50",1,"form-control",3,"ngModel","ngModelChange"],["sucursal","ngModel"],["name","correoPagos","type","text","maxlength","50","appFormatocorreo","",1,"form-control",3,"ngModel","ngModelChange"],["correoPagos","ngModel"],["name","nombreCuentaPorCobrar","type","text","maxlength","50",1,"form-control",3,"ngModel","ngModelChange"],["nombreCuentaPorCobrar","ngModel"],["name","telefonoOficina","type","text","maxlength","10","maxlength","10","minlength","10","appFormatoTelefono","",1,"form-control",3,"ngModel","required","ngModelChange"],["telefonoOficina","ngModel"],["name","numeroClienteCredito","type","text","maxlength","50",1,"form-control",3,"ngModel","ngModelChange"],["numeroClienteCredito","ngModel"],["name","plazoCredito","type","text","maxlength","50",1,"form-control",3,"ngModel","ngModelChange"],["plazoCredito","ngModel"],[1,"error"]],template:function(t,o){if(1&t){const r=e.EpF();e.TgZ(0,"form",0,1),e.NdJ("keydown.enter",function(a){return a.preventDefault()}),e.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"label",6),e._uU(7,"Clave Contratista"),e.qZA(),e.TgZ(8,"div")(9,"input",7,8),e.NdJ("ngModelChange",function(a){return o.entidad.usuarioAnexos.claveContratista=a}),e.qZA()(),e.YNc(11,we,2,0,"div",9),e.qZA()(),e.TgZ(12,"div",4)(13,"div",5)(14,"label",6),e._uU(15,"Fecha Alta"),e.qZA(),e.TgZ(16,"div",10)(17,"input",11,12),e.NdJ("ngModelChange",function(a){return o.entidad.usuarioAnexos.fechaAlta=a}),e.qZA()(),e.YNc(19,Be,2,0,"div",9),e.qZA()(),e.TgZ(20,"div",4)(21,"div",5)(22,"label",6),e._uU(23,"Estatus"),e.qZA(),e.TgZ(24,"div")(25,"input",13,14),e.NdJ("ngModelChange",function(a){return o.entidad.usuarioAnexos.estatus=a}),e.qZA()()()(),e.TgZ(27,"div",4)(28,"div",5)(29,"label",6),e._uU(30,"Qui\xe9n Registr\xf3"),e.qZA(),e.TgZ(31,"div")(32,"input",15,16),e.NdJ("ngModelChange",function(a){return o.entidad.usuarioAnexos.quienRegistro=a}),e.qZA()()()(),e.TgZ(34,"div",17)(35,"div",5)(36,"label",6),e._uU(37,"Rol"),e.qZA(),e.TgZ(38,"div")(39,"input",18,19),e.NdJ("ngModelChange",function(a){return o.entidad.usuarioAnexos.rol=a}),e.qZA()()()()(),e.TgZ(41,"div",3)(42,"div",17)(43,"div",5)(44,"label",6),e._uU(45,"Denominaci\xf3n Social o Raz\xf3n Social"),e.qZA(),e.TgZ(46,"div")(47,"input",20,21),e.NdJ("ngModelChange",function(a){return o.entidad.usuarioAnexos.denominacionSocial=a}),e.qZA()(),e.YNc(49,je,2,0,"div",9),e.qZA()(),e.TgZ(50,"div",17)(51,"div",5)(52,"label",6),e._uU(53,"Nombre Comercial"),e.qZA(),e.TgZ(54,"div")(55,"input",22,23),e.NdJ("ngModelChange",function(a){return o.entidad.usuarioAnexos.nombreComercial=a}),e.qZA()(),e.YNc(57,We,2,0,"div",9),e.qZA()(),e.TgZ(58,"div",17)(59,"div",5)(60,"label",6),e._uU(61,"Tipo de Contratista"),e.qZA(),e.TgZ(62,"ng-select",24,25),e.NdJ("ngModelChange",function(a){return o.entidad.usuarioAnexos.tipoContratista=a}),e.ALo(64,"async"),e.qZA(),e.YNc(65,Ve,2,0,"div",9),e.qZA()()(),e.TgZ(66,"div",3)(67,"div",17)(68,"div",5)(69,"label",6),e._uU(70,"RFC"),e.qZA(),e.TgZ(71,"div")(72,"input",26,27),e.NdJ("ngModelChange",function(a){return o.entidad.usuario.rfc=a})("ngModelChange",function(a){e.CHM(r);const T=e.MAs(73);return o.entidad.usuario.rfc=a.toUpperCase(),e.KtG(o.onRfcChange(T))}),e.qZA()(),e.YNc(74,$e,2,0,"div",9),e.qZA()(),e.TgZ(75,"div",17)(76,"div",5)(77,"label",6),e._uU(78,"Representante Legal"),e.qZA(),e.TgZ(79,"div")(80,"input",28,29),e.NdJ("ngModelChange",function(a){return o.entidad.usuarioAnexos.representanteLegal=a}),e.qZA()()()(),e.TgZ(82,"div",17)(83,"div",5)(84,"label",6),e._uU(85,"Correo Electr\xf3nico"),e.qZA(),e.TgZ(86,"div")(87,"input",30,31),e.NdJ("ngModelChange",function(a){return o.entidad.usuario.correo=a})("ngModelChange",function(a){return o.correoChange(a)}),e.qZA()(),e.YNc(89,ke,2,0,"div",9),e.YNc(90,ze,2,0,"div",9),e.qZA()()(),e.TgZ(91,"div",3)(92,"div",17)(93,"div",5)(94,"label",6),e._uU(95,"Tel\xe9fono Fijo"),e.qZA(),e.TgZ(96,"div")(97,"input",32,33),e.NdJ("ngModelChange",function(a){return o.entidad.usuarioAnexos.telefonoFijo=a}),e.qZA()(),e.YNc(99,Ke,2,0,"div",9),e.YNc(100,Xe,2,0,"div",9),e.qZA()(),e.TgZ(101,"div",17)(102,"div",5)(103,"label",6),e._uU(104,"Tel\xe9fono Fax"),e.qZA(),e.TgZ(105,"div")(106,"input",34,35),e.NdJ("ngModelChange",function(a){return o.entidad.usuarioAnexos.telefonoFax=a}),e.qZA()(),e.YNc(108,eo,2,0,"div",9),e.YNc(109,oo,2,0,"div",9),e.qZA()(),e.TgZ(110,"div",17)(111,"div",5)(112,"label",6),e._uU(113,"Giro"),e.qZA(),e.TgZ(114,"div")(115,"ng-select",36,37),e.NdJ("ngModelChange",function(a){return o.entidad.usuarioAnexos.idGiro=a}),e.qZA()()()()(),e.TgZ(117,"div",38),e._uU(118," Domicilio "),e.qZA(),e.TgZ(119,"div",3)(120,"div",17)(121,"div",5)(122,"label",6),e._uU(123,"Pa\xeds"),e.qZA(),e.TgZ(124,"div")(125,"ng-select",39,40),e.NdJ("ngModelChange",function(a){return o.entidad.usuario.idPais=a})("ngModelChange",function(){return o.onChangePais()}),e.qZA()()()(),e.TgZ(127,"div",17)(128,"div",5)(129,"label",6),e._uU(130,"C\xf3digo Postal"),e.qZA(),e.TgZ(131,"div")(132,"input",41,42),e.NdJ("ngModelChange",function(a){return o.entidad.usuario.codigoPostal=a})("ngModelChange",function(a){return o.onCodigoPostalChange(a)}),e.qZA()(),e.YNc(134,no,2,0,"div",9),e.YNc(135,to,2,0,"div",9),e.qZA()(),e.TgZ(136,"div",17)(137,"div",5)(138,"label",6),e._uU(139,"Estado"),e.qZA(),e.TgZ(140,"div")(141,"ng-select",43,44),e.NdJ("ngModelChange",function(a){return o.entidad.usuario.idEstado=a})("ngModelChange",function(){return o.onChangeEstado()}),e.qZA()()()()(),e.TgZ(143,"div",3)(144,"div",17)(145,"div",5)(146,"label",6),e._uU(147,"Municipio"),e.qZA(),e.TgZ(148,"div")(149,"ng-select",45,46),e.NdJ("ngModelChange",function(a){return o.entidad.usuario.idMunicipio=a}),e.qZA()()()(),e.TgZ(151,"div",17)(152,"div",5)(153,"label",6),e._uU(154,"Localidad"),e.qZA(),e.TgZ(155,"div")(156,"ng-select",47,48),e.NdJ("ngModelChange",function(a){return o.entidad.usuario.idLocalidad=a}),e.qZA()()()(),e.TgZ(158,"div",17)(159,"div",5)(160,"label",6),e._uU(161,"Colonia"),e.qZA(),e.TgZ(162,"div")(163,"ng-select",49,50),e.NdJ("ngModelChange",function(a){return o.entidad.usuario.idColonia=a}),e.qZA()()()()(),e.TgZ(165,"div",3)(166,"div",17)(167,"div",5)(168,"label",6),e._uU(169,"Calle"),e.qZA(),e.TgZ(170,"div")(171,"input",51,52),e.NdJ("ngModelChange",function(a){return o.entidad.usuario.calle=a}),e.qZA()()()(),e.TgZ(173,"div",4)(174,"div",5)(175,"label",6),e._uU(176,"N\xfam. Exterior"),e.qZA(),e.TgZ(177,"div")(178,"input",53,54),e.NdJ("ngModelChange",function(a){return o.entidad.usuario.numeroExterior=a}),e.qZA()(),e.YNc(180,io,2,0,"div",9),e.qZA()(),e.TgZ(181,"div",4)(182,"div",5)(183,"label",6),e._uU(184,"N\xfam. Interior"),e.qZA(),e.TgZ(185,"div")(186,"input",55,56),e.NdJ("ngModelChange",function(a){return o.entidad.usuario.numeroInterior=a}),e.qZA()(),e.YNc(188,ao,2,0,"div",9),e.qZA()(),e.TgZ(189,"div",17)(190,"div",5)(191,"label",6),e._uU(192,"EntreCalle"),e.qZA(),e.TgZ(193,"div")(194,"input",57,58),e.NdJ("ngModelChange",function(a){return o.entidad.usuarioAnexos.entreCalles=a}),e.qZA()()()()(),e.TgZ(196,"div",38),e._uU(197," Datos Bancarios "),e.qZA(),e.TgZ(198,"div",3)(199,"div",17)(200,"div",5)(201,"label",6),e._uU(202,"Banco"),e.qZA(),e.TgZ(203,"div")(204,"ng-select",59,60),e.NdJ("ngModelChange",function(a){return o.entidad.usuarioAnexos.banco=a}),e.qZA()()()(),e.TgZ(206,"div",17)(207,"div",5)(208,"label",6),e._uU(209,"N\xfamero de Cuenta"),e.qZA(),e.TgZ(210,"div")(211,"input",61,62),e.NdJ("ngModelChange",function(a){return o.entidad.usuarioAnexos.numeroCuenta=a}),e.qZA()()()(),e.TgZ(213,"div",17)(214,"div",5)(215,"label",6),e._uU(216,"Clabe Interbancaria"),e.qZA(),e.TgZ(217,"div")(218,"input",63,64),e.NdJ("ngModelChange",function(a){return o.entidad.usuarioAnexos.clabeInterbancaria=a}),e.qZA()()()()(),e.TgZ(220,"div",3)(221,"div",17)(222,"div",5)(223,"label",6),e._uU(224,"Sucursal"),e.qZA(),e.TgZ(225,"div")(226,"input",65,66),e.NdJ("ngModelChange",function(a){return o.entidad.usuarioAnexos.sucursal=a}),e.qZA()()()(),e.TgZ(228,"div",17)(229,"div",5)(230,"label",6),e._uU(231,"Correo Electr\xf3nico Pagos"),e.qZA(),e.TgZ(232,"div")(233,"input",67,68),e.NdJ("ngModelChange",function(a){return o.entidad.usuarioAnexos.correoPagos=a})("ngModelChange",function(a){return o.correoChange(a)}),e.qZA()(),e.YNc(235,ro,2,0,"div",9),e.qZA()(),e.TgZ(236,"div",17)(237,"div",5)(238,"label",6),e._uU(239,"Nombre Cuenta por Cobrar"),e.qZA(),e.TgZ(240,"div")(241,"input",69,70),e.NdJ("ngModelChange",function(a){return o.entidad.usuarioAnexos.nombreCuentaPorCobrar=a}),e.qZA()()()()(),e.TgZ(243,"div",3)(244,"div",17)(245,"div",5)(246,"label",6),e._uU(247,"Tel\xe9fono Oficina"),e.qZA(),e.TgZ(248,"div")(249,"input",71,72),e.NdJ("ngModelChange",function(a){return o.entidad.usuarioAnexos.telefonoOficina=a}),e.qZA()(),e.YNc(251,so,2,0,"div",9),e.YNc(252,lo,2,0,"div",9),e.qZA()()(),e.TgZ(253,"div",38),e._uU(254," N\xfam. de Cliente y Plazo de Cr\xe9dito "),e.qZA(),e.TgZ(255,"div",3)(256,"div",17)(257,"div",5)(258,"label",6),e._uU(259,"N\xfam. de Cliente"),e.qZA(),e.TgZ(260,"div")(261,"input",73,74),e.NdJ("ngModelChange",function(a){return o.entidad.usuarioAnexos.numeroClienteCredito=a}),e.qZA()()()(),e.TgZ(263,"div",17)(264,"div",5)(265,"label",6),e._uU(266,"Plazo de Cr\xe9dito"),e.qZA(),e.TgZ(267,"div")(268,"input",75,76),e.NdJ("ngModelChange",function(a){return o.entidad.usuarioAnexos.plazoCredito=a}),e.qZA()()()()()()()}if(2&t){const r=e.MAs(10),i=e.MAs(18),a=e.MAs(48),T=e.MAs(56),E=e.MAs(63),h=e.MAs(73),M=e.MAs(88),v=e.MAs(98),b=e.MAs(107),Z=e.MAs(133),he=e.MAs(179),y=e.MAs(187),fe=e.MAs(234),N=e.MAs(250);e.xp6(9),e.Q6J("ngModel",o.entidad.usuarioAnexos.claveContratista)("required",!0)("disabled",null!=o.entidad.usuario.idUsuario),e.xp6(2),e.Q6J("ngIf",(null==r.errors?null:r.errors.required)&&r.touched),e.xp6(6),e.Q6J("ngModel",o.entidad.usuarioAnexos.fechaAlta)("required",!0),e.xp6(2),e.Q6J("ngIf",(null==i.errors?null:i.errors.required)&&i.touched),e.xp6(6),e.Q6J("ngModel",o.entidad.usuarioAnexos.estatus)("required",!0),e.xp6(7),e.Q6J("ngModel",o.entidad.usuarioAnexos.quienRegistro),e.xp6(7),e.Q6J("ngModel",o.entidad.usuarioAnexos.rol)("required",!0),e.xp6(8),e.Q6J("ngModel",o.entidad.usuarioAnexos.denominacionSocial)("required",!0),e.xp6(2),e.Q6J("ngIf",(null==a.errors?null:a.errors.required)&&a.touched),e.xp6(6),e.Q6J("ngModel",o.entidad.usuarioAnexos.nombreComercial)("required",!0),e.xp6(2),e.Q6J("ngIf",(null==T.errors?null:T.errors.required)&&T.touched),e.xp6(5),e.Q6J("items",e.lcZ(64,93,o.tiposContratista$))("required",!0)("ngModel",o.entidad.usuarioAnexos.tipoContratista)("placeholder",o.placeHolderSelect)("notFoundText",o.placeHolderNoOptions),e.xp6(3),e.Q6J("ngIf",(null==E.errors?null:E.errors.required)&&E.touched),e.xp6(7),e.Q6J("ngModel",o.entidad.usuario.rfc),e.xp6(2),e.Q6J("ngIf",(null==h.errors?null:h.errors.formatoRfc)&&h.touched),e.xp6(6),e.Q6J("ngModel",o.entidad.usuarioAnexos.representanteLegal),e.xp6(7),e.Q6J("ngModel",o.entidad.usuario.correo)("required",!0),e.xp6(2),e.Q6J("ngIf",(null==M.errors?null:M.errors.required)&&M.touched),e.xp6(1),e.Q6J("ngIf",(null==M.errors?null:M.errors.formatoCorreo)&&M.touched),e.xp6(7),e.Q6J("ngModel",o.entidad.usuarioAnexos.telefonoFijo)("required",!1),e.xp6(2),e.Q6J("ngIf",(null==v.errors?null:v.errors.formatoTelefono)&&v.touched),e.xp6(1),e.Q6J("ngIf",((null==v.errors?null:v.errors.required)||(null==v.errors?null:v.errors.minlength)||(null==v.errors?null:v.errors.maxlength))&&v.touched&&!(null!=v.errors&&v.errors.formatoTelefono)),e.xp6(6),e.Q6J("ngModel",o.entidad.usuarioAnexos.telefonoFax)("required",!1),e.xp6(2),e.Q6J("ngIf",(null==b.errors?null:b.errors.formatoTelefono)&&b.touched),e.xp6(1),e.Q6J("ngIf",((null==b.errors?null:b.errors.required)||(null==b.errors?null:b.errors.minlength)||(null==b.errors?null:b.errors.maxlength))&&b.touched&&!(null!=b.errors&&b.errors.formatoTelefono)),e.xp6(6),e.Q6J("items",o.giroList)("ngModel",o.entidad.usuarioAnexos.idGiro)("placeholder",o.placeHolderSelect)("notFoundText",o.placeHolderNoOptions),e.xp6(10),e.Q6J("items",o.paisList)("ngModel",o.entidad.usuario.idPais)("placeholder",o.placeHolderSelect)("notFoundText",o.placeHolderNoOptions),e.xp6(7),e.Q6J("ngModel",o.entidad.usuario.codigoPostal),e.xp6(2),e.Q6J("ngIf",((null==Z.errors?null:Z.errors.required)||(null==Z.errors?null:Z.errors.minlength)||(null==Z.errors?null:Z.errors.maxlength))&&Z.touched),e.xp6(1),e.Q6J("ngIf",(null==Z.errors?null:Z.errors.formatoNumerico)&&Z.touched),e.xp6(6),e.Q6J("items",o.estadoList)("ngModel",o.entidad.usuario.idEstado)("placeholder",o.placeHolderSelect)("notFoundText",o.placeHolderNoOptions)("disabled",!o.entidad.usuario.idPais),e.xp6(8),e.Q6J("items",o.municipioList)("ngModel",o.entidad.usuario.idMunicipio)("placeholder",o.placeHolderSelect)("notFoundText",o.placeHolderNoOptions)("disabled",!o.entidad.usuario.idEstado),e.xp6(7),e.Q6J("items",o.localidadList)("ngModel",o.entidad.usuario.idLocalidad)("placeholder",o.placeHolderSelect)("notFoundText",o.placeHolderNoOptions)("disabled",!o.entidad.usuario.idEstado),e.xp6(7),e.Q6J("items",o.coloniaList)("ngModel",o.entidad.usuario.idColonia)("placeholder",o.placeHolderSelect)("notFoundText",o.placeHolderNoOptions)("disabled",!o.entidad.usuario.codigoPostal),e.xp6(8),e.Q6J("ngModel",o.entidad.usuario.calle),e.xp6(7),e.Q6J("ngModel",o.entidad.usuario.numeroExterior),e.xp6(2),e.Q6J("ngIf",(null==y.errors?null:y.errors.formatoAlfanumerico)&&he.touched),e.xp6(6),e.Q6J("ngModel",o.entidad.usuario.numeroInterior)("required",!1),e.xp6(2),e.Q6J("ngIf",(null==y.errors?null:y.errors.formatoAlfanumerico)&&y.touched),e.xp6(6),e.Q6J("ngModel",o.entidad.usuarioAnexos.entreCalles),e.xp6(10),e.Q6J("items",o.bancoList)("ngModel",o.entidad.usuarioAnexos.banco)("placeholder",o.placeHolderSelect)("notFoundText",o.placeHolderNoOptions),e.xp6(7),e.Q6J("ngModel",o.entidad.usuarioAnexos.numeroCuenta),e.xp6(7),e.Q6J("ngModel",o.entidad.usuarioAnexos.clabeInterbancaria),e.xp6(8),e.Q6J("ngModel",o.entidad.usuarioAnexos.sucursal),e.xp6(7),e.Q6J("ngModel",o.entidad.usuarioAnexos.correoPagos),e.xp6(2),e.Q6J("ngIf",(null==fe.errors?null:fe.errors.formatocorreoPagos)&&fe.touched),e.xp6(6),e.Q6J("ngModel",o.entidad.usuarioAnexos.nombreCuentaPorCobrar),e.xp6(8),e.Q6J("ngModel",o.entidad.usuarioAnexos.telefonoOficina)("required",!1),e.xp6(2),e.Q6J("ngIf",(null==N.errors?null:N.errors.formatoTelefono)&&N.touched),e.xp6(1),e.Q6J("ngIf",((null==N.errors?null:N.errors.required)||(null==N.errors?null:N.errors.minlength)||(null==N.errors?null:N.errors.maxlength))&&N.touched&&!(null!=N.errors&&N.errors.formatoTelefono)),e.xp6(9),e.Q6J("ngModel",o.entidad.usuarioAnexos.numeroClienteCredito),e.xp6(7),e.Q6J("ngModel",o.entidad.usuarioAnexos.plazoCredito)}},dependencies:[s.O5,m._Y,m.Fj,m.JJ,m.JL,m.Q7,m.wO,m.nD,m.On,m.F,k.w9,z.Np,z.Y5,He.v,Ze.p,xe.E,s.Ov]})}var co=d(4837);const uo=["formulario"];function mo(l,n){if(1&l){const t=e.EpF();e.TgZ(0,"div",7)(1,"div",8)(2,"app-input-archivo",9),e.NdJ("archivoDto",function(r){e.CHM(t);const i=e.oxw(2);return e.KtG(i.upl_endpoint(r))}),e.qZA()()()}if(2&l){const t=n.$implicit,o=e.oxw(2);let r;e.xp6(2),e.Q6J("label",t.campoGuiaCumplimiento)("nombreArchivo",null!==(r=null==t.anexoArchivos[0]?null:t.anexoArchivos[0].archivoNombre)&&void 0!==r?r:"Archivo - Fecha - Hora")("id",""+t.id)("idRegistroArchivo",t.id)("downl_endpoint",o.downl_endpoint.bind(o))("contieneAyuda",!1)}}function go(l,n){if(1&l&&(e.TgZ(0,"div")(1,"div",4),e._uU(2),e.qZA(),e.TgZ(3,"div",5),e.YNc(4,mo,3,6,"div",6),e.qZA()()),2&l){const t=n.$implicit;e.xp6(2),e.hij(" ",t.nombreSeccion," "),e.xp6(2),e.Q6J("ngForOf",t.guias)}}class X{constructor(n,t){this.contratistaService=n,this.mensajeService=t,this.placeHolderSelect=c.g.PLACEHOLDER_DROPDOWN,this.placeHolderNoOptions=c.g.PLACEHOLDER_DROPDOWN_NO_OPTIONS}ngOnInit(){}ngOnChanges(n){console.log(n),n.entidad&&n.entidad.currentValue.guias?.length>0&&(this.secciones=this.entidad.guias.find(t=>9===t.idTipoGuia)?.secciones)}upl_endpoint(n){this.contratistaService.almacenar(n).subscribe(()=>{this.mensajeService.modalExito(`Se ha cargado el archivo <b>${n.nombreArchivo}</b> correctamente`)})}downl_endpoint(n){return this.contratistaService.descargar(n)}static#e=this.\u0275fac=function(t){return new(t||X)(e.Y36(J.m),e.Y36(I.V))};static#o=this.\u0275cmp=e.Xpm({type:X,selectors:[["app-contratista-anexos"]],viewQuery:function(t,o){if(1&t&&e.Gf(uo,5),2&t){let r;e.iGM(r=e.CRH())&&(o.formulario=r.first)}},inputs:{entidad:"entidad",heading:"heading"},features:[e.TTD],decls:4,vars:1,consts:[["id","form","novalidate","novalidate",3,"keydown.enter"],["formulario","ngForm"],[1,"container-fluid"],[4,"ngFor","ngForOf"],[1,"subseccion"],[1,"row"],["class","col-md-4",4,"ngFor","ngForOf"],[1,"col-md-4"],[1,"fg-width-archivo","disable-clicks"],[3,"label","nombreArchivo","id","idRegistroArchivo","downl_endpoint","contieneAyuda","archivoDto"]],template:function(t,o){1&t&&(e.TgZ(0,"form",0,1),e.NdJ("keydown.enter",function(i){return i.preventDefault()}),e.TgZ(2,"div",2),e.YNc(3,go,5,2,"div",3),e.qZA()()),2&t&&(e.xp6(3),e.Q6J("ngForOf",o.secciones))},dependencies:[s.sg,m._Y,m.JL,m.F,co.x]})}var Ee=d(98520);class ee{static#e=this.\u0275fac=function(t){return new(t||ee)};static#o=this.\u0275mod=e.oAB({type:ee});static#n=this.\u0275inj=e.cJS({providers:[J.m,ge.p,pe.r],imports:[s.ez,m.u5,k.A0,be.u,D.P4,$.A,W.a,z.kn.forRoot(),V.Z,Ee.G]})}class oe{static#e=this.\u0275fac=function(t){return new(t||oe)};static#o=this.\u0275mod=e.oAB({type:oe});static#n=this.\u0275inj=e.cJS({providers:[de.c,ce.a,ue.F,Ae.m,me.I,Me.U],imports:[s.ez,V.Z,F.zk.forChild(),W.a,$.A,ee]})}var Ne=d(383),po=d(80529);class R{constructor(n){this.http=n,this.dataUrl="contratistacontactos/"}consultarParaGrid(n){return this.http.get(this.dataUrl+`grid/${n}`)}eliminar(n){return this.http.delete(this.dataUrl+`${n}`)}agregar(n){return this.http.post(this.dataUrl,n)}editar(n){return this.http.put(this.dataUrl,n)}consultarParaFormulario(n){return this.http.get(this.dataUrl+`formulario/${n}`)}static#e=this.\u0275fac=function(t){return new(t||R)(e.LFG(po.eN))};static#o=this.\u0275prov=e.Yz7({token:R,factory:R.\u0275fac,providedIn:"root"})}var Pe=d(79034),ho=d(58390);class ne{constructor(n,t,o,r,i,a){this.companiaService=n,this.hospitalService=t,this.modalMensajeService=o,this.perfilService=r,this.usuarioLocacionService=i,this.bsModalRef=a,this.readonly=!1,this.tieneAccesoAgregar=!1,this.esEditar=!0,this.placeHolderSelect=c.g.PLACEHOLDER_DROPDOWN,this.placeHolderNoOptions=c.g.PLACEHOLDER_DROPDOWN_NO_OPTIONS,this.accesoEditar=A.GR.Editar,this.accesoEliminar=A.GR.NoAcceso,this.HEADER_GRID="Permisos",this.companiaList=[],this.btnSubmit=!1,this.usuarioLocacion=new Pe.j,this.permisosList=[],this.columns=[{headerName:"Compa\xf1\xeda",field:"compania",minWidth:100},{headerName:"Locaci\xf3n",field:"locacion",minWidth:100},{headerName:"Perfil",field:"perfil",minWidth:100}],this.titulo="Modificar"}ngOnInit(){this.consultarCompaniaSelector(),this.idCompania>0&&(this.usuarioLocacion.idCompania=this.idCompania),this.consultarPerfilesPorCompania(this.usuarioLocacion.idCompania)}ngAfterViewInit(){this.consultarPerfilesPorCompania(this.usuarioLocacion.idCompania),this.consultarHospitales(this.usuarioLocacion.idCompania)}consultarCompaniaSelector(){this.companiaService.consultarTodosParaSelector().subscribe(n=>{this.companiaList=n})}consultarPermisos(n){this.usuarioLocacionService.consultarPorUsuario(n).subscribe(t=>{this.permisosList=t})}consultarPerfilesPorCompania(n){n>0&&this.perfilService.consultarPorCompaniaParaSelector(n).subscribe(t=>{this.perfilList=t})}consultarHospitales(n){n>0&&this.hospitalService.consultarPorCompania(n).subscribe(t=>{this.hospitalList=t})}cancelar(){this.bsModalRef.hide()}cargarIdUsuario(n,t){this.usuarioLocacion.idUsuario=n,this.usuarioLocacion.idLocacion=t,this.consultarPermisos(this.usuarioLocacion.idUsuario)}guardarPermiso(){this.usuarioLocacion.idCompania>0?this.usuarioLocacion.idLocacion>0?this.usuarioLocacion.idPerfil>0?(this.usuarioLocacion.idUsuarioLocacion>0?this.usuarioLocacionService.editar(this.usuarioLocacion).subscribe(n=>{this.modalMensajeService.modalExito("Permiso modificado exitosamente"),this.consultarPermisos(this.usuarioLocacion.idUsuario),this.esEditar=!0}):this.usuarioLocacionService.agregar(this.usuarioLocacion).subscribe(n=>{this.modalMensajeService.modalExito("Permiso agregado exitosamente"),this.consultarPermisos(this.usuarioLocacion.idUsuario)}),this.inicializarUsuario()):this.modalMensajeService.modalError("El perfil es requerido"):this.modalMensajeService.modalError("La locaci\xf3n es requerida"):this.modalMensajeService.modalError("La compa\xf1\xeda es requerida")}inicializarUsuario(){const n=this.usuarioLocacion.idUsuario,t=this.usuarioLocacion.idCompania,o=this.usuarioLocacion.idLocacion;this.usuarioLocacion=new Pe.j,this.usuarioLocacion.idUsuario=n,this.usuarioLocacion.idCompania=t,this.usuarioLocacion.idLocacion=o}onGridClick(n){n.accion===c.g.GRID_ACCION_EDITAR?(this.editarPermiso(n.data),this.esEditar=!1):n.accion===c.g.GRID_ACCION_ELIMINAR&&this.eliminarPermiso(n.data.idUsuarioLocacion)}editarPermiso(n){this.usuarioLocacion=n}eliminarPermiso(n){this.usuarioLocacionService.eliminar(n).subscribe(t=>{this.modalMensajeService.modalExito("Permiso eliminado exitosamente"),this.consultarPermisos(this.usuarioLocacion.idUsuario)})}static#e=this.\u0275fac=function(t){return new(t||ne)(e.Y36(de.c),e.Y36(ce.a),e.Y36(I.V),e.Y36(ue.F),e.Y36(me.I),e.Y36(F.UZ))};static#o=this.\u0275cmp=e.Xpm({type:ne,selectors:[["app-contratista-permisos"]],inputs:{idCompania:"idCompania"},decls:26,vars:21,consts:[[1,"row","align-items-start"],[1,"col-md-3"],[1,"form-group"],[1,"label-input","required-label"],["name","companiaName","bindLabel","nombre","bindValue","idCompania",3,"disabled","items","ngModel","placeholder","notFoundText","ngModelChange"],["companialLst","ngModel"],["name","locacionName","bindLabel","nombre","bindValue","idHospital",1,"select-custom",3,"disabled","items","ngModel","placeholder","notFoundText","ngModelChange"],["locacion","ngModel"],["name","perfilName","bindLabel","nombre","bindValue","idPerfil",3,"required","items","ngModel","placeholder","notFoundText","ngModelChange"],["perfilLst","ngModel"],[1,"circle-button",3,"disabled","click"],["src","assets/img/svg/ico-15x15-Circular-Naranja-Actualizar_Permiso_Contactos_Contratista.svg",1,"icono"],[3,"headerName","data","children","accesoEditar","accesoEliminar","event"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"label",3),e._uU(4,"Compa\xf1\xeda"),e.qZA(),e.TgZ(5,"div")(6,"ng-select",4,5),e.NdJ("ngModelChange",function(i){return o.usuarioLocacion.idCompania=i}),e.qZA()()()(),e.TgZ(8,"div",1)(9,"div",2)(10,"label",3),e._uU(11,"Locaci\xf3n"),e.qZA(),e.TgZ(12,"div")(13,"ng-select",6,7),e.NdJ("ngModelChange",function(i){return o.usuarioLocacion.idLocacion=i}),e.qZA()()()(),e.TgZ(15,"div",1)(16,"div",2)(17,"label",3),e._uU(18,"Perfil"),e.qZA(),e.TgZ(19,"div")(20,"ng-select",8,9),e.NdJ("ngModelChange",function(i){return o.usuarioLocacion.idPerfil=i}),e.qZA()()()(),e.TgZ(22,"div",1)(23,"button",10),e.NdJ("click",function(){return o.guardarPermiso()}),e._UZ(24,"img",11),e.qZA()(),e.TgZ(25,"app-grid-general",12),e.NdJ("event",function(i){return o.onGridClick(i)}),e.qZA()()),2&t&&(e.xp6(6),e.Q6J("disabled",!0)("items",o.companiaList)("ngModel",o.usuarioLocacion.idCompania)("placeholder",o.placeHolderSelect)("notFoundText",o.placeHolderNoOptions),e.xp6(7),e.Q6J("disabled",!0)("items",o.hospitalList)("ngModel",o.usuarioLocacion.idLocacion)("placeholder",o.placeHolderSelect)("notFoundText",o.placeHolderNoOptions),e.xp6(7),e.Q6J("required",!1)("items",o.perfilList)("ngModel",o.usuarioLocacion.idPerfil)("placeholder",o.placeHolderSelect)("notFoundText",o.placeHolderNoOptions),e.xp6(3),e.Q6J("disabled",o.esEditar),e.xp6(2),e.Q6J("headerName",o.HEADER_GRID)("data",o.permisosList)("children",o.columns)("accesoEditar",o.accesoEditar)("accesoEliminar",o.accesoEliminar))},dependencies:[m.JJ,m.Q7,m.On,k.w9,ho.$],styles:[".circle-button[_ngcontent-%COMP%]{background-color:transparent;border:0;align-items:center;justify-content:center;margin-top:28px}"]})}var fo=d(27742),Co=d(61901);const _o=["formulario"];function vo(l,n){1&l&&(e.TgZ(0,"div",37),e._uU(1," El nombre es requerido "),e.qZA())}function Ao(l,n){1&l&&(e.TgZ(0,"div",37),e._uU(1," El apellido paterno tiene un formato inv\xe1lido "),e.qZA())}function Mo(l,n){1&l&&(e.TgZ(0,"div",37),e._uU(1," El correo es requerido "),e.qZA())}function bo(l,n){1&l&&(e.TgZ(0,"div",37),e._uU(1," El correo no es v\xe1lido "),e.qZA())}function To(l,n){1&l&&(e.TgZ(0,"div",37),e._uU(1," El tel\xe9fono tiene un formato inv\xe1lido "),e.qZA())}function Zo(l,n){1&l&&(e.TgZ(0,"div",37),e._uU(1," El usuario es requerido "),e.qZA())}function xo(l,n){if(1&l){const t=e.EpF();e.TgZ(0,"i",38),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.verContra=!r.verContra)}),e.qZA()}}function Eo(l,n){if(1&l){const t=e.EpF();e.TgZ(0,"i",39),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.verContra=!r.verContra)}),e.qZA()}}function No(l,n){if(1&l&&(e.TgZ(0,"div",37),e._uU(1),e.qZA()),2&l){e.oxw();const t=e.MAs(84);e.xp6(1),e.hij(" La longitud m\xednima son ",null==t.errors?null:t.errors.formatoContrasena.longitud.size," caracteres ")}}function Po(l,n){1&l&&(e.TgZ(0,"div",37),e._uU(1," La contrase\xf1a debe tener al menos un n\xfamero "),e.qZA())}function qo(l,n){1&l&&(e.TgZ(0,"div",37),e._uU(1," La contrase\xf1a debe tener al menos una may\xfascula "),e.qZA())}function Uo(l,n){if(1&l){const t=e.EpF();e.TgZ(0,"i",38),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.verConfirma=!r.verConfirma)}),e.qZA()}}function Io(l,n){if(1&l){const t=e.EpF();e.TgZ(0,"i",39),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.verConfirma=!r.verConfirma)}),e.qZA()}}function Jo(l,n){1&l&&(e.TgZ(0,"div",37),e._uU(1," La confirmaci\xf3n de contrase\xf1a es requerida "),e.qZA())}function yo(l,n){1&l&&(e.TgZ(0,"div",37),e._uU(1," Las contrase\xf1as no coinciden "),e.qZA())}class te{constructor(n,t){this.usuarioService=n,this.verConfirma=!1,this.verContra=!1,this.rfcValido=!0,this.correoValido=!0,this.placeHolderSelect=c.g.PLACEHOLDER_DROPDOWN,this.placeHolderNoOptions=c.g.PLACEHOLDER_DROPDOWN_NO_OPTIONS,this.confirmarContrasena=""}ngOnInit(){this.accion2===g.V_.Agregar&&(this.usuarioService.consultarMiPerfil().subscribe(n=>{}),this.rolContratista="Contratista")}correoChange(n){if(n.control&&n.control.errors){const t=n.control.errors;null==this.entidad.correoPersonal||""==this.entidad.correoPersonal||t.formatoCorreo?this.correoValido=!1:this.correoValido=!0}else this.correoValido=!0}static#e=this.\u0275fac=function(t){return new(t||te)(e.Y36(Te.i),e.Y36(I.V))};static#o=this.\u0275cmp=e.Xpm({type:te,selectors:[["app-contratista-general"]],viewQuery:function(t,o){if(1&t&&e.Gf(_o,5),2&t){let r;e.iGM(r=e.CRH())&&(o.formulario=r.first)}},inputs:{entidad:"entidad",heading:"heading",accion2:"accion2",idUsuarioContratista:"idUsuarioContratista"},decls:103,vars:32,consts:[["id","form","novalidate","novalidate",3,"keydown.enter"],["formulario","ngForm"],[1,"container-fluid"],[1,"row"],[1,"col-md-4"],[1,"form-group"],[1,"label-input","required-label"],["for","estatus",1,"switch"],["name","estatusName","type","checkbox","id","estatus",3,"ngModel","ngModelChange"],[1,"slider","round"],[1,"on"],[1,"off"],[1,"col-md-6"],[2,"display","flex","flex-direction","column"],["for","responsable",1,"switch"],["name","responsableName","type","checkbox","id","responsable",3,"ngModel","ngModelChange"],["name","nombre","type","text","maxlength","50",1,"form-control",3,"ngModel","required","ngModelChange"],["nombre","ngModel"],["class","error",4,"ngIf"],["name","apellidoP","type","text","maxlength","50",1,"form-control",3,"ngModel","ngModelChange"],["apellidoP","ngModel"],["name","apellidoM","type","text","maxlength","50",1,"form-control",3,"ngModel","ngModelChange"],["apellidoM","ngModel"],["name","correo","type","text","maxlength","50","appFormatoCorreo","",1,"form-control",3,"ngModel","required","ngModelChange"],["correo","ngModel"],["name","telefonoFijo","type","text","maxlength","10","maxlength","10","minlength","10","appFormatoTelefono","",1,"form-control",3,"ngModel","required","ngModelChange"],["telefonoFijo","ngModel"],["name","usuario","type","text","maxlength","50",1,"form-control",3,"ngModel","required","ngModelChange"],["username","ngModel"],[1,"relativo"],["name","contrasenaName","maxlength","50","appFormatoContrasena","","appConfirmacionContrasena","confirmacionContrasenaName","reversa","true","autocomplete","off",1,"form-control",3,"ngModel","type","ngModelChange"],["contrasena","ngModel"],[1,"verContra"],["class","fa-regular fa-eye",3,"click",4,"ngIf"],["class","fa-regular fa-eye-slash",3,"click",4,"ngIf"],["name","confirmacionContrasenaName","maxlength","50","appConfirmacionContrasena","contrasenaName","reversa","true","autocomplete","off",1,"form-control",3,"ngModel","type","required","ngModelChange"],["confirmacionContrasena","ngModel"],[1,"error"],[1,"fa-regular","fa-eye",3,"click"],[1,"fa-regular","fa-eye-slash",3,"click"]],template:function(t,o){if(1&t&&(e.TgZ(0,"form",0,1),e.NdJ("keydown.enter",function(i){return i.preventDefault()}),e.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"label",6),e._uU(7,"Estatus"),e.qZA(),e.TgZ(8,"label",7)(9,"input",8),e.NdJ("ngModelChange",function(i){return o.entidad.habilitado=i}),e.qZA(),e.TgZ(10,"div",9)(11,"span",10),e._uU(12,"Activo"),e.qZA(),e.TgZ(13,"span",11),e._uU(14,"Inactivo"),e.qZA()()()()(),e.TgZ(15,"div",12)(16,"div",5)(17,"div",13)(18,"label",6),e._uU(19,"Responsable de seguridad"),e.qZA(),e.TgZ(20,"label",14)(21,"input",15),e.NdJ("ngModelChange",function(i){return o.entidad.esResponsableSeguridad=i}),e.qZA(),e.TgZ(22,"div",9)(23,"span",10),e._uU(24,"Si"),e.qZA(),e.TgZ(25,"span",11),e._uU(26,"No"),e.qZA()()()()()()(),e.TgZ(27,"div",3)(28,"div",4)(29,"div",5)(30,"label",6),e._uU(31,"Nombre"),e.qZA(),e.TgZ(32,"div")(33,"input",16,17),e.NdJ("ngModelChange",function(i){return o.entidad.nombre=i}),e.qZA()(),e.YNc(35,vo,2,0,"div",18),e.qZA()(),e.TgZ(36,"div",4)(37,"div",5)(38,"label",6),e._uU(39,"Apellido Paterno"),e.qZA(),e.TgZ(40,"div")(41,"input",19,20),e.NdJ("ngModelChange",function(i){return o.entidad.apellidoPaterno=i}),e.qZA()(),e.YNc(43,Ao,2,0,"div",18),e.qZA()(),e.TgZ(44,"div",4)(45,"div",5)(46,"label",6),e._uU(47,"Apellido Materno"),e.qZA(),e.TgZ(48,"div")(49,"input",21,22),e.NdJ("ngModelChange",function(i){return o.entidad.apellidoMaterno=i}),e.qZA()()()()(),e.TgZ(51,"div",3)(52,"div",4)(53,"div",5)(54,"label",6),e._uU(55,"Correo Corporativo"),e.qZA(),e.TgZ(56,"div")(57,"input",23,24),e.NdJ("ngModelChange",function(i){return o.entidad.correoPersonal=i})("ngModelChange",function(i){return o.correoChange(i)}),e.qZA()(),e.YNc(59,Mo,2,0,"div",18),e.YNc(60,bo,2,0,"div",18),e.qZA()(),e.TgZ(61,"div",4)(62,"div",5)(63,"label",6),e._uU(64,"Tel\xe9fono M\xf3vil"),e.qZA(),e.TgZ(65,"div")(66,"input",25,26),e.NdJ("ngModelChange",function(i){return o.entidad.telefonoMovil=i}),e.qZA()(),e.YNc(68,To,2,0,"div",18),e.qZA()()(),e.TgZ(69,"div",3)(70,"div",4)(71,"div",5)(72,"label",6),e._uU(73,"Usuario del Sistema (username)"),e.qZA(),e.TgZ(74,"div")(75,"input",27,28),e.NdJ("ngModelChange",function(i){return o.entidad.username=i}),e.qZA()(),e.YNc(77,Zo,2,0,"div",18),e.qZA()(),e.TgZ(78,"div",4)(79,"div",5)(80,"label",6),e._uU(81,"Contrase\xf1a"),e.qZA(),e.TgZ(82,"div",29)(83,"input",30,31),e.NdJ("ngModelChange",function(i){return o.entidad.contra=i}),e.qZA(),e.TgZ(85,"span",32),e.YNc(86,xo,1,0,"i",33),e.YNc(87,Eo,1,0,"i",34),e.qZA()(),e.YNc(88,No,2,1,"div",18),e.YNc(89,Po,2,0,"div",18),e.YNc(90,qo,2,0,"div",18),e.qZA()(),e.TgZ(91,"div",4)(92,"div",5)(93,"label",6),e._uU(94,"Confirmar Contrase\xf1a"),e.qZA(),e.TgZ(95,"div",29)(96,"input",35,36),e.NdJ("ngModelChange",function(i){return o.confirmarContrasena=i}),e.qZA(),e.TgZ(98,"span",32),e.YNc(99,Uo,1,0,"i",33),e.YNc(100,Io,1,0,"i",34),e.qZA()(),e.YNc(101,Jo,2,0,"div",18),e.YNc(102,yo,2,0,"div",18),e.qZA()()()()()),2&t){const r=e.MAs(34),i=e.MAs(42),a=e.MAs(58),T=e.MAs(67),E=e.MAs(76),h=e.MAs(84),M=e.MAs(97);e.xp6(9),e.Q6J("ngModel",o.entidad.habilitado),e.xp6(12),e.Q6J("ngModel",o.entidad.esResponsableSeguridad),e.xp6(12),e.Q6J("ngModel",o.entidad.nombre)("required",!0),e.xp6(2),e.Q6J("ngIf",(null==r.errors?null:r.errors.required)&&r.touched),e.xp6(6),e.Q6J("ngModel",o.entidad.apellidoPaterno),e.xp6(2),e.Q6J("ngIf",null==i.errors?null:i.errors.formatoNombre),e.xp6(6),e.Q6J("ngModel",o.entidad.apellidoMaterno),e.xp6(8),e.Q6J("ngModel",o.entidad.correoPersonal)("required",!0),e.xp6(2),e.Q6J("ngIf",a&&(null==a.errors?null:a.errors.required)&&a.touched),e.xp6(1),e.Q6J("ngIf",a&&(null==a.errors?null:a.errors.formatoCorreo)&&a.touched),e.xp6(6),e.Q6J("ngModel",o.entidad.telefonoMovil)("required",!1),e.xp6(2),e.Q6J("ngIf",(null==T.errors?null:T.errors.formatoTelefono)&&T.touched),e.xp6(7),e.Q6J("ngModel",o.entidad.username)("required",!0),e.xp6(2),e.Q6J("ngIf",(null==E.errors?null:E.errors.required)&&E.touched),e.xp6(6),e.Q6J("ngModel",o.entidad.contra)("type",o.verContra?"text":"password"),e.xp6(3),e.Q6J("ngIf",!o.verContra),e.xp6(1),e.Q6J("ngIf",o.verContra),e.xp6(1),e.Q6J("ngIf",(null==h.errors||null==h.errors.formatoContrasena?null:h.errors.formatoContrasena.longitud)&&h.touched),e.xp6(1),e.Q6J("ngIf",(null==h.errors||null==h.errors.formatoContrasena?null:h.errors.formatoContrasena.numeros)&&h.touched),e.xp6(1),e.Q6J("ngIf",(null==h.errors||null==h.errors.formatoContrasena?null:h.errors.formatoContrasena.mayuscula)&&h.touched),e.xp6(6),e.Q6J("ngModel",o.confirmarContrasena)("type",o.verConfirma?"text":"password")("required",""!=o.entidad.contra&&null!=o.entidad.contra),e.xp6(3),e.Q6J("ngIf",!o.verConfirma),e.xp6(1),e.Q6J("ngIf",o.verConfirma),e.xp6(1),e.Q6J("ngIf",(null==M.errors?null:M.errors.required)&&M.touched),e.xp6(1),e.Q6J("ngIf",(null==M.errors?null:M.errors.confirmacionContrasena)&&M.touched)}},dependencies:[s.O5,m._Y,m.Fj,m.Wl,m.JJ,m.JL,m.Q7,m.wO,m.nD,m.On,m.F,Ze.p,xe.E,fo.Z,Co.q],styles:[".switch[_ngcontent-%COMP%]{top:4px;height:calc(1.5em + .75rem + 7px);width:100px}.slider[_ngcontent-%COMP%]{border:none}.slider[_ngcontent-%COMP%]:before{background-color:#fff;bottom:7px}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]{background-color:#ed7d31}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]:before{background-color:#fff;transform:translate(70px)}.on[_ngcontent-%COMP%], .off[_ngcontent-%COMP%]{font-family:Roboto}.verContra[_ngcontent-%COMP%]{position:absolute;display:block;cursor:pointer;top:50%;right:10px;transform:translateY(-50%)}.relativo[_ngcontent-%COMP%]{position:relative}"]})}const Go=["contratistaGeneral"],Lo=["permisos"],Oo=["tabset"];function So(l,n){if(1&l&&(e.TgZ(0,"tabset",null,3)(2,"tab",4),e._UZ(3,"app-contratista-general",5,6),e.qZA(),e.TgZ(5,"tab",7),e._UZ(6,"app-contratista-permisos",8,9),e.qZA()()),2&l){const t=e.oxw();e.xp6(3),e.Q6J("entidad",t.entidad)("accion",t.accion),e.xp6(3),e.Q6J("idCompania",t.idCompania)}}function Fo(l,n){if(1&l){const t=e.EpF();e.TgZ(0,"button",10),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.cerrar())}),e._uU(1," Cancelar "),e.qZA(),e.TgZ(2,"button",11),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.onSubmit())}),e._uU(3," Guardar "),e.qZA()}if(2&l){const t=e.oxw();e.xp6(2),e.Q6J("disabled",t.submiting)}}class ie extends Ce.P{constructor(n,t){super(t),this.contratistaContactosService=n,this.destroy$=new f.x,this.placeHolderSelect=c.g.PLACEHOLDER_DROPDOWN,this.placeHolderNoOptions=c.g.PLACEHOLDER_DROPDOWN_NO_OPTIONS,this.submiting=!1,this.tabSeleccionado=0,this.usuario=new L,this.usuarioAnexos=new O}ngOnInit(){this.entidad.idUsuarioContratista=this.idUsuarioContratista,this.accion===g.V_.Agregar&&(this.entidad.habilitado=!0),super.onInit()}ngOnDestroy(){this.destroy$.next()}consultar(n){return this.contratistaContactosService.consultarParaFormulario(n).pipe((0,u.R)(this.destroy$),(0,U.U)(t=>(this.entidad=t,this.permisos.cargarIdUsuario(t.idUsuario,t.idHospital),t)))}agregar(n){return this.contratistaContactosService.agregar(n)}editar(n){if("C001"==this.clave)return this.contratistaContactosService.editar(n)}onSubmit(){let n=this.tabset.tabs.find(o=>1==o.active)?.heading,t=this.consultarFormulario(n);t&&(this.onSubmitModificado(t),"Contacto Contratistas"==n&&this.onSubmitModificado(t))}onSubmitModificado(n){if(!n.valid)return H.CW(n),void(this.submitting=!1);const[t,o]="masc"===this.generoGramatical?["El","o"]:["La","a"],r=this.accion===g.V_.Agregar?`agregad${o}`:`modificad${o}`,i=`${t} ${this.nombreEntidad.toLocaleLowerCase()} ha sido ${r}`;(this.accion===g.V_.Agregar?this.agregar(this.entidad):this.editar(this.entidad)).subscribe({next:()=>{this.mensajeService.modalExito(i),this.onClose(!0)},error:()=>{this.submitting=!1}})}consultarFormulario(n){return n===this.general.heading?(this.clave="C001",this.general.formulario):(this.clave="C003",null)}cerrar(){this.onClose(!0)}static#e=this.\u0275fac=function(t){return new(t||ie)(e.Y36(R),e.Y36(I.V))};static#o=this.\u0275cmp=e.Xpm({type:ie,selectors:[["app-contratista-contactos-formulario"]],viewQuery:function(t,o){if(1&t&&(e.Gf(Go,5),e.Gf(Lo,5),e.Gf(Oo,5)),2&t){let r;e.iGM(r=e.CRH())&&(o.general=r.first),e.iGM(r=e.CRH())&&(o.permisos=r.first),e.iGM(r=e.CRH())&&(o.tabset=r.first)}},inputs:{idUsuarioContratista:"idUsuarioContratista",idCompania:"idCompania"},features:[e.qOj],decls:5,vars:1,consts:[[3,"titulo"],["modalBody",""],["modalFooter",""],["tabset",""],["heading","Generales"],["heading","Generales",3,"entidad","accion"],["contratistaGeneral",""],["heading","Permisos"],["heading","Permisos",3,"idCompania"],["permisos",""],["type","button",1,"btn-secundario","mr-3",3,"click"],["type","button",1,"btn-primario","btn-margin-left",3,"disabled","click"]],template:function(t,o){1&t&&(e.TgZ(0,"app-modal-base",0),e.YNc(1,So,8,3,"ng-template",null,1,e.W1O),e.YNc(3,Fo,4,1,"ng-template",null,2,e.W1O),e.qZA()),2&t&&e.Q6J("titulo",o.accion+" "+o.nombreEntidad)},dependencies:[Ne.B,D.wW,D.AH,ne,te]})}class ae extends _.v{constructor(n,t,o,r,i){super(t,o,n),this.contratistaContactosService=r,this.bsModalRef=i,this.destroy$=new f.x,this.NOMBRE_ENTIDAD="Contacto",this.crudConfig={nombreEntidad:this.NOMBRE_ENTIDAD,generoGramatical:"masc",nombrePropiedadId:"idUsuarioContactos",formConfig:{ComponenteFormulario:ie,modalConfig:q.OS.Medium,configAgregar:{acceso:A.GR.Agregar,params:{idUsuarioContratista:0,idCompania:0}},configEditar:{acceso:A.GR.Editar,params:{idUsuarioContratista:0,idCompania:0}}},configEliminar:{acceso:A.GR.NoAcceso,elementToString:a=>a.nombreCompleto}},this.columns=[{headerName:"Nombre",field:"nombreCompleto",minWidth:270},{headerName:"Usuario",field:"username",minWidth:150},{headerName:"Responsable de Seguridad",field:"esResponsableSeguridad",minWidth:220,valueGetter:a=>1==a.data.esResponsableSeguridad?"S\xed":"No"},{headerName:"Correo electr\xf3nico",field:"correoPersonal",minWidth:180},{headerName:"Tel\xe9fono m\xf3vil",field:"telefonoMovil",minWidth:150},{headerName:"Estatus",field:"habilitado",minWidth:150,valueGetter:a=>1==a.data.habilitado?"Activo":"Inactivo"}]}consultarGrid(){return this.contratistaContactosService.consultarParaGrid(this.idUsuarioContratista)}eliminar(n){return this.contratistaContactosService.eliminar(n)}ngOnInit(){}cargarDatos(n,t){this.idUsuarioContratista=n,this.idCompania=t,this.crudConfig?.formConfig?.configAgregar?.params&&(this.crudConfig.formConfig.configAgregar.params.idUsuarioContratista=this.idUsuarioContratista,this.crudConfig.formConfig.configAgregar.params.idCompania=this.idCompania),this.crudConfig?.formConfig?.configEditar?.params&&(this.crudConfig.formConfig.configEditar.params.idUsuarioContratista=this.idUsuarioContratista,this.crudConfig.formConfig.configEditar.params.idCompania=this.idCompania),super.onInit()}static#e=this.\u0275fac=function(t){return new(t||ae)(e.Y36(I.V),e.Y36(_e.Q),e.Y36(F.tT),e.Y36(R),e.Y36(F.UZ))};static#o=this.\u0275cmp=e.Xpm({type:ae,selectors:[["app-contratista-contactos"]],inputs:{idUsuarioContratista:"idUsuarioContratista",idCompania:"idCompania"},features:[e.qOj],decls:1,vars:4,consts:[["titulo","Contactos","tituloBoton","Contacto",3,"columns","crudConfig","elementos$","tieneAccesoAgregar$","agregarClick","gridClick"]],template:function(t,o){1&t&&(e.TgZ(0,"app-catalogo-base",0),e.NdJ("agregarClick",function(){return o.agregar()})("gridClick",function(i){return o.onGridClick(i)}),e.qZA()),2&t&&e.Q6J("columns",o.columns)("crudConfig",o.crudConfig)("elementos$",o.registros$)("tieneAccesoAgregar$",o.tieneAccesoAgregar$)},dependencies:[ve.B]})}class re{static#e=this.\u0275fac=function(t){return new(t||re)};static#o=this.\u0275mod=e.oAB({type:re});static#n=this.\u0275inj=e.cJS({providers:[J.m,ge.p,pe.r],imports:[s.ez,m.u5,k.A0,be.u,D.P4,$.A,W.a,z.kn.forRoot(),V.Z,Ee.G,oe]})}e.B6R(Y,function(){return[Ne.B,D.wW,D.AH,ae,K,X]},[]);class se{static#e=this.\u0275fac=function(t){return new(t||se)};static#o=this.\u0275mod=e.oAB({type:se});static#n=this.\u0275inj=e.cJS({providers:[de.c,ce.a,ue.F,Ae.m,me.I,Me.U],imports:[s.ez,V.Z,F.zk.forChild(),W.a,$.A,j,re]})}}}]);