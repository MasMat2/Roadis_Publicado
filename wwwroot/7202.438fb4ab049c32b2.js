"use strict";(self.webpackChunkroadis_app=self.webpackChunkroadis_app||[]).push([[7202],{57202:(F,A,s)=>{s.r(A),s.d(A,{PaisModule:()=>v});var f=s(46101),u=s(20388),E=s(41283),I=s(63405),C=s(9116),h=s(85087),T=s(13050),o=s(50986);class b{constructor(){}}var Z=s(90429),e=s(94650),M=s(2060),d=s(24006),_=s(36895);function P(c,i){1&c&&(e.TgZ(0,"div",25),e._uU(1," La clave es requerida "),e.qZA())}function R(c,i){1&c&&(e.TgZ(0,"div",25),e._uU(1," El nombre es requerido "),e.qZA())}class m{constructor(i,t,a){this.bsModalRef=i,this.modalMensajeService=t,this.paisService=a,this.placeHolderSelect=o.g.PLACEHOLDER_DROPDOWN,this.mensajeAgregar="El pa\xeds ha sido agregado",this.mensajeEditar="El pa\xeds ha sido modificado",this.btnSubmit=!1,this.pais=new b}ngOnInit(){}limpiarFormulario(){this.pais=new b,this.accion=o.g.MODAL_ACCION_AGREGAR}agregar(i){this.paisService.agregar(this.pais).subscribe(t=>{this.modalMensajeService.modalExito(this.mensajeAgregar),i.reset(),this.limpiarFormulario(),this.onClose(!0),this.btnSubmit=!1},t=>{this.btnSubmit=!1})}editar(){this.paisService.editar(this.pais).subscribe(i=>{this.modalMensajeService.modalExito(this.mensajeEditar),this.onClose(!0)},i=>{this.btnSubmit=!1})}cancelar(){this.onClose(!0)}enviarFormulario(i){if(this.btnSubmit=!0,!i.valid)return Z.CW(i),void(this.btnSubmit=!1);this.accion===o.g.MODAL_ACCION_AGREGAR?this.agregar(i):this.accion===o.g.MODAL_ACCION_EDITAR&&this.editar()}static#e=this.\u0275fac=function(t){return new(t||m)(e.Y36(u.UZ),e.Y36(M.V),e.Y36(f.$))};static#i=this.\u0275cmp=e.Xpm({type:m,selectors:[["app-pais-formulario"]],decls:42,vars:8,consts:[[1,"d-flex"],[1,"barra-lateral-modal"],[1,"fa","fa-plus"],[1,"modal-content"],[1,"modal-header"],["type","button","aria-label","Close",1,"close","pull-right",3,"click"],[1,"far","fa-times-circle"],["novalidate","novalidate",3,"keydown.enter","ngSubmit"],["formulario","ngForm"],["id","modal",1,"modal-body"],[1,"row"],[1,"col-md-3"],[1,"form-group"],[1,"label-input","required-label"],["id","idPais","name","idPais","type","text","maxlength","20","required","true","disabled","",1,"form-control",3,"ngModel","ngModelChange"],["clave","ngModel"],["id","clave","name","claveName","type","text","maxlength","20","required","true","autocomplete","off",1,"form-control",3,"ngModel","disabled","ngModelChange"],["class","error",4,"ngIf"],[1,"col-md-6"],["id","nombre","name","nombre","type","text","maxlength","50","required","required","autocomplete","off",1,"form-control",3,"ngModel","ngModelChange"],["nombre","ngModel"],[1,"modal-footer"],[1,"text-center"],["type","button",1,"btn-secundario","mr-3",3,"click"],["type","submit",1,"btn-primario","btn-margin-left",3,"disabled"],[1,"error"]],template:function(t,a){if(1&t){const r=e.EpF();e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"i",2),e.qZA(),e.TgZ(3,"div",3)(4,"div",4)(5,"div"),e._uU(6),e.qZA(),e.TgZ(7,"button",5),e.NdJ("click",function(){return a.cancelar()}),e._UZ(8,"i",6),e.qZA()(),e.TgZ(9,"form",7,8),e.NdJ("keydown.enter",function(l){return l.preventDefault()})("ngSubmit",function(){e.CHM(r);const l=e.MAs(10);return e.KtG(a.enviarFormulario(l))}),e.TgZ(11,"div",9)(12,"div",10)(13,"div",11)(14,"div",12)(15,"label",13),e._uU(16,"Id Pa\xeds"),e.qZA(),e.TgZ(17,"div")(18,"input",14,15),e.NdJ("ngModelChange",function(l){return a.pais.idPais=l}),e.qZA()()()(),e.TgZ(20,"div",11)(21,"div",12)(22,"label",13),e._uU(23,"Clave"),e.qZA(),e.TgZ(24,"div")(25,"input",16,15),e.NdJ("ngModelChange",function(l){return a.pais.clave=l}),e.qZA(),e.YNc(27,P,2,0,"div",17),e.qZA()()(),e.TgZ(28,"div",18)(29,"div",12)(30,"label",13),e._uU(31,"Pa\xeds"),e.qZA(),e.TgZ(32,"div")(33,"input",19,20),e.NdJ("ngModelChange",function(l){return a.pais.nombre=l}),e.qZA(),e.YNc(35,R,2,0,"div",17),e.qZA()()()()(),e.TgZ(36,"div",21)(37,"div",22)(38,"button",23),e.NdJ("click",function(){return a.cancelar()}),e._uU(39,"Cancelar"),e.qZA(),e.TgZ(40,"button",24),e._uU(41,"Guardar"),e.qZA()()()()()()}if(2&t){const r=e.MAs(19),n=e.MAs(34);e.xp6(6),e.hij("Pa\xeds - ",a.accion,""),e.xp6(12),e.Q6J("ngModel",a.pais.idPais),e.xp6(7),e.Q6J("ngModel",a.pais.clave)("disabled",a.pais.idPais>0),e.xp6(2),e.Q6J("ngIf",(null==r.errors?null:r.errors.required)&&r.touched),e.xp6(6),e.Q6J("ngModel",a.pais.nombre),e.xp6(2),e.Q6J("ngIf",(null==n.errors?null:n.errors.required)&&n.touched),e.xp6(5),e.Q6J("disabled",a.btnSubmit)}},dependencies:[d._Y,d.Fj,d.JJ,d.JL,d.Q7,d.nD,d.On,d.F,_.O5],encapsulation:2})}var S=s(62861),N=s(58390);function O(c,i){if(1&c){const t=e.EpF();e.TgZ(0,"div",7),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.agregar())}),e.TgZ(1,"button",8),e._uU(2,"Agregar Pa\xeds"),e.qZA()()}}class g{constructor(i,t,a,r,n){this.modalMensajeService=i,this.paisService=t,this.accesoService=a,this.modalService=r,this.bsModalRef=n,this.tieneAccesoAgregar=!1,this.accesoEditar=h.v.EDITAR_PAIS,this.accesoEliminar=h.v.ELIMINAR_PAIS,this.HEADER_GRID="Pa\xedses",this.MENSAJE_EXITO_ELIMINAR="El pa\xeds ha sido eliminado",this.TITULO_MODAL_ELIMINAR="Eliminar Pa\xeds",this.columns=[{headerName:"Id Pa\xeds",field:"idPais",maxWidth:120,width:120},{headerName:"Clave",field:"clave",minWidth:150,width:150},{headerName:"Pa\xeds",field:"nombre",minWidth:150}]}ngOnInit(){this.accesoService.tieneAcceso(h.v.AGREGAR_PAIS).subscribe(i=>{this.tieneAccesoAgregar=i}),this.consultarGrid()}consultarGrid(){this.paisService.consultarGeneral().subscribe(i=>{this.paisList=i})}onGridClick(i){i.accion===o.g.GRID_ACCION_EDITAR?this.editar(i.data.idPais):i.accion===o.g.GRID_ACCION_ELIMINAR&&this.eliminar(i.data)}agregar(){this.bsModalRef=this.modalService.show(m,o.g.CONFIG_MODAL_MEDIUM),this.bsModalRef.content.accion=o.g.MODAL_ACCION_AGREGAR,this.bsModalRef.content.onClose=i=>{i&&this.consultarGrid(),this.bsModalRef.hide()}}editar(i){this.paisService.consultar(i).subscribe(t=>{this.bsModalRef=this.modalService.show(m,o.g.CONFIG_MODAL_MEDIUM),this.bsModalRef.content.pais=t,this.bsModalRef.content.accion=o.g.MODAL_ACCION_EDITAR,this.bsModalRef.content.onClose=a=>{a&&this.consultarGrid(),this.bsModalRef.hide()}})}eliminar(i){this.modalMensajeService.modalConfirmacion("\xbfDesea eliminar el pa\xeds <strong>"+i.nombre+"</strong>?",this.TITULO_MODAL_ELIMINAR,o.g.ICONO_CRUZ).then(t=>{this.paisService.eliminar(i.idPais).subscribe(a=>{this.modalMensajeService.modalExito(this.MENSAJE_EXITO_ELIMINAR),this.consultarGrid()})})}static#e=this.\u0275fac=function(t){return new(t||g)(e.Y36(M.V),e.Y36(f.$),e.Y36(S.Q),e.Y36(u.tT),e.Y36(u.UZ))};static#i=this.\u0275cmp=e.Xpm({type:g,selectors:[["app-pais"]],decls:8,vars:6,consts:[[1,"contenedor"],[1,"titulo-contenedor"],[1,"cuerpo-contenedor"],[1,"row"],[1,"col-md-12"],["class","contenedor-agregar",3,"click",4,"ngIf"],[3,"headerName","data","children","accesoEditar","accesoEliminar","event"],[1,"contenedor-agregar",3,"click"],[1,"btn-agregar"]],template:function(t,a){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._uU(2,"Pa\xedses"),e.qZA(),e.TgZ(3,"div",2)(4,"div",3)(5,"div",4),e.YNc(6,O,3,0,"div",5),e.TgZ(7,"app-grid-general",6),e.NdJ("event",function(n){return a.onGridClick(n)}),e.qZA()()()()()),2&t&&(e.xp6(6),e.Q6J("ngIf",a.tieneAccesoAgregar),e.xp6(1),e.Q6J("headerName",a.HEADER_GRID)("data",a.paisList)("children",a.columns)("accesoEditar",a.accesoEditar)("accesoEliminar",a.accesoEliminar))},dependencies:[_.O5,N.$],encapsulation:2})}const D=[{path:"",component:g,canActivate:[T.m],data:{title:"Consulta",acceso:h.v.CONSULTAR_PAIS}}];class p{static#e=this.\u0275fac=function(t){return new(t||p)};static#i=this.\u0275mod=e.oAB({type:p});static#a=this.\u0275inj=e.cJS({imports:[C.Bz.forChild(D),C.Bz]})}class v{static#e=this.\u0275fac=function(t){return new(t||v)};static#i=this.\u0275mod=e.oAB({type:v});static#a=this.\u0275inj=e.cJS({providers:[f.$],imports:[p,I.m,E.Z,u.zk.forChild()]})}}}]);