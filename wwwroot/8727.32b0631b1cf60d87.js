"use strict";(self.webpackChunkroadis_app=self.webpackChunkroadis_app||[]).push([[8727],{93416:(y,M,l)=>{l.d(M,{U:()=>u});var a=l(94650),v=l(11481);class u{constructor(n){this.sanitizer=n}ngOnInit(){this.imageSrc=this.sanitizer.bypassSecurityTrustResourceUrl(`data:${this.archivoTipoMime};base64,${this.archivo}`)}cancelar(){this.onCloseCallback&&this.onCloseCallback(!0)}static#e=this.\u0275fac=function(h){return new(h||u)(a.Y36(v.H7))};static#t=this.\u0275cmp=a.Xpm({type:u,selectors:[["app-imagen-visor"]],inputs:{archivo:"archivo",nombreImagen:"nombreImagen",archivoTipoMime:"archivoTipoMime"},decls:12,vars:2,consts:[[1,"container-fluid"],[1,"row"],[1,"col-md-6","offset-md-3"],[1,"modal-content"],[1,"modal-header"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],["alt","Imagen",1,"img-fluid",3,"src"]],template:function(h,A){1&h&&(a.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div"),a._uU(6),a.qZA(),a.TgZ(7,"button",5),a.NdJ("click",function(){return A.cancelar()}),a.TgZ(8,"span",6),a._uU(9,"\xd7"),a.qZA()()(),a.TgZ(10,"div",7),a._UZ(11,"img",8),a.qZA()()()()()),2&h&&(a.xp6(6),a.Oqu(A.nombreImagen),a.xp6(5),a.Q6J("src",A.imageSrc,a.LSH))}})}},33369:(y,M,l)=>{l.d(M,{R:()=>u});var a=l(94650),v=l(80529);class u{constructor(n){this.http=n,this.dataUrl="codigoPostal/"}consultar(n){return this.http.get(this.dataUrl+`consultar/${n}`)}consultarTodosParaGrid(){return this.http.get(this.dataUrl+"consultarTodosParaGrid")}consultarTodosParaSelector(){return this.http.get(this.dataUrl+"consultarTodosParaSelector")}consultarPorCodigoPostal(n){return this.http.get(this.dataUrl+`consultarPorCodigoPostal/${n}`)}consultarPorMunicipio(n){return this.http.get(this.dataUrl+`consultarPorMunicipio/${n}`)}consultarPorPaisBusqueda(n,h){return this.http.get(this.dataUrl+`consultarPorPaisBusqueda/${n}/${h}`)}agregar(n){return this.http.post(this.dataUrl+"agregar",n)}editar(n){return this.http.put(this.dataUrl+"editar",n)}eliminar(n){return this.http.delete(this.dataUrl+`eliminar/${n}`)}static#e=this.\u0275fac=function(h){return new(h||u)(a.LFG(v.eN))};static#t=this.\u0275prov=a.Yz7({token:u,factory:u.\u0275fac})}},36441:(y,M,l)=>{l.d(M,{s:()=>u});var a=l(94650),v=l(80529);class u{constructor(n){this.http=n,this.dataUrl="estado/"}consultar(n){return this.http.get(this.dataUrl+`${n}`)}consultarParaFormulario(n){return this.http.get(this.dataUrl+`formulario/${n}`)}consultarParaGrid(){return this.http.get(this.dataUrl+"grid")}consultarPorPaisParaSelector(n){return this.http.get(this.dataUrl+`selector/pais/${n}`)}agregar(n){return this.http.post(this.dataUrl,n)}editar(n){return this.http.put(this.dataUrl,n)}eliminar(n){return this.http.delete(this.dataUrl+`${n}`)}static#e=this.\u0275fac=function(h){return new(h||u)(a.LFG(v.eN))};static#t=this.\u0275prov=a.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"})}},51757:(y,M,l)=>{l.d(M,{G:()=>u});var a=l(94650),v=l(80529);class u{constructor(n){this.http=n,this.dataUrl="municipio/"}consultarParaFormulario(n){return this.http.get(this.dataUrl+`formulario/${n}`)}consultarParaGrid(){return this.http.get(this.dataUrl+"grid")}consultarParaSelector(){return this.http.get(this.dataUrl+"selector")}consultarPorEstadoParaSelector(n){return this.http.get(this.dataUrl+`selector/estado/${n}`)}agregar(n){return this.http.post(this.dataUrl,n)}editar(n){return this.http.put(this.dataUrl,n)}eliminar(n){return this.http.delete(this.dataUrl+`${n}`)}static#e=this.\u0275fac=function(h){return new(h||u)(a.LFG(v.eN))};static#t=this.\u0275prov=a.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"})}},74654:(y,M,l)=>{l.d(M,{_:()=>u});var a=l(94650),v=l(80529);class u{constructor(n){this.http=n,this.dataUrl="departamento/"}consultarTodosParaGrid(){return this.http.get(this.dataUrl+"consultarTodosParaGrid")}consultarTodosParaSelector(){return this.http.get(this.dataUrl+"consultarTodosParaSelector")}consultar(n){return this.http.get(this.dataUrl+`consultar/${n}`)}agregar(n){return this.http.post(this.dataUrl+"agregar",n)}editar(n){return this.http.put(this.dataUrl+"editar",n)}eliminar(n){return this.http.delete(this.dataUrl+`eliminar/${n}`)}consultarPorArea(n){return this.http.post(this.dataUrl+"area",n)}static#e=this.\u0275fac=function(h){return new(h||u)(a.LFG(v.eN))};static#t=this.\u0275prov=a.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"})}},46101:(y,M,l)=>{l.d(M,{$:()=>u});var a=l(94650),v=l(80529);class u{constructor(n){this.http=n,this.dataUrl="pais/"}consultarTodosParaSelector(){return this.http.get(this.dataUrl+"consultarTodosParaSelector")}consultar(n){return this.http.get(this.dataUrl+`consultar/${n}`)}consultarPorClave(n){return this.http.get(this.dataUrl+`consultarPorClave/${n}`)}consultarGeneral(){return this.http.get(this.dataUrl+"consultarGeneral")}agregar(n){return this.http.post(this.dataUrl+"agregar",n)}editar(n){return this.http.put(this.dataUrl+"editar",n)}eliminar(n){return this.http.delete(this.dataUrl+`eliminar/${n}`)}static#e=this.\u0275fac=function(h){return new(h||u)(a.LFG(v.eN))};static#t=this.\u0275prov=a.Yz7({token:u,factory:u.\u0275fac})}},94654:(y,M,l)=>{l.d(M,{d:()=>u});var a=l(94650),v=l(80529);class u{constructor(n){this.http=n,this.dataUrl="contrato/"}consultarParaGrid(){return this.http.get(this.dataUrl+"grid")}consultarParaGridParticipantes(n){return this.http.post(this.dataUrl+"gridParticipantes",n)}selectorContratosPadre(){return this.http.get(this.dataUrl+"selectorContratosPadre")}selectorContratista(n){return this.http.get(this.dataUrl+`selectorContratista/${n}`)}selectorAreas(){return this.http.get(this.dataUrl+"selectorArea")}selectorContrato(n){return this.http.post(this.dataUrl+"selectorContratos",n)}selectorLocaciones(){return this.http.get(this.dataUrl+"selectorLocaciones")}consultarParaFormulario(n){return this.http.get(this.dataUrl+`formulario/${n}`)}consultarParaConfigurar(n){return this.http.get(this.dataUrl+`guias/${n}`)}agregar(n){return console.log(n),this.http.post(this.dataUrl,n)}editarGeneral(n){return this.http.put(this.dataUrl+"general",n)}editarDocumentos(n){return this.http.put(this.dataUrl+"documentos",n)}editarAmbientales(n){return this.http.put(this.dataUrl+"ambientales",n)}eliminar(n){return this.http.delete(this.dataUrl+`${n}`)}editarTipoGuia(n,h){return this.http.post(this.dataUrl+`guias/${h}`,n)}consultarPromedios(n){return this.http.get(this.dataUrl+`promedios/${n}`)}static#e=this.\u0275fac=function(h){return new(h||u)(a.LFG(v.eN))};static#t=this.\u0275prov=a.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"})}},94910:(y,M,l)=>{l.d(M,{o:()=>u});var a=l(94650),v=l(80529);class u{constructor(n){this.http=n,this.dataUrl="clasificacion/"}consultar(n){return this.http.get(this.dataUrl+`${n}`)}consultarParaGrid(){return this.http.get(this.dataUrl+"grid")}consultarParaSelector(){return this.http.get(this.dataUrl+"selector")}agregar(n){return this.http.post(this.dataUrl,n)}editar(n){return this.http.put(this.dataUrl,n)}static#e=this.\u0275fac=function(h){return new(h||u)(a.LFG(v.eN))};static#t=this.\u0275prov=a.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"})}},40429:(y,M,l)=>{l.d(M,{e:()=>u});var a=l(94650),v=l(80529);class u{constructor(n){this.http=n,this.dataUrl="origenobservacion/"}consultar(n){return this.http.get(this.dataUrl+`${n}`)}consultarParaGrid(){return this.http.get(this.dataUrl+"grid")}consultarParaSelector(){return this.http.get(this.dataUrl+"selector")}agregar(n){return this.http.post(this.dataUrl,n)}editar(n){return this.http.put(this.dataUrl,n)}eliminar(n){return this.http.delete(this.dataUrl+`${n}`)}static#e=this.\u0275fac=function(h){return new(h||u)(a.LFG(v.eN))};static#t=this.\u0275prov=a.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"})}},91647:(y,M,l)=>{l.d(M,{x:()=>u});var a=l(94650),v=l(80529);class u{constructor(n){this.http=n,this.dataUrl="proyectorevseg/"}consultar(n){return this.http.get(this.dataUrl+`${n}`)}consultarParaGrid(){return this.http.get(this.dataUrl+"grid")}consultarParaSelector(){return this.http.get(this.dataUrl+"selector")}agregar(n){return this.http.post(this.dataUrl,n)}editar(n){return this.http.put(this.dataUrl,n)}eliminar(n){return this.http.delete(this.dataUrl+`${n}`)}static#e=this.\u0275fac=function(h){return new(h||u)(a.LFG(v.eN))};static#t=this.\u0275prov=a.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"})}},82846:(y,M,l)=>{l.d(M,{D:()=>u});var a=l(94650),v=l(80529);class u{constructor(n){this.http=n,this.dataUrl="revisiondocumental/"}consultar(n){return this.http.get(this.dataUrl+`${n}`)}consultarParaGrid(){return this.http.get(this.dataUrl+"grid")}agregar(n){return this.http.post(this.dataUrl,n)}editar(n){return this.http.put(this.dataUrl,n)}eliminar(n){return this.http.delete(this.dataUrl+`${n}`)}selector(){return this.http.get(this.dataUrl+"selector")}static#e=this.\u0275fac=function(h){return new(h||u)(a.LFG(v.eN))};static#t=this.\u0275prov=a.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"})}},17462:(y,M,l)=>{l.d(M,{b:()=>u});var a=l(94650),v=l(80529);class u{constructor(n){this.http=n,this.dataUrl="tipoobservacion/"}consultar(n){return this.http.get(this.dataUrl+`${n}`)}consultarParaGrid(){return this.http.get(this.dataUrl+"grid")}consultarParaSelector(){return this.http.get(this.dataUrl+"selector")}agregar(n){return this.http.post(this.dataUrl,n)}editar(n){return this.http.put(this.dataUrl,n)}eliminar(n){return this.http.delete(this.dataUrl+`${n}`)}static#e=this.\u0275fac=function(h){return new(h||u)(a.LFG(v.eN))};static#t=this.\u0275prov=a.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"})}},12846:(y,M,l)=>{l.d(M,{Y:()=>P});var a=l(50986),v=l(94650),u=l(2060);class P{constructor(h){this.modalMensajeService=h}validarCamposRequeridos(h){Object.keys(h.controls).forEach(A=>{const R=h.controls[A];R.markAsTouched({onlySelf:!0}),R.markAsDirty({onlySelf:!0})})}validarCamposRequeridosConMensaje(h){Object.keys(h.controls).forEach(A=>{const R=h.controls[A];R.markAsTouched({onlySelf:!0}),R.markAsDirty({onlySelf:!0})}),Object.keys(h.controls).some(A=>{const R=h.controls[A];return!!(R.errors&&R.errors.required&&R.invalid)&&(this.modalMensajeService.modalError(a.g.MENSAJE_REQUERIDOS),!0)})}markAsUntouched(h){Object.keys(h.controls).forEach(A=>{h.controls[A].markAsUntouched({onlySelf:!0})})}static#e=this.\u0275fac=function(A){return new(A||P)(v.LFG(u.V))};static#t=this.\u0275prov=v.Yz7({token:P,factory:P.\u0275fac,providedIn:"root"})}},24945:(y,M,l)=>{var a,e,v,u,P,n,h,A,R,O,x;l.d(M,{$D:()=>x,Fh:()=>v,Kf:()=>a,Ln:()=>u,UY:()=>P,V4:()=>A,Z3:()=>n,hA:()=>O,kE:()=>R,rA:()=>h}),(e=a||(a={})).Consultar="ROLRD0000",e.Agregar="ROLRD1000",e.Editar="ROLRD2000",e.Eliminar="ROLRD3000",e.NoAcceso="",function(e){e.Consultar="ROLPRS0000",e.Agregar="ROLPRS1000",e.Editar="ROLPRS2000",e.Eliminar="ROLPRS3000",e.NoAcceso=""}(v||(v={})),function(e){e.Consultar="ROTO0000",e.Agregar="ROTO1000",e.Editar="ROTO2000",e.Eliminar="ROTO3000",e.NoAcceso=""}(u||(u={})),function(e){e.Consultar="ROCLF0000",e.Agregar="ROCLF1000",e.Editar="ROCLF2000",e.Eliminar="ROCLF3000",e.NoAcceso=""}(P||(P={})),function(e){e.Consultar="RSOBS0000",e.Agregar="RSOBS1000",e.Editar="RSOBS2000",e.Eliminar="RSOBS3000",e.NoAcceso=""}(n||(n={})),function(e){e.Consultar="RORSOA0000",e.Agregar="RORSOA1000",e.Editar="RORSOA2000",e.Eliminar="RORSOA3000",e.NoAcceso=""}(h||(h={})),function(e){e.Consultar="RSOACC0000",e.Agregar="RSOACC1000",e.Editar="RSOACC2000",e.Eliminar="RSOACC3000",e.NoAcceso=""}(A||(A={})),function(e){e.Consultar="ROOO0000",e.Agregar="ROOO1000",e.Editar="ROOO2000",e.Eliminar="ROOO3000",e.NoAcceso=""}(R||(R={})),function(e){e.Consultar="RORS0000",e.Agregar="RORS1000",e.Editar="RORS2000",e.Eliminar="RORS3000",e.NoAcceso=""}(O||(O={})),function(e){e.Consultar="RORCCR0000"}(x||(x={}))},82876:(y,M,l)=>{l.r(M),l.d(M,{RevisionSeguridadModule:()=>fe});var a=l(36895),v=l(9116),u=l(27974),P=l(77579),n=l(18505),h=l(52522),A=l(15861),R=l(70615),O=l(50986),x=l(40675),e=l(94650),Z=l(2060),E=l(94654),d=l(74654),_=l(80529);class f{constructor(i){this.http=i,this.dataUrl="revisionSeguridad/"}consultar(i){return this.http.get(this.dataUrl+`${i}`)}consultarParaGrid(i){return this.http.post(this.dataUrl+"grid",i)}agregar(i){return this.http.post(this.dataUrl,i)}editar(i){return this.http.put(this.dataUrl,i)}eliminar(i){return this.http.delete(this.dataUrl+`${i}`)}static#e=this.\u0275fac=function(t){return new(t||f)(e.LFG(_.eN))};static#t=this.\u0275prov=e.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"})}var T=l(82846);class S{constructor(i){this.http=i,this.dataUrl="EstatusRevisionSeguridad/"}consultarParaSelector(){return this.http.get(this.dataUrl+"ConsultarParaSelector/")}static#e=this.\u0275fac=function(t){return new(t||S)(e.LFG(_.eN))};static#t=this.\u0275prov=e.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"})}var m=l(24006),W=l(383),K=l(88796),F=l(24945),Ae=l(90429),Me=l(19904);class Ze{}class Y{constructor(i){this.http=i,this.dataUrl="revSegObservacion/"}consultarGrid(i){return this.http.get(this.dataUrl+`grid/${i}`)}consultar(i){return this.http.get(this.dataUrl+i)}agregar(i){return this.http.post(this.dataUrl,i)}editar(i){return this.http.put(this.dataUrl,i)}almacenar(i){return this.http.post(this.dataUrl+"almacenar",i)}eliminarArchivo(i){return this.http.delete(this.dataUrl+"eliminarArchivo/"+i)}consultarArchivo(i){return this.http.get(this.dataUrl+`archivo/${i}`)}static#e=this.\u0275fac=function(t){return new(t||Y)(e.LFG(_.eN))};static#t=this.\u0275prov=e.Yz7({token:Y,factory:Y.\u0275fac,providedIn:"root"})}var Pe=l(17462),ye=l(94910),De=l(91647),Ue=l(40429),$=l(33186),L=l(20388),Oe=l(4837),B=l(90061);class Q{constructor(i){this.http=i,this.dataUrl="revSegObsAcciones/"}consultarParaGrid(i){return this.http.get(this.dataUrl+`grid/${i}`)}consultarParaFormulario(i){return this.http.get(this.dataUrl+`${i}`)}agregar(i){return console.log(i),this.http.post(this.dataUrl+"agregar",i)}editar(i){return this.http.put(this.dataUrl+"editar",i)}static#e=this.\u0275fac=function(t){return new(t||Q)(e.LFG(_.eN))};static#t=this.\u0275prov=e.Yz7({token:Q,factory:Q.\u0275fac,providedIn:"root"})}class Fe{}class H{constructor(i){this.http=i,this.dataUrl="revSegObsAccCorrectivas/"}consultarParaGrid(i){return this.http.get(this.dataUrl+`grid/${i}`)}consultar(i){return this.http.get(this.dataUrl+i)}agregar(i){return this.http.post(this.dataUrl+"agregar",i)}editar(i){return this.http.put(this.dataUrl+"editar",i)}almacenar(i){return this.http.post(this.dataUrl+"almacenar",i)}eliminarArchivo(i){return this.http.delete(this.dataUrl+"eliminarArchivo/"+i)}consultarArchivo(i){return this.http.get(this.dataUrl+`archivo/${i}`)}static#e=this.\u0275fac=function(t){return new(t||H)(e.LFG(_.eN))};static#t=this.\u0275prov=e.Yz7({token:H,factory:H.\u0275fac,providedIn:"root"})}const Ne=["formulario"];function we(c,i){1&c&&(e.TgZ(0,"div",19),e._uU(1," La Accion Correctiva es requerida "),e.qZA())}function qe(c,i){if(1&c){const t=e.EpF();e.TgZ(0,"div")(1,"button",29),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().index,s=e.oxw(2);return e.KtG(s.duplicarItem(o))}),e._UZ(2,"img",31),e.qZA()()}}function Ie(c,i){if(1&c){const t=e.EpF();e.TgZ(0,"div",13)(1,"div",20)(2,"app-input-archivo",21),e.NdJ("archivoDto",function(o){const p=e.CHM(t).index,b=e.oxw(2);return e.KtG(b.modoEditar?b.editarArchivo(o,p):b.agregarArchivo(o,p))})("idArchivoDescarga",function(o){e.CHM(t);const s=e.oxw(2);return e.KtG(s.descargarArchivo(o))}),e.qZA()(),e.TgZ(3,"div",7)(4,"div",8)(5,"label",9),e._uU(6,"Tomar Foto"),e.qZA(),e.TgZ(7,"div")(8,"button",22),e.NdJ("click",function(){const s=e.CHM(t).index,p=e.oxw(2);return e.KtG(p.takePicture(s))}),e._UZ(9,"img",23),e.qZA()()()(),e.TgZ(10,"div",7)(11,"div",8)(12,"label",9),e._uU(13,"Fecha"),e.qZA(),e.TgZ(14,"div",10)(15,"input",24),e.NdJ("ngModelChange",function(o){const p=e.CHM(t).index,b=e.oxw(2);return e.KtG(b.entidad.revSegObsAccCorrectivasArchivo[p].fechaEjecucion=o)})("ngModelChange",function(){const s=e.CHM(t).index,p=e.oxw(2);return e.KtG(p.actualizarFecha(s))}),e.qZA(),e._UZ(16,"i",25),e.qZA()()(),e.TgZ(17,"div",26)(18,"div",27),e.YNc(19,qe,3,0,"div",28),e.TgZ(20,"div")(21,"button",29),e.NdJ("click",function(){const s=e.CHM(t).index,p=e.oxw(2);return e.KtG(p.eliminarItem(s))}),e._UZ(22,"img",30),e.qZA()()()()()}if(2&c){const t=i.$implicit,r=i.index,o=e.oxw(2);let s;e.xp6(2),e.Q6J("label","Cargar Evidencia Fotogr\xe1fica")("nombreArchivo",o.entidad.revSegObsAccCorrectivasArchivo[r].archivoNombre?o.entidad.revSegObsAccCorrectivasArchivo[r].archivoNombre:"Examinar..")("archivo",o.entidad.revSegObsAccCorrectivasArchivo[r].archivo)("fechaEvidencia",o.entidad.revSegObsAccCorrectivasArchivo[r].fechaEjecucion)("tipoMime",o.entidad.revSegObsAccCorrectivasArchivo[r].archivoTipoMime)("id",r.toString())("contieneAyuda",!1)("downl_endpoint",o.downl_endpoint.bind(o))("idRegistroArchivo",null!==(s=o.entidad.revSegObsAccCorrectivasArchivo[r].idRevSegObsAccCorrectivasArchivo)&&void 0!==s?s:0),e.xp6(13),e.Q6J("ngModel",o.entidad.revSegObsAccCorrectivasArchivo[r].fechaEjecucion)("name",t.archivoNombre+r)("bsConfig",o.configDate),e.xp6(4),e.Q6J("ngIf",r==o.entidad.revSegObsAccCorrectivasArchivo.length-1)}}function Le(c,i){if(1&c){const t=e.EpF();e.TgZ(0,"form",4,5),e.NdJ("keydown.enter",function(o){return o.preventDefault()}),e.TgZ(2,"div",6)(3,"div",7)(4,"div",8)(5,"label",9),e._uU(6,"Fecha Acci\xf3n Correctiva"),e.qZA(),e.TgZ(7,"div",10)(8,"input",11),e.NdJ("ngModelChange",function(o){e.CHM(t);const s=e.oxw();return e.KtG(s.entidad.fechaAccionCorrectiva=o)}),e.qZA(),e._UZ(9,"i",12)(10,"i",12),e.qZA()()(),e.TgZ(11,"div",13)(12,"div",14)(13,"div",8)(14,"label",9),e._uU(15,"Acci\xf3n Correctiva Realizada"),e.qZA(),e.TgZ(16,"div")(17,"textarea",15,16),e.NdJ("ngModelChange",function(o){e.CHM(t);const s=e.oxw();return e.KtG(s.entidad.accionCorrectiva=o)}),e.qZA()(),e.YNc(19,we,2,0,"div",17),e.qZA()()(),e.YNc(20,Ie,23,13,"div",18),e.qZA()()}if(2&c){const t=e.MAs(18),r=e.oxw();e.xp6(8),e.Q6J("ngModel",r.entidad.fechaAccionCorrectiva)("required",!0)("bsConfig",r.configDate)("disabled",!r.modoEditar),e.xp6(9),e.Q6J("ngModel",r.entidad.accionCorrectiva),e.xp6(2),e.Q6J("ngIf",(null==t.errors?null:t.errors.required)&&t.touched),e.xp6(1),e.Q6J("ngForOf",r.entidad.revSegObsAccCorrectivasArchivo)}}function Je(c,i){if(1&c){const t=e.EpF();e.TgZ(0,"button",32),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.cancelar())}),e._uU(1," Cancelar "),e.qZA(),e.TgZ(2,"button",33),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onSubmit(o.formulario))}),e._uU(3," Guardar Acci\xf3n correctiva Realizada "),e.qZA()}if(2&c){const t=e.oxw();e.xp6(2),e.Q6J("disabled",t.submitting)}}class V extends R.P{constructor(i,t,r,o,s,p){super(r),this.revSegObsAccCorrectivasService=i,this.capacitorUtil=t,this.modalService=o,this.bsModalRef=s,this.router=p,this.DROPDOWN_PLACEHOLDER=x.vf,this.modoEditar=!1,this.DROPDOWN_NO_OPTIONS=x.aQ,this.isPictureTaken=!1,this.fecha=new Date,this.fechaActual=new Date,this.configDate=O.g.CONFIG_DATEPICKER,(!this.entidad.revSegObsAccCorrectivasArchivo||0===this.entidad.revSegObsAccCorrectivasArchivo.length)&&(this.entidad.revSegObsAccCorrectivasArchivo=[{archivo:null,archivoNombre:"",archivoTipoMime:"",fechaEjecucion:new Date}]),this.entidad.fechaAccionCorrectiva=(0,Ae.ii)()}ngOnInit(){super.onInit(),this.entidad.idRevSegObsAcciones=this.idRevSegObsAcciones,this.esEditar()}esEditar(){this.accion==x.V_.Editar&&(this.modoEditar=!0)}consultar(i){return this.revSegObsAccCorrectivasService.consultar(i)}agregar(i){return this.revSegObsAccCorrectivasService.agregar(i)}editar(i){return this.revSegObsAccCorrectivasService.editar(i)}takePicture(i){var t=this;return(0,A.Z)(function*(){try{const r=yield t.capacitorUtil.tomarFoto();t.isPictureTaken=!0,r.fechaEvidencia=t.entidad.revSegObsAccCorrectivasArchivo[i].fechaEjecucion,r&&(t.modoEditar?t.editarArchivo(r,i):null==t.entidad.revSegObsAccCorrectivasArchivo[i].archivo?t.agregarArchivo(r,i):t.editarArchivo(r,i))}catch(r){console.error(r)}})()}duplicarItem(i){let t=new Fe;t.fechaEjecucion=new Date,t.archivo=null,t.archivoNombre="",t.archivoTipoMime="",this.entidad.revSegObsAccCorrectivasArchivo.splice(i+1,0,t)}editarArchivo(i,t){this.entidad.revSegObsAccCorrectivasArchivo[t].archivo=i.archivo,this.entidad.revSegObsAccCorrectivasArchivo[t].archivoNombre=i.nombreArchivo,this.entidad.revSegObsAccCorrectivasArchivo[t].archivoTipoMime=i.tipoMime,this.entidad.revSegObsAccCorrectivasArchivo[t].idRevSegObsAccCorrectivas=this.entidad.idRevSegObsAccCorrectivas,this.revSegObsAccCorrectivasService.almacenar(this.entidad.revSegObsAccCorrectivasArchivo[t]).subscribe(()=>{this.mensajeService.modalExito(`Se ha cargado el archivo <b>${i.nombreArchivo}</b> correctamente`)})}actualizarFecha(i){this.modoEditar&&null!=this.entidad.revSegObsAccCorrectivasArchivo[i].idRevSegObsAccCorrectivasArchivo&&(this.entidad.revSegObsAccCorrectivasArchivo[i].idRevSegObsAccCorrectivas=this.entidad.idRevSegObsAccCorrectivas,this.revSegObsAccCorrectivasService.almacenar(this.entidad.revSegObsAccCorrectivasArchivo[i]).subscribe(()=>{this.mensajeService.modalExito("Se ha actualizado la fecha correctamente")}))}agregarArchivo(i,t){this.entidad.revSegObsAccCorrectivasArchivo[t].archivo=i.archivo,this.entidad.revSegObsAccCorrectivasArchivo[t].archivoNombre=i.nombreArchivo,this.entidad.revSegObsAccCorrectivasArchivo[t].archivoTipoMime=i.tipoMime,this.entidad.revSegObsAccCorrectivasArchivo[t].fechaEjecucion=i.fechaEvidencia}downl_endpoint(i){return this.revSegObsAccCorrectivasService.consultarArchivo(i)}descargarArchivo(i){let t=new Me.q;this.revSegObsAccCorrectivasService.consultarArchivo(i).pipe((0,n.b)(b=>{t=b}));let r,s=((b,N="",D=512)=>{const U=atob(b),w=[];for(let q=0;q<U.length;q+=D){const J=U.slice(q,q+D),k=new Array(J.length);for(let I=0;I<J.length;I++)k[I]=J.charCodeAt(I);const G=new Uint8Array(k);w.push(G)}return new Blob(w,{type:N})})(t.archivo,t.tipoMime);r=URL.createObjectURL(s);var p=document.createElement("a");p.href=r,p.download=t.nombreArchivo,p.click()}eliminarItem(i){if(this.entidad.revSegObsAccCorrectivasArchivo.length>1){const t=this.entidad.revSegObsAccCorrectivasArchivo[i].idRevSegObsAccCorrectivasArchivo;void 0!==t?this.revSegObsAccCorrectivasService.eliminarArchivo(t).subscribe(()=>{this.entidad.revSegObsAccCorrectivasArchivo.splice(i,1),this.mensajeService.modalExito("El archivo ha sido eliminado correctamente.")},r=>{this.mensajeService.modalError("Hubo un error al eliminar el archivo.")}):this.entidad.revSegObsAccCorrectivasArchivo.splice(i,1)}}static#e=this.\u0275fac=function(t){return new(t||V)(e.Y36(H),e.Y36($.Z),e.Y36(Z.V),e.Y36(L.tT),e.Y36(L.UZ),e.Y36(v.F0))};static#t=this.\u0275cmp=e.Xpm({type:V,selectors:[["app-rev-seg-acc-cor-realizadas-formulario-component"]],viewQuery:function(t,r){if(1&t&&e.Gf(Ne,5),2&t){let o;e.iGM(o=e.CRH())&&(r.formulario=o.first)}},inputs:{idRevSegObsAcciones:"idRevSegObsAcciones"},features:[e.qOj],decls:6,vars:1,consts:[[3,"titulo"],["modal",""],["modalBody",""],["modalFooter",""],["novalidate","novalidate","id","form",3,"keydown.enter"],["formulario","ngForm"],[1,"modal-content"],[1,"col-md-2"],[1,"form-group"],[1,"label-input","required-label"],[1,"date-input-container"],["type","text","autocomplete","off","placeholder","dd/mm/aaaa","name","fechaAccionCorrectiva","bsDatepicker","",1,"form-control",3,"ngModel","required","bsConfig","disabled","ngModelChange"],[1,"fa-regular","fa-calendar-days","ml-auto"],[1,"row"],[1,"col-md-12"],["name","accionCorrectiva","rows","3","required","",1,"form-control-g",2,"width","100%",3,"ngModel","ngModelChange"],["accionCorrectiva","ngModel"],["class","error",4,"ngIf"],["class","row",4,"ngFor","ngForOf"],[1,"error"],[1,"col-md-4"],[3,"label","nombreArchivo","archivo","fechaEvidencia","tipoMime","id","contieneAyuda","downl_endpoint","idRegistroArchivo","archivoDto","idArchivoDescarga"],[1,"picture-button",3,"click"],["src","assets/img/svg/svg-ico-15x15-adentro_circulo-naranja-Camara.svg",1,"icono"],["type","text","autocomplete","off","placeholder","dd/mm/aaaa","bsDatepicker","",1,"form-control",3,"ngModel","name","bsConfig","ngModelChange"],[1,"fa-regular","fa-calendar-days"],[1,"col-md-3"],[1,"contenedor-flex","contenedor-btn","d-flex"],[4,"ngIf"],[1,"circle-button",3,"click"],["src","assets/img/svg/svg-ico-18x18-Boton-Circular-Gris-Eliminar.svg",1,"icono","ml-1","mt-4"],["src","assets/img/svg/svg-ico-18x18-Boton-Circular-Naranja-Agregar.svg",1,"icono","mr-1","mt-4"],["type","button",1,"btn-secundario","flex-shrink-1",3,"click"],["type","button","form","form",1,"btn-primario",3,"disabled","click"]],template:function(t,r){1&t&&(e.TgZ(0,"app-modal-base",0,1),e.YNc(2,Le,21,7,"ng-template",null,2,e.W1O),e.YNc(4,Je,4,1,"ng-template",null,3,e.W1O),e.qZA()),2&t&&e.Q6J("titulo",r.nombreEntidad+" - "+r.accion)},dependencies:[Oe.x,B.Np,B.Y5,W.B,a.sg,a.O5,m._Y,m.Fj,m.JJ,m.JL,m.Q7,m.On,m.F],styles:[".switch[_ngcontent-%COMP%]{top:4px;height:calc(1.5em + .75rem + 7px);width:100px}.slider[_ngcontent-%COMP%]{border:none}.slider[_ngcontent-%COMP%]:before{background-color:#fff;bottom:7px}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]{background-color:#ed7031}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]:before{transform:translate(70px)}.on[_ngcontent-%COMP%], .off[_ngcontent-%COMP%]{font-family:Roboto}.off[_ngcontent-%COMP%]{padding-left:20px}.warning-wrapper[_ngcontent-%COMP%]{position:relative;font-weight:400;display:flex;justify-content:flex-start;align-items:flex-end}.warning-panel[_ngcontent-%COMP%]{position:absolute;top:10%;right:0;width:auto;height:auto;background:#fff;box-shadow:2px 2px 5px 2px #0003;border-radius:5%;padding:20px;z-index:-100}.warning-panel[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{min-width:300px;max-width:100%;height:auto}.warning-button[_ngcontent-%COMP%]:hover + .warning-panel[_ngcontent-%COMP%]{z-index:100}.circle-button[_ngcontent-%COMP%]{background-color:transparent;border:0;align-items:center;justify-content:center;margin-top:5px}.picture-button[_ngcontent-%COMP%]{background-color:transparent;border:0;align-items:center;justify-content:center;margin-top:10px;margin-left:10px}.picture-button[_ngcontent-%COMP%]   img.icono[_ngcontent-%COMP%]{width:30px;height:30px}.date-input-container[_ngcontent-%COMP%]{position:relative;width:100%}.date-input-container[_ngcontent-%COMP%]   input[type=date][_ngcontent-%COMP%]{width:100%;padding-right:30px}.date-input-container[_ngcontent-%COMP%]   .fa-calendar-days[_ngcontent-%COMP%]{position:absolute;right:10px;top:50%;transform:translateY(-50%);pointer-events:none}"]})}var X=l(62861),ee=l(85246);class te extends u.v{constructor(i,t,r,o,s){super(r,o,t),this.revSegObsAccCorrectivasService=i,this.modalService=o,this.bsModalRef=s,this.HEADER_GRID="Acciones Correctivas Realizadas",this.isCollapsed=!0,this.destroy$=new P.x,this.NOMBRE_ENTIDAD="Acciones Correctivas Realizadas",this.columns=[{headerName:"Clave",field:"idRevSegObsAccCorrectivas"},{headerName:"Acci\xf3n Correctiva Realizada",field:"accionCorrectiva",minWidth:150}],this.crudConfig={nombreEntidad:this.NOMBRE_ENTIDAD,generoGramatical:"masc",nombrePropiedadId:"idRevSegObsAccCorrectivas",formConfig:{ComponenteFormulario:V,modalConfig:h.OS.Large,configAgregar:{acceso:F.V4.Agregar,params:{idRevSegObsAcciones:0}},configEditar:{acceso:F.V4.Editar}},configEliminar:{acceso:F.V4.Eliminar,elementToString:p=>`${p.idRevSegObsAccCorrectivas} `}}}ngOnInit(){this.cargarDatos(this.idRevSegObsAcciones)}consultarGrid(){return this.revSegObsAccCorrectivasService.consultarParaGrid(this.idRevSegObsAcciones)}eliminar(i){throw new Error("Method not implemented.")}cargarDatos(i){this.idRevSegObsAcciones=i,this.crudConfig?.formConfig?.configAgregar?.params&&(this.crudConfig.formConfig.configAgregar.params.idRevSegObsAcciones=this.idRevSegObsAcciones),super.onInit()}static#e=this.\u0275fac=function(t){return new(t||te)(e.Y36(H),e.Y36(Z.V),e.Y36(X.Q),e.Y36(L.tT),e.Y36(L.UZ))};static#t=this.\u0275cmp=e.Xpm({type:te,selectors:[["app-rev-seg-acc-cor-realizadas"]],inputs:{idRevSegObsAcciones:"idRevSegObsAcciones"},features:[e.qOj],decls:1,vars:4,consts:[["titulo","","tituloBoton","Acciones Correctivas Realizadas",3,"columns","crudConfig","elementos$","tieneAccesoAgregar$","agregarClick","gridClick"]],template:function(t,r){1&t&&(e.TgZ(0,"app-catalogo-base",0),e.NdJ("agregarClick",function(){return r.agregar()})("gridClick",function(s){return r.onGridClick(s)}),e.qZA()),2&t&&e.Q6J("columns",r.columns)("crudConfig",r.crudConfig)("elementos$",r.registros$)("tieneAccesoAgregar$",r.tieneAccesoAgregar$)},dependencies:[ee.B],styles:[".nav-item.customClass[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:120px;white-space:normal;text-align:center;line-height:1.2}label[_ngcontent-%COMP%]{white-space:nowrap}"]})}const ke=["formulario"];function Ke(c,i){if(1&c&&(e.TgZ(0,"div")(1,"div",6),e._uU(2," Acciones Correctivas Realizadas "),e.qZA(),e._UZ(3,"app-rev-seg-acc-cor-realizadas",19),e.qZA()),2&c){const t=e.oxw(2);e.xp6(3),e.Q6J("idRevSegObsAcciones",t.idEntidad)}}function Be(c,i){if(1&c){const t=e.EpF();e.TgZ(0,"form",4,5),e.NdJ("keydown.enter",function(o){return o.preventDefault()}),e.TgZ(2,"div",6),e._uU(3," Acciones de la Observaci\xf3n "),e.qZA(),e.TgZ(4,"div",7)(5,"div",8)(6,"div",9)(7,"label",10),e._uU(8,"Acci\xf3n"),e.qZA(),e.TgZ(9,"div")(10,"textarea",11,12),e.NdJ("ngModelChange",function(o){e.CHM(t);const s=e.oxw();return e.KtG(s.entidad.accion=o)}),e.qZA()()()()(),e.TgZ(12,"div",7)(13,"div",13)(14,"div",9)(15,"label",10),e._uU(16,"Responsable de la Actividad"),e.qZA(),e.TgZ(17,"div")(18,"input",14,15),e.NdJ("ngModelChange",function(o){e.CHM(t);const s=e.oxw();return e.KtG(s.entidad.responsableActividad=o)}),e.qZA()()()()(),e.TgZ(20,"div",7)(21,"div",8)(22,"div",9)(23,"label",10),e._uU(24,"Comentarios"),e.qZA(),e.TgZ(25,"div")(26,"textarea",16,17),e.NdJ("ngModelChange",function(o){e.CHM(t);const s=e.oxw();return e.KtG(s.entidad.comentarios=o)}),e.qZA()()()()(),e.YNc(28,Ke,4,1,"div",18),e.qZA()}if(2&c){const t=e.oxw();e.xp6(10),e.Q6J("ngModel",t.entidad.accion),e.xp6(8),e.Q6J("ngModel",t.entidad.responsableActividad),e.xp6(8),e.Q6J("ngModel",t.entidad.comentarios),e.xp6(2),e.Q6J("ngIf",t.modoEditar)}}function He(c,i){if(1&c){const t=e.EpF();e.TgZ(0,"button",20),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.cancelar())}),e._uU(1," Cancelar "),e.qZA(),e.TgZ(2,"button",21),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onSubmit())}),e._uU(3," Guardar Acci\xf3n "),e.qZA()}if(2&c){const t=e.oxw();e.xp6(2),e.Q6J("disabled",t.submitting)}}class ie extends R.P{constructor(i,t,r,o,s){super(t),this.revSegObsAccService=i,this.modalService=r,this.bsModalRef=o,this.router=s,this.modoEditar=!1,this.DROPDOWN_PLACEHOLDER=x.vf,this.destroy$=new P.x,this.DROPDOWN_NO_OPTIONS=x.aQ}ngOnDestroy(){this.destroy$.next()}ngOnInit(){this.entidad.idRevSegObservaciones=this.idRevSegObservaciones,super.onInit(),this.esEditar()}esEditar(){this.accion==x.V_.Editar&&(this.modoEditar=!0)}consultar(i){return this.revSegObsAccService.consultarParaFormulario(i)}agregar(i){return this.revSegObsAccService.agregar(i)}editar(i){return this.revSegObsAccService.editar(i)}onSubmit(){let i=this.formulario;i&&super.onSubmit(i)}cerrar(i){}static#e=this.\u0275fac=function(t){return new(t||ie)(e.Y36(Q),e.Y36(Z.V),e.Y36(L.tT),e.Y36(L.UZ),e.Y36(v.F0))};static#t=this.\u0275cmp=e.Xpm({type:ie,selectors:[["app-rev-seg-obs-acc-formulario"]],viewQuery:function(t,r){if(1&t&&e.Gf(ke,5),2&t){let o;e.iGM(o=e.CRH())&&(r.formulario=o.first)}},inputs:{idRevSegObservaciones:"idRevSegObservaciones"},features:[e.qOj],decls:6,vars:1,consts:[[3,"titulo"],["modal",""],["modalBody",""],["modalFooter",""],["id","form","novalidate","novalidate",3,"keydown.enter"],["formulario","ngForm"],[1,"subseccion"],[1,"row"],[1,"col-8",2,"width","100%"],[1,"form-group"],[1,"label-input","required-label"],["name","accion","rows","6",1,"form-control-g",3,"ngModel","ngModelChange"],["accion","ngModel"],[1,"col-2",2,"width","25%"],["name","responsableActividad","type","text","maxlength","50",1,"form-control",3,"ngModel","ngModelChange"],["responsableActividad","ngModel"],["name","comentarios","rows","6",1,"form-control-g",3,"ngModel","ngModelChange"],["comentarios","ngModel"],[4,"ngIf"],["heading","Acci\xf3n Correctivas Realizadas",3,"idRevSegObsAcciones"],["type","button",1,"btn-secundario","flex-shrink-1",3,"click"],["type","button","form","form",1,"btn-primario",3,"disabled","click"]],template:function(t,r){1&t&&(e.TgZ(0,"app-modal-base",0,1),e.YNc(2,Be,29,4,"ng-template",null,2,e.W1O),e.YNc(4,He,4,1,"ng-template",null,3,e.W1O),e.qZA()),2&t&&e.Q6J("titulo",r.nombreEntidad+" - "+r.accion)},dependencies:[a.O5,m._Y,m.Fj,m.JJ,m.JL,m.nD,m.On,m.F,W.B,te]})}class j extends u.v{constructor(i,t,r,o){super(t,r,o),this.revSegObsAccionesService=i,this.isCollapsed=!0,this.HEADER_GRID="Acciones",this.NOMBRE_ENTIDAD="Acciones",this.destroy$=new P.x,this.crudConfig={nombreEntidad:this.NOMBRE_ENTIDAD,generoGramatical:"fem",nombrePropiedadId:"idRevSegObsAcciones",formConfig:{ComponenteFormulario:ie,modalConfig:h.OS.Large,configAgregar:{acceso:F.rA.Agregar,params:{idRevSegObservaciones:0}},configEditar:{acceso:F.rA.Editar}},configEliminar:{acceso:F.rA.Eliminar,elementToString:s=>`${s.idRevSegObsAcciones}`}},this.columns=[{headerName:"Clave",field:"idRevSegObsAcciones",minWidth:50,width:120},{headerName:"Acci\xf3n",field:"accion",autoHeight:!0,minWidth:250,width:300},{headerName:"Responsable de la actividad",field:"responsableActividad",autoHeight:!0,minWidth:100,width:270},{headerName:"Comentarios",field:"comentarios",minWidth:100,width:200}]}ngOnInit(){console.log(this.idRevSegObservaciones),this.cargarDatos(this.idRevSegObservaciones)}consultarGrid(){return this.revSegObsAccionesService.consultarParaGrid(this.idRevSegObservaciones)}eliminar(i){throw new Error("Method not implemented.")}cargarDatos(i){this.idRevSegObservaciones=i,this.crudConfig?.formConfig?.configAgregar?.params&&(this.crudConfig.formConfig.configAgregar.params.idRevSegObservaciones=this.idRevSegObservaciones),super.onInit()}static#e=this.\u0275fac=function(t){return new(t||j)(e.Y36(Q),e.Y36(X.Q),e.Y36(L.tT),e.Y36(Z.V))};static#t=this.\u0275cmp=e.Xpm({type:j,selectors:[["app-rev-seg-obs-acciones"]],inputs:{idRevSegObservaciones:"idRevSegObservaciones"},features:[e.qOj],decls:1,vars:4,consts:[["tituloBoton","Acciones",3,"columns","crudConfig","elementos$","tieneAccesoAgregar$","agregarClick","gridClick"]],template:function(t,r){1&t&&(e.TgZ(0,"app-catalogo-base",0),e.NdJ("agregarClick",function(){return r.agregar()})("gridClick",function(s){return r.onGridClick(s)}),e.qZA()),2&t&&e.Q6J("columns",r.columns)("crudConfig",r.crudConfig)("elementos$",r.registros$)("tieneAccesoAgregar$",r.tieneAccesoAgregar$)},dependencies:[ee.B]})}const Ge=["formulario"];function We(c,i){if(1&c){const t=e.EpF();e.TgZ(0,"div")(1,"button",66),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().index,s=e.oxw(2);return e.KtG(s.duplicarItem(o))}),e._UZ(2,"img",67),e.qZA()()}}function Ye(c,i){if(1&c){const t=e.EpF();e.TgZ(0,"div")(1,"button",66),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().index,s=e.oxw(2);return e.KtG(s.eliminarItem(o))}),e._UZ(2,"img",68),e.qZA()()}}function Qe(c,i){if(1&c){const t=e.EpF();e.TgZ(0,"div",14)(1,"div",55)(2,"app-input-archivo",56),e.NdJ("archivoDto",function(o){const p=e.CHM(t).index,b=e.oxw(2);return e.KtG(b.modoEditar?b.editarArchivo(o,p):b.agregarArchivo(o,p))})("idArchivoDescarga",function(o){e.CHM(t);const s=e.oxw(2);return e.KtG(s.descargarArchivo(o))}),e.qZA()(),e.TgZ(3,"div",57)(4,"div",8)(5,"label",9),e._uU(6,"Tomar Foto"),e.qZA(),e.TgZ(7,"div")(8,"button",58),e.NdJ("click",function(){const s=e.CHM(t).index,p=e.oxw(2);return e.KtG(p.takePicture(s))}),e._UZ(9,"img",59),e.qZA()()()(),e.TgZ(10,"div",60)(11,"div",8)(12,"label",61),e._uU(13,"Fecha"),e.qZA(),e.TgZ(14,"div",10)(15,"input",62),e.NdJ("ngModelChange",function(o){const p=e.CHM(t).index,b=e.oxw(2);return e.KtG(b.entidad.revSegObservacionesArchivo[p].fechaEvidencia=o)})("ngModelChange",function(){const s=e.CHM(t).index,p=e.oxw(2);return e.KtG(p.actualizarFecha(s))}),e.qZA(),e._UZ(16,"i",63),e.qZA()()(),e.TgZ(17,"div",64)(18,"div",65),e.YNc(19,We,3,0,"div",54),e.YNc(20,Ye,3,0,"div",54),e.qZA()()()}if(2&c){const t=i.$implicit,r=i.index,o=e.oxw(2);let s;e.xp6(2),e.Q6J("label","Cargar Evidencia Fotogr\xe1fica")("nombreArchivo",o.entidad.revSegObservacionesArchivo[r].archivoNombre?o.entidad.revSegObservacionesArchivo[r].archivoNombre:"Examinar..")("archivo",o.entidad.revSegObservacionesArchivo[r].archivo)("fechaEvidencia",o.entidad.revSegObservacionesArchivo[r].fechaEvidencia)("tipoMime",o.entidad.revSegObservacionesArchivo[r].archivoTipoMime)("id",r.toString())("contieneAyuda",!1)("downl_endpoint",o.downl_endpoint.bind(o))("idRegistroArchivo",null!==(s=o.entidad.revSegObservacionesArchivo[r].idRevSegObservacionesArchivo)&&void 0!==s?s:0),e.xp6(13),e.Q6J("ngModel",o.entidad.revSegObservacionesArchivo[r].fechaEvidencia)("name",t.archivoNombre+r)("bsConfig",o.configDate),e.xp6(4),e.Q6J("ngIf",r==o.entidad.revSegObservacionesArchivo.length-1),e.xp6(1),e.Q6J("ngIf",0!=r||o.entidad.revSegObservacionesArchivo.length>1)}}function ze(c,i){1&c&&(e.TgZ(0,"div",69),e._uU(1," El Peligro es requerido "),e.qZA())}function je(c,i){1&c&&(e.TgZ(0,"div",69),e._uU(1," El Riesgo es requerido "),e.qZA())}function $e(c,i){1&c&&(e.TgZ(0,"div",69),e._uU(1," La Descripci\xf3n de lo Observado es requerida "),e.qZA())}function Ve(c,i){1&c&&(e.TgZ(0,"div",69),e._uU(1," El Tipo de Observaci\xf3n es requerido "),e.qZA())}function Xe(c,i){1&c&&(e.TgZ(0,"div",69),e._uU(1," El NR"),e.TgZ(2,"sub"),e._uU(3,"0"),e.qZA(),e._uU(4," es requerido "),e.qZA())}function et(c,i){1&c&&(e.TgZ(0,"div",69),e._uU(1," El NR"),e.TgZ(2,"sub"),e._uU(3,"0"),e.qZA(),e._uU(4," debe ser un n\xfamero. "),e.qZA())}function tt(c,i){1&c&&(e.TgZ(0,"div",69),e._uU(1," El NR"),e.TgZ(2,"sub"),e._uU(3,"0"),e.qZA(),e._uU(4," debe ser un entero. "),e.qZA())}function it(c,i){1&c&&(e.TgZ(0,"div",69),e._uU(1," El NR"),e.TgZ(2,"sub"),e._uU(3,"R"),e.qZA(),e._uU(4," es requerido "),e.qZA())}function ot(c,i){1&c&&(e.TgZ(0,"div",69),e._uU(1," El NR"),e.TgZ(2,"sub"),e._uU(3,"R"),e.qZA(),e._uU(4," debe ser un n\xfamero. "),e.qZA())}function rt(c,i){1&c&&(e.TgZ(0,"div",69),e._uU(1," El NR"),e.TgZ(2,"sub"),e._uU(3,"R"),e.qZA(),e._uU(4," debe ser un entero. "),e.qZA())}function nt(c,i){1&c&&(e.TgZ(0,"div",69),e._uU(1," La Clasificaci\xf3n es requerida "),e.qZA())}function at(c,i){1&c&&(e.TgZ(0,"div",69),e._uU(1," El Origen de la Observaci\xf3n es requerido "),e.qZA())}function st(c,i){1&c&&(e.TgZ(0,"div",69),e._uU(1," El campo Elaborado Por es requerido "),e.qZA())}function ct(c,i){1&c&&(e.TgZ(0,"div",69),e._uU(1," El Proyecto es requerido "),e.qZA())}function lt(c,i){if(1&c&&(e.TgZ(0,"div")(1,"div",45),e._uU(2," Acciones "),e.qZA(),e._UZ(3,"app-rev-seg-obs-acciones",70),e.qZA()),2&c){const t=e.oxw(2);e.xp6(3),e.Q6J("idRevSegObservaciones",t.idEntidad)}}const Te=function(c){return{"background-color":c}};function dt(c,i){if(1&c){const t=e.EpF();e.TgZ(0,"form",4,5),e.NdJ("keydown.enter",function(o){return o.preventDefault()}),e.TgZ(2,"div",6)(3,"div",7)(4,"div",8)(5,"label",9),e._uU(6,"Fecha Observaci\xf3n"),e.qZA(),e.TgZ(7,"div",10)(8,"input",11),e.NdJ("ngModelChange",function(o){e.CHM(t);const s=e.oxw();return e.KtG(s.entidad.fechaObservacion=o)}),e.qZA(),e._UZ(9,"i",12)(10,"i",12),e.qZA()()(),e.YNc(11,Qe,21,14,"div",13),e.TgZ(12,"div",14)(13,"div",15)(14,"div",8)(15,"label",9),e._uU(16,"Peligro"),e.qZA(),e.TgZ(17,"div")(18,"textarea",16,17),e.NdJ("ngModelChange",function(o){e.CHM(t);const s=e.oxw();return e.KtG(s.entidad.peligro=o)}),e.qZA()(),e.YNc(20,ze,2,0,"div",18),e.qZA()()(),e.TgZ(21,"div",14)(22,"div",15)(23,"div",8)(24,"label",9),e._uU(25,"Riesgo"),e.qZA(),e.TgZ(26,"div")(27,"textarea",19,20),e.NdJ("ngModelChange",function(o){e.CHM(t);const s=e.oxw();return e.KtG(s.entidad.riesgo=o)}),e.qZA()(),e.YNc(29,je,2,0,"div",18),e.qZA()()(),e.TgZ(30,"div",14)(31,"div",15)(32,"div",8)(33,"label",9),e._uU(34,"Descripci\xf3n de lo Observado"),e.qZA(),e.TgZ(35,"div")(36,"textarea",21,22),e.NdJ("ngModelChange",function(o){e.CHM(t);const s=e.oxw();return e.KtG(s.entidad.descripcionObservado=o)}),e.qZA()(),e.YNc(38,$e,2,0,"div",18),e.qZA()()(),e.TgZ(39,"div",14)(40,"div",23)(41,"div",8)(42,"label",9),e._uU(43,"Tipo de Observaci\xf3n"),e.qZA(),e.TgZ(44,"div")(45,"ng-select",24,25),e.NdJ("ngModelChange",function(o){e.CHM(t);const s=e.oxw();return e.KtG(s.entidad.idTipoObservacion=o)}),e.ALo(47,"async"),e.qZA()(),e.YNc(48,Ve,2,0,"div",18),e.qZA()(),e._UZ(49,"div",26),e.TgZ(50,"div",27)(51,"div",8)(52,"label",9),e._uU(53,"NR"),e.TgZ(54,"sub"),e._uU(55,"0"),e.qZA()(),e.TgZ(56,"div")(57,"input",28,29),e.NdJ("ngModelChange",function(o){e.CHM(t);const s=e.oxw();return e.KtG(s.entidad.nrd=o)}),e.qZA()(),e.YNc(59,Xe,5,0,"div",18),e.YNc(60,et,5,0,"div",18),e.YNc(61,tt,5,0,"div",18),e.qZA()(),e.TgZ(62,"div",27)(63,"div",8)(64,"label",9),e._uU(65,"NR"),e.TgZ(66,"sub"),e._uU(67,"R"),e.qZA()(),e.TgZ(68,"div")(69,"input",30,31),e.NdJ("ngModelChange",function(o){e.CHM(t);const s=e.oxw();return e.KtG(s.entidad.nrr=o)}),e.qZA()(),e.YNc(71,it,5,0,"div",18),e.YNc(72,ot,5,0,"div",18),e.YNc(73,rt,5,0,"div",18),e.qZA()(),e.TgZ(74,"div",32)(75,"div",33),e._UZ(76,"i",34),e.TgZ(77,"div",35),e._UZ(78,"img",36),e.qZA()()(),e._UZ(79,"div",37),e.TgZ(80,"div",23)(81,"div",8)(82,"label",9),e._uU(83,"Clasificaci\xf3n"),e.qZA(),e.TgZ(84,"div")(85,"ng-select",38,39),e.NdJ("ngModelChange",function(o){e.CHM(t);const s=e.oxw();return e.KtG(s.entidad.idClasificacion=o)}),e.ALo(87,"async"),e.qZA()(),e.YNc(88,nt,2,0,"div",18),e.qZA()()(),e.TgZ(89,"div",14)(90,"div",23)(91,"div",8)(92,"label",9),e._uU(93,"Origen de la Observaci\xf3n"),e.qZA(),e.TgZ(94,"div")(95,"ng-select",40,41),e.NdJ("ngModelChange",function(o){e.CHM(t);const s=e.oxw();return e.KtG(s.entidad.idOrigenObservacion=o)}),e.ALo(97,"async"),e.qZA()(),e.YNc(98,at,2,0,"div",18),e.qZA()(),e._UZ(99,"div",26),e.TgZ(100,"div",42)(101,"div",8)(102,"label",9),e._uU(103,"Elaborado Por"),e.qZA(),e.TgZ(104,"div")(105,"input",43,44),e.NdJ("ngModelChange",function(o){e.CHM(t);const s=e.oxw();return e.KtG(s.entidad.elaboradoPor=o)}),e.qZA()(),e.YNc(107,st,2,0,"div",18),e.qZA()()(),e.TgZ(108,"div",45),e._uU(109," Proyecto "),e.qZA(),e.TgZ(110,"div",14)(111,"div",23)(112,"div",8)(113,"label",9),e._uU(114,"Proyecto"),e.qZA(),e.TgZ(115,"div")(116,"ng-select",46,47),e.NdJ("ngModelChange",function(o){e.CHM(t);const s=e.oxw();return e.KtG(s.entidad.idProyecto=o)}),e.ALo(118,"async"),e.qZA()(),e.YNc(119,ct,2,0,"div",18),e.qZA()(),e._UZ(120,"div",26),e.TgZ(121,"div",48)(122,"div",8)(123,"label",9),e._uU(124,"Observaci\xf3n Atendida"),e.qZA(),e.TgZ(125,"label",49)(126,"input",50),e.NdJ("ngModelChange",function(o){e.CHM(t);const s=e.oxw();return e.KtG(s.entidad.observacionAtendida=o)}),e.qZA(),e.TgZ(127,"span",51)(128,"span",52),e._uU(129,"S\xed"),e.qZA(),e.TgZ(130,"span",53),e._uU(131,"No"),e.qZA()()()()()(),e.YNc(132,lt,4,1,"div",54),e.qZA()()}if(2&c){const t=e.MAs(19),r=e.MAs(28),o=e.MAs(37),s=e.MAs(46),p=e.MAs(58),b=e.MAs(70),N=e.MAs(86),D=e.MAs(96),U=e.MAs(106),w=e.MAs(117),C=e.oxw();e.xp6(8),e.Q6J("ngModel",C.entidad.fechaObservacion)("required",!0)("bsConfig",C.configDate)("disabled",!C.modoEditar),e.xp6(3),e.Q6J("ngForOf",C.entidad.revSegObservacionesArchivo),e.xp6(7),e.Q6J("ngModel",C.entidad.peligro),e.xp6(2),e.Q6J("ngIf",(null==t.errors?null:t.errors.required)&&t.touched),e.xp6(7),e.Q6J("ngModel",C.entidad.riesgo),e.xp6(2),e.Q6J("ngIf",(null==r.errors?null:r.errors.required)&&r.touched),e.xp6(7),e.Q6J("ngModel",C.entidad.descripcionObservado),e.xp6(2),e.Q6J("ngIf",(null==o.errors?null:o.errors.required)&&o.touched),e.xp6(7),e.Q6J("items",e.lcZ(47,55,C.tipoObservacion$))("required",!0)("ngModel",C.entidad.idTipoObservacion)("placeholder",C.DROPDOWN_PLACEHOLDER)("notFoundText",C.DROPDOWN_NO_OPTIONS),e.xp6(3),e.Q6J("ngIf",(null==s.errors?null:s.errors.required)&&s.touched),e.xp6(9),e.Q6J("ngModel",C.entidad.nrd)("required",!0)("min",1)("ngStyle",e.VKq(63,Te,C.nrxColor(C.entidad.nrd))),e.xp6(2),e.Q6J("ngIf",(null==p.errors?null:p.errors.required)&&p.touched),e.xp6(1),e.Q6J("ngIf",(null==p.errors?null:p.errors.min)&&p.touched),e.xp6(1),e.Q6J("ngIf",(null==p.errors?null:p.errors.pattern)&&p.touched),e.xp6(8),e.Q6J("ngModel",C.entidad.nrr)("required",!0)("min",1)("ngStyle",e.VKq(65,Te,C.nrxColor(C.entidad.nrr))),e.xp6(2),e.Q6J("ngIf",(null==b.errors?null:b.errors.required)&&b.touched),e.xp6(1),e.Q6J("ngIf",(null==b.errors?null:b.errors.min)&&b.touched),e.xp6(1),e.Q6J("ngIf",(null==b.errors?null:b.errors.pattern)&&b.touched),e.xp6(12),e.Q6J("items",e.lcZ(87,57,C.clasificacion$))("required",!0)("ngModel",C.entidad.idClasificacion)("placeholder",C.DROPDOWN_PLACEHOLDER)("notFoundText",C.DROPDOWN_NO_OPTIONS)("ngClass",C.clasificacionColor(C.entidad.idClasificacion)),e.xp6(3),e.Q6J("ngIf",(null==N.errors?null:N.errors.required)&&N.touched),e.xp6(7),e.Q6J("items",e.lcZ(97,59,C.origenObservacion$))("required",!0)("ngModel",C.entidad.idOrigenObservacion)("placeholder",C.DROPDOWN_PLACEHOLDER)("notFoundText",C.DROPDOWN_NO_OPTIONS),e.xp6(3),e.Q6J("ngIf",(null==D.errors?null:D.errors.required)&&D.touched),e.xp6(7),e.Q6J("ngModel",C.entidad.elaboradoPor)("required",!0),e.xp6(2),e.Q6J("ngIf",(null==U.errors?null:U.errors.required)&&U.touched),e.xp6(9),e.Q6J("items",e.lcZ(118,61,C.proyectoRevSeg$))("required",!0)("ngModel",C.entidad.idProyecto)("placeholder",C.DROPDOWN_PLACEHOLDER)("notFoundText",C.DROPDOWN_NO_OPTIONS),e.xp6(3),e.Q6J("ngIf",(null==w.errors?null:w.errors.required)&&w.touched),e.xp6(7),e.Q6J("ngModel",C.entidad.observacionAtendida),e.xp6(6),e.Q6J("ngIf",C.modoEditar)}}function ut(c,i){if(1&c){const t=e.EpF();e.TgZ(0,"button",71),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.cancelar())}),e._uU(1," Cancelar "),e.qZA(),e.TgZ(2,"button",72),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onSubmit(o.formulario))}),e._uU(3," Guardar Observaci\xf3n "),e.qZA()}if(2&c){const t=e.oxw();e.xp6(2),e.Q6J("disabled",t.submitting)}}class oe extends R.P{constructor(i,t,r,o,s,p,b,N,D,U){super(b),this.revSegObservacionService=i,this.tipoObservacionService=t,this.clasificacionService=r,this.proyectoRevSegService=o,this.origenObservacionService=s,this.capacitorUtil=p,this.modalService=N,this.bsModalRef=D,this.router=U,this.modoEditar=!1,this.DROPDOWN_PLACEHOLDER=x.vf,this.DROPDOWN_NO_OPTIONS=x.aQ,this.isPictureTaken=!1,this.configDate=O.g.CONFIG_DATEPICKER,(!this.entidad.revSegObservacionesArchivo||0===this.entidad.revSegObservacionesArchivo.length)&&(this.entidad.revSegObservacionesArchivo=[{archivo:null,archivoNombre:"",archivoTipoMime:"",fechaEvidencia:new Date}]),this.entidad.fechaObservacion=(0,Ae.ii)()}ngOnInit(){this.entidad.idRevisionSeguridad=this.idRevisionSeguridad,super.onInit(),this.consultarTipoObservacion(),this.consultarClasificacion(),this.consultarProyectoRevSeg(),this.consultarOrigenObservacion(),this.esEditar()}esEditar(){this.accion==x.V_.Editar&&(this.modoEditar=!0)}consultar(i){return this.revSegObservacionService.consultar(i)}agregar(i){return this.revSegObservacionService.agregar(i)}editar(i){return this.revSegObservacionService.editar(i)}consultarTipoObservacion(){this.tipoObservacion$=this.tipoObservacionService.consultarParaSelector()}consultarClasificacion(){this.clasificacion$=this.clasificacionService.consultarParaSelector()}consultarProyectoRevSeg(){this.proyectoRevSeg$=this.proyectoRevSegService.consultarParaSelector()}consultarOrigenObservacion(){this.origenObservacion$=this.origenObservacionService.consultarParaSelector()}takePicture(i){var t=this;return(0,A.Z)(function*(){try{const r=yield t.capacitorUtil.tomarFoto();t.isPictureTaken=!0,r.fechaEvidencia=t.entidad.revSegObservacionesArchivo[i].fechaEvidencia,r&&(t.modoEditar?t.editarArchivo(r,i):t.agregarArchivo(r,i))}catch(r){console.error(r)}})()}duplicarItem(i){let t=new Ze;t.fechaEvidencia=new Date,t.archivo=null,t.archivoNombre="",t.archivoTipoMime="",this.entidad.revSegObservacionesArchivo.splice(i+1,0,t)}editarArchivo(i,t){this.entidad.revSegObservacionesArchivo[t].archivo=i.archivo,this.entidad.revSegObservacionesArchivo[t].archivoNombre=i.nombreArchivo,this.entidad.revSegObservacionesArchivo[t].archivoTipoMime=i.tipoMime,this.entidad.revSegObservacionesArchivo[t].idRevSegObservaciones=this.entidad.idRevSegObservacion,this.revSegObservacionService.almacenar(this.entidad.revSegObservacionesArchivo[t]).subscribe(()=>{this.mensajeService.modalExito(`Se ha cargado el archivo <b>${i.nombreArchivo}</b> correctamente`)})}actualizarFecha(i){this.modoEditar&&null!=this.entidad.revSegObservacionesArchivo[i].idRevSegObservacionesArchivo&&(this.entidad.revSegObservacionesArchivo[i].idRevSegObservaciones=this.entidad.idRevSegObservacion,this.revSegObservacionService.almacenar(this.entidad.revSegObservacionesArchivo[i]).subscribe(()=>{this.mensajeService.modalExito("Se ha actualizado la fecha correctamente")}))}agregarArchivo(i,t){this.entidad.revSegObservacionesArchivo[t].archivo=i.archivo,this.entidad.revSegObservacionesArchivo[t].archivoNombre=i.nombreArchivo,this.entidad.revSegObservacionesArchivo[t].archivoTipoMime=i.tipoMime,this.entidad.revSegObservacionesArchivo[t].fechaEvidencia=i.fechaEvidencia?new Date(i.fechaEvidencia):new Date}downl_endpoint(i){return this.revSegObservacionService.consultarArchivo(i)}descargarArchivo(i){let t=new Me.q;this.revSegObservacionService.consultarArchivo(i).pipe((0,n.b)(b=>{t=b}));let r,s=((b,N="",D=512)=>{const U=atob(b),w=[];for(let q=0;q<U.length;q+=D){const J=U.slice(q,q+D),k=new Array(J.length);for(let I=0;I<J.length;I++)k[I]=J.charCodeAt(I);const G=new Uint8Array(k);w.push(G)}return new Blob(w,{type:N})})(t.archivo,t.tipoMime);r=URL.createObjectURL(s);var p=document.createElement("a");p.href=r,p.download=t.nombreArchivo,p.click()}eliminarItem(i){if(this.entidad.revSegObservacionesArchivo.length>1){const t=this.entidad.revSegObservacionesArchivo[i].idRevSegObservacionesArchivo;void 0!==t?this.revSegObservacionService.eliminarArchivo(t).subscribe(()=>{this.entidad.revSegObservacionesArchivo.splice(i,1),this.mensajeService.modalExito("El archivo ha sido eliminado correctamente.")},r=>{this.mensajeService.modalError("Hubo un error al eliminar el archivo.")}):this.entidad.revSegObservacionesArchivo.splice(i,1)}}nrxColor(i){if(i>=1){if(i<=2)return"#00B050";if(i<=7)return"#92D050";if(i<=14)return"#FFFF00";if(i<=19)return"#FFC000";if(i>=20)return"#FF0000"}return"#fff"}clasificacionColor(i){return 1==i?"blue":2==i?"red":3==i?"purple":"#fff"}static#e=this.\u0275fac=function(t){return new(t||oe)(e.Y36(Y),e.Y36(Pe.b),e.Y36(ye.o),e.Y36(De.x),e.Y36(Ue.e),e.Y36($.Z),e.Y36(Z.V),e.Y36(L.tT),e.Y36(L.UZ),e.Y36(v.F0))};static#t=this.\u0275cmp=e.Xpm({type:oe,selectors:[["app-rev-seg-observacion-formulario"]],viewQuery:function(t,r){if(1&t&&e.Gf(Ge,5),2&t){let o;e.iGM(o=e.CRH())&&(r.formulario=o.first)}},inputs:{idRevisionSeguridad:"idRevisionSeguridad"},features:[e.qOj],decls:6,vars:1,consts:[[3,"titulo"],["modal",""],["modalBody",""],["modalFooter",""],["novalidate","novalidate","id","form",3,"keydown.enter"],["formulario","ngForm"],[1,"modal-content"],[1,"col-md-2"],[1,"form-group"],[1,"label-input","required-label"],[1,"date-input-container"],["type","text","autocomplete","off","placeholder","dd/mm/aaaa","name","fechaObservacion","bsDatepicker","",1,"form-control",3,"ngModel","required","bsConfig","disabled","ngModelChange"],[1,"fa-regular","fa-calendar-days","ml-auto"],["class","row",4,"ngFor","ngForOf"],[1,"row"],[1,"col-md-12"],["name","peligro","rows","3","required","",1,"form-control-g",2,"width","100%",3,"ngModel","ngModelChange"],["peligro","ngModel"],["class","error",4,"ngIf"],["name","riesgo","rows","3","required","",1,"form-control-g",2,"width","100%",3,"ngModel","ngModelChange"],["riesgo","ngModel"],["name","descripcionObservado","rows","3","required","",1,"form-control-g",2,"width","100%",3,"ngModel","ngModelChange"],["descripcionObservado","ngModel"],[1,"col-2",2,"width","30%"],["name","idTipoObservacion","appendTo","body","bindLabel","nombre","bindValue","idTipoObservacion",1,"select-custom","custom-width",3,"items","required","ngModel","placeholder","notFoundText","ngModelChange"],["idTipoObservacion","ngModel"],[1,"col-2",2,"width","2%"],[1,"col-2",2,"width","13%"],["name","nrd","type","number","autocomplete","off","pattern","^[0-9]+$",1,"form-control",3,"ngModel","required","min","ngStyle","ngModelChange"],["nrd","ngModel"],["name","nrr","type","number","autocomplete","off","pattern","^[0-9]+$",1,"form-control",3,"ngModel","required","min","ngStyle","ngModelChange"],["nrr","ngModel"],[1,"col-1",2,"width","1%"],[1,"warning-wrapper","mr-1","mt-5"],[1,"fa-solid","fa-question-circle","warning-button",2,"color","#f0bc00","font-size","1.5rem"],[1,"warning-panel"],["src","assets/img/pruebas/riesgo.png","alt","Riesgo"],[1,"col-2",2,"width","8%"],["name","idClasificacion","appendTo","body","bindLabel","nombre","bindValue","idClasificacion",1,"select-custom","custom-width",3,"items","required","ngModel","placeholder","notFoundText","ngClass","ngModelChange"],["idClasificacion","ngModel"],["name","idOrigenObservacion","appendTo","body","bindLabel","nombre","bindValue","idOrigenObservacion",1,"select-custom","custom-width",3,"items","required","ngModel","placeholder","notFoundText","ngModelChange"],["idOrigenObservacion","ngModel"],[1,"col-2",2,"width","50%"],["name","elaboradoPor","type","text","autocomplete","off",1,"form-control",3,"ngModel","required","ngModelChange"],["elaboradoPor","ngModel"],[1,"subseccion"],["name","idProyectoRevSeg","appendTo","body","bindLabel","nombre","bindValue","idProyectoRevSeg",1,"select-custom","custom-width",3,"items","required","ngModel","placeholder","notFoundText","ngModelChange"],["idProyectoRevSeg","ngModel"],[1,"col-2",2,"width","15%"],[1,"switch"],["id","observacionAtendida","name","observacionAtendida","type","checkbox",1,"accent",3,"ngModel","ngModelChange"],[1,"slider","round"],[1,"on"],[1,"off"],[4,"ngIf"],[1,"col-md-4"],[3,"label","nombreArchivo","archivo","fechaEvidencia","tipoMime","id","contieneAyuda","downl_endpoint","idRegistroArchivo","archivoDto","idArchivoDescarga"],[1,"col-md-2","mt-2"],[1,"picture-button",3,"click"],["src","assets/img/svg/svg-ico-15x15-adentro_circulo-naranja-Camara.svg",1,"icono"],[1,"col-md-2","mt-3"],[1,"label-input"],["type","text","autocomplete","off","placeholder","dd/mm/aaaa","bsDatepicker","",1,"form-control",3,"ngModel","name","bsConfig","ngModelChange"],[1,"fa-regular","fa-calendar-days"],[1,"col-md-3","mt-3"],[1,"contenedor-flex","contenedor-btn","d-flex"],[1,"circle-button",3,"click"],["src","assets/img/svg/svg-ico-18x18-Boton-Circular-Naranja-Agregar.svg",1,"icono","mr-1","mt-4"],["src","assets/img/svg/svg-ico-18x18-Boton-Circular-Gris-Eliminar.svg",1,"icono","ml-1","mt-4"],[1,"error"],[3,"idRevSegObservaciones"],["type","button",1,"btn-secundario","flex-shrink-1",3,"click"],["type","button","form","form",1,"btn-primario",3,"disabled","click"]],template:function(t,r){1&t&&(e.TgZ(0,"app-modal-base",0,1),e.YNc(2,dt,133,67,"ng-template",null,2,e.W1O),e.YNc(4,ut,4,1,"ng-template",null,3,e.W1O),e.qZA()),2&t&&e.Q6J("titulo","Revisi\xf3n de Seguridad - "+r.nombreEntidad+" - "+r.accion)},dependencies:[Oe.x,B.Np,B.Y5,K.w9,W.B,a.mk,a.sg,a.O5,a.PC,m._Y,m.Fj,m.wV,m.Wl,m.JJ,m.JL,m.Q7,m.c5,m.qQ,m.On,m.F,j,a.Ov],styles:[".switch[_ngcontent-%COMP%]{top:4px;height:calc(1.5em + .75rem + 7px);width:100px}.slider[_ngcontent-%COMP%]{border:none}.slider[_ngcontent-%COMP%]:before{background-color:#fff;bottom:7px}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]{background-color:#ed7031}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]:before{transform:translate(70px)}.on[_ngcontent-%COMP%], .off[_ngcontent-%COMP%]{font-family:Roboto}.off[_ngcontent-%COMP%]{padding-left:20px}.warning-wrapper[_ngcontent-%COMP%]{position:relative;font-weight:400;display:flex;justify-content:flex-start;align-items:flex-end}.warning-panel[_ngcontent-%COMP%]{position:absolute;top:100%;right:0;width:auto;height:auto;background:none;box-shadow:none;padding:0;z-index:-100}.warning-panel[_ngcontent-%COMP%]:hover{z-index:1003}.warning-panel[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:500px;min-width:300px;height:auto}.warning-button[_ngcontent-%COMP%]:hover + .warning-panel[_ngcontent-%COMP%]{z-index:1003}.circle-button[_ngcontent-%COMP%]{background-color:transparent;border:0;align-items:center;justify-content:center;margin-top:5px}.picture-button[_ngcontent-%COMP%]{background-color:transparent;border:0;align-items:center;justify-content:center;margin-top:10px;margin-left:10px}.picture-button[_ngcontent-%COMP%]   img.icono[_ngcontent-%COMP%]{width:30px;height:30px}.date-input-container[_ngcontent-%COMP%]{position:relative;width:100%}.date-input-container[_ngcontent-%COMP%]   input[type=date][_ngcontent-%COMP%]{width:100%;padding-right:30px}.date-input-container[_ngcontent-%COMP%]   .fa-calendar-days[_ngcontent-%COMP%]{position:absolute;right:10px;top:50%;transform:translateY(-50%);pointer-events:none}.ng-select.blue[_ngcontent-%COMP%]  .ng-select-container{background-color:#00b0f0;color:#fff}.ng-select.red[_ngcontent-%COMP%]  .ng-select-container{background-color:red;color:#fff}.ng-select.purple[_ngcontent-%COMP%]  .ng-select-container{background-color:#7030a0;color:#fff}"]})}class re extends u.v{constructor(i,t,r,o){super(t,r,o),this.revSegObservacionService=i,this.isCollapsed=!0,this.HEADER_GRID="Observaciones",this.destroy$=new P.x,this.NOMBRE_ENTIDAD="Observaciones",this.crudConfig={nombreEntidad:this.NOMBRE_ENTIDAD,generoGramatical:"fem",nombrePropiedadId:"idRevSegObservaciones",formConfig:{ComponenteFormulario:oe,modalConfig:h.OS.Large,configAgregar:{acceso:F.Z3.Agregar,params:{idRevisionSeguridad:0}},configEditar:{acceso:F.Z3.Editar}},configEliminar:{acceso:F.Z3.Eliminar,elementToString:s=>`${s.idRevSegObservaciones}`}},this.columns=[{headerName:"Clave",field:"idRevSegObservaciones",minWidth:50,width:100},{headerName:"Peligro",field:"peligro",minWidth:50,width:100},{headerName:"Riesgo",field:"riesgo",minWidth:50,width:100},{headerName:"Tipo de Observaci\xf3n",field:"tipoObservacion",minWidth:50,width:100},{headerName:"Contratista",field:"contratista",minWidth:50,width:100},{headerName:"NR0",field:"nrd",minWidth:50,width:100},{headerName:"NRR",field:"nrr",minWidth:50,width:100},{headerName:"Clasificaci\xf3n",field:"clasificacion",minWidth:50,width:100},{headerName:"Origen de la Observaci\xf3n",field:"origen",minWidth:50,width:100},{headerName:"Elaborado Por",field:"elaboradoPor",minWidth:50,width:100},{headerName:"Proyecto",field:"proyecto",minWidth:50,width:100},{headerName:"Obsv. Atendida",field:"isObservacionAtendida",minWidth:50,width:100,valueGetter:s=>s.data.isObservacionAtendida?"Si":"No"}]}ngOnInit(){this.cargarDatos(this.idRevisionSeguridad)}consultarGrid(){return this.revSegObservacionService.consultarGrid(this.idRevisionSeguridad)}eliminar(i){throw new Error("Method not implemented.")}cargarDatos(i){this.idRevisionSeguridad=i,this.crudConfig?.formConfig?.configAgregar?.params&&(this.crudConfig.formConfig.configAgregar.params.idRevisionSeguridad=this.idRevisionSeguridad),super.onInit()}static#e=this.\u0275fac=function(t){return new(t||re)(e.Y36(Y),e.Y36(X.Q),e.Y36(L.tT),e.Y36(Z.V))};static#t=this.\u0275cmp=e.Xpm({type:re,selectors:[["app-rev-seg-observacion"]],inputs:{idRevisionSeguridad:"idRevisionSeguridad"},features:[e.qOj],decls:1,vars:4,consts:[["tituloBoton","Observaci\xf3n",3,"columns","crudConfig","elementos$","tieneAccesoAgregar$","agregarClick","gridClick"]],template:function(t,r){1&t&&(e.TgZ(0,"app-catalogo-base",0),e.NdJ("agregarClick",function(){return r.agregar()})("gridClick",function(s){return r.onGridClick(s)}),e.qZA()),2&t&&e.Q6J("columns",r.columns)("crudConfig",r.crudConfig)("elementos$",r.registros$)("tieneAccesoAgregar$",r.tieneAccesoAgregar$)},dependencies:[ee.B]})}const gt=["formulario"];function _t(c,i){1&c&&(e.TgZ(0,"div",64),e._uU(1," El Punto Kilom\xe9trico (PK) es requerido "),e.qZA())}function ht(c,i){1&c&&(e.TgZ(0,"div",64),e._uU(1," La Realizada por es requerida "),e.qZA())}function pt(c,i){1&c&&(e.TgZ(0,"div",64),e._uU(1," El Trabajo es requerido "),e.qZA())}function vt(c,i){1&c&&(e.TgZ(0,"div",64),e._uU(1," El Departamento es requerido "),e.qZA())}function mt(c,i){1&c&&(e.TgZ(0,"div",64),e._uU(1," El Contratista es requerido "),e.qZA())}function ft(c,i){1&c&&(e.TgZ(0,"div",64),e._uU(1," La platica de seguridad es requerida "),e.qZA())}function bt(c,i){1&c&&(e.TgZ(0,"div",64),e._uU(1," El analisis de riesgos es requerido "),e.qZA())}function Ct(c,i){1&c&&(e.TgZ(0,"div",64),e._uU(1," La hoja de datos de seguridad es requerida "),e.qZA())}function At(c,i){1&c&&(e.TgZ(0,"div",64),e._uU(1," La solicitud de trabajos peligrosos es requerida "),e.qZA())}function Mt(c,i){1&c&&(e.TgZ(0,"div",64),e._uU(1," El checklist de vehiculo es requerido "),e.qZA())}function Ot(c,i){1&c&&(e.TgZ(0,"div",64),e._uU(1," El checklist de maquinaria es requerido "),e.qZA())}function Tt(c,i){1&c&&(e.TgZ(0,"div",64),e._uU(1," El checklist de equipos generadores es requerido "),e.qZA())}function Rt(c,i){1&c&&(e.TgZ(0,"div",64),e._uU(1," El checklist de equipos para alturas es requerido "),e.qZA())}function xt(c,i){1&c&&(e.TgZ(0,"div",64),e._uU(1," El checklist de equipos de izaje es requerido "),e.qZA())}function St(c,i){1&c&&(e.TgZ(0,"div",64),e._uU(1," La licencia de manejo es requerida "),e.qZA())}function Et(c,i){1&c&&(e.TgZ(0,"div",64),e._uU(1," La tarjeta de ciruclacion es requerida "),e.qZA())}function Zt(c,i){1&c&&(e.TgZ(0,"div",64),e._uU(1," La p\xf3liza de seguro es requerida "),e.qZA())}function Pt(c,i){if(1&c&&(e.TgZ(0,"div")(1,"div",5),e._uU(2," Observaciones "),e.qZA(),e._UZ(3,"app-rev-seg-observacion",65),e.qZA()),2&c){const t=e.oxw(2);e.xp6(3),e.Q6J("idRevisionSeguridad",t.idEntidad)}}function yt(c,i){if(1&c){const t=e.EpF();e.TgZ(0,"form",3,4),e.NdJ("keydown.enter",function(o){return o.preventDefault()}),e.TgZ(2,"div",5),e._uU(3," General "),e.qZA(),e.TgZ(4,"div",6)(5,"div",7)(6,"div",8)(7,"label",9),e._uU(8,"Clave Revisi\xf3n de Seguridad"),e.qZA(),e.TgZ(9,"div")(10,"input",10,11),e.NdJ("ngModelChange",function(o){e.CHM(t);const s=e.oxw();return e.KtG(s.entidad.idRevisionSeguridad=o)}),e.qZA()()()(),e._UZ(12,"div",12),e.TgZ(13,"div",7)(14,"div",8)(15,"label",9),e._uU(16,"Hora (h)"),e.qZA(),e.TgZ(17,"div",13)(18,"input",14,15),e.NdJ("ngModelChange",function(o){e.CHM(t);const s=e.oxw();return e.KtG(s.hora=o)}),e.qZA()()()(),e._UZ(20,"div",12),e.TgZ(21,"div",12)(22,"div",8)(23,"label",16),e._uU(24,"Estatus"),e.qZA(),e.TgZ(25,"ng-select",17,18),e.NdJ("ngModelChange",function(o){e.CHM(t);const s=e.oxw();return e.KtG(s.entidad.estatus=o)}),e.qZA()()(),e.TgZ(27,"div",12)(28,"div",8)(29,"label",9),e._uU(30,"Fecha"),e.qZA(),e.TgZ(31,"div",13),e._UZ(32,"input",19),e.ALo(33,"date"),e._UZ(34,"i",20),e.qZA()()()(),e.TgZ(35,"div",5),e._uU(36," Tipo de Trabajo "),e.qZA(),e.TgZ(37,"div",6)(38,"div",21)(39,"div",8)(40,"label",9),e._uU(41,"Punto Kilom\xe9trico (PK)"),e.qZA(),e.TgZ(42,"div")(43,"input",22,23),e.NdJ("ngModelChange",function(o){e.CHM(t);const s=e.oxw();return e.KtG(s.entidad.puntoKilometrico=o)}),e.qZA(),e.YNc(45,_t,2,0,"div",24),e.qZA()()(),e._UZ(46,"div",25),e.TgZ(47,"div",21)(48,"div",8)(49,"label",9),e._uU(50,"Revisi\xf3n Realizada por"),e.qZA(),e.TgZ(51,"div")(52,"input",26,27),e.NdJ("ngModelChange",function(o){e.CHM(t);const s=e.oxw();return e.KtG(s.entidad.realizadaPor=o)}),e.qZA(),e.YNc(54,ht,2,0,"div",24),e.qZA()()(),e._UZ(55,"div",25),e.TgZ(56,"div",21)(57,"div",8)(58,"label",9),e._uU(59,"Trabajo"),e.qZA(),e.TgZ(60,"div")(61,"input",28,29),e.NdJ("ngModelChange",function(o){e.CHM(t);const s=e.oxw();return e.KtG(s.entidad.trabajo=o)}),e.qZA(),e.YNc(63,pt,2,0,"div",24),e.qZA()()()(),e.TgZ(64,"div",6)(65,"div",30)(66,"div",8)(67,"label",9),e._uU(68,"Resumen del proceso"),e.qZA(),e.TgZ(69,"div")(70,"textarea",31,32),e.NdJ("ngModelChange",function(o){e.CHM(t);const s=e.oxw();return e.KtG(s.entidad.resumenProceso=o)}),e.qZA()()()()(),e.TgZ(72,"div",6)(73,"div",33)(74,"div",8)(75,"label",9),e._uU(76,"Departamento"),e.qZA(),e.TgZ(77,"div")(78,"ng-select",34,35),e.NdJ("ngModelChange",function(o){e.CHM(t);const s=e.oxw();return e.KtG(s.entidad.idDepartamento=o)}),e.qZA(),e.YNc(80,vt,2,0,"div",24),e.qZA()()(),e._UZ(81,"div",36),e.TgZ(82,"div",33)(83,"div",8)(84,"label",9),e._uU(85,"Contratista"),e.qZA(),e.TgZ(86,"div")(87,"ng-select",37,38),e.NdJ("ngModelChange",function(o){e.CHM(t);const s=e.oxw();return e.KtG(s.entidad.idContratista=o)}),e.qZA(),e.YNc(89,mt,2,0,"div",24),e.qZA()()()(),e.TgZ(90,"div",5),e._uU(91," Revisi\xf3n Documental del Frente de Trabajo "),e.qZA(),e.TgZ(92,"div",6)(93,"div",33)(94,"div",8)(95,"label",9),e._uU(96,"Pl\xe1tica de seguridad"),e.qZA(),e.TgZ(97,"div")(98,"ng-select",39,40),e.NdJ("ngModelChange",function(o){e.CHM(t);const s=e.oxw();return e.KtG(s.entidad.platicaSeguridad=o)}),e.qZA(),e.YNc(100,ft,2,0,"div",24),e.qZA()()(),e._UZ(101,"div",36),e.TgZ(102,"div",33)(103,"div",8)(104,"label",9),e._uU(105,"An\xe1lisis de riesgos"),e.qZA(),e.TgZ(106,"div")(107,"ng-select",41,42),e.NdJ("ngModelChange",function(o){e.CHM(t);const s=e.oxw();return e.KtG(s.entidad.analisisRiesgos=o)}),e.qZA(),e.YNc(109,bt,2,0,"div",24),e.qZA()()(),e._UZ(110,"div",36),e.TgZ(111,"div",33)(112,"div",8)(113,"label",9),e._uU(114,"Hojas de Datos de Seguridad"),e.qZA(),e.TgZ(115,"div")(116,"ng-select",43,44),e.NdJ("ngModelChange",function(o){e.CHM(t);const s=e.oxw();return e.KtG(s.entidad.hojasDatosSeguridad=o)}),e.qZA(),e.YNc(118,Ct,2,0,"div",24),e.qZA()()()(),e.TgZ(119,"div",6)(120,"div",33)(121,"div",8)(122,"label",9),e._uU(123,"Solicitud de Trabajos Peligrosos"),e.qZA(),e.TgZ(124,"div")(125,"ng-select",45,46),e.NdJ("ngModelChange",function(o){e.CHM(t);const s=e.oxw();return e.KtG(s.entidad.solTrabajosPeligrosos=o)}),e.qZA(),e.YNc(127,At,2,0,"div",24),e.qZA()()(),e._UZ(128,"div",36),e.TgZ(129,"div",33)(130,"div",8)(131,"label",9),e._uU(132,"Checklist de Veh\xedculo"),e.qZA(),e.TgZ(133,"div")(134,"ng-select",47,48),e.NdJ("ngModelChange",function(o){e.CHM(t);const s=e.oxw();return e.KtG(s.entidad.checkVehiculo=o)}),e.qZA(),e.YNc(136,Mt,2,0,"div",24),e.qZA()()(),e._UZ(137,"div",36),e.TgZ(138,"div",33)(139,"div",8)(140,"label",9),e._uU(141,"Checklist de Maquinaria"),e.qZA(),e.TgZ(142,"div")(143,"ng-select",49,50),e.NdJ("ngModelChange",function(o){e.CHM(t);const s=e.oxw();return e.KtG(s.entidad.checkMaquinaria=o)}),e.qZA(),e.YNc(145,Ot,2,0,"div",24),e.qZA()()()(),e.TgZ(146,"div",6)(147,"div",33)(148,"div",8)(149,"label",9),e._uU(150,"Checklist de Equipos Generadores"),e.qZA(),e.TgZ(151,"div")(152,"ng-select",51,52),e.NdJ("ngModelChange",function(o){e.CHM(t);const s=e.oxw();return e.KtG(s.entidad.checkEquiposGeneradores=o)}),e.qZA(),e.YNc(154,Tt,2,0,"div",24),e.qZA()()(),e._UZ(155,"div",36),e.TgZ(156,"div",33)(157,"div",8)(158,"label",9),e._uU(159,"Checklist de Equipos para Alturas"),e.qZA(),e.TgZ(160,"div")(161,"ng-select",53,54),e.NdJ("ngModelChange",function(o){e.CHM(t);const s=e.oxw();return e.KtG(s.entidad.checkEquiposAlturas=o)}),e.qZA(),e.YNc(163,Rt,2,0,"div",24),e.qZA()()(),e._UZ(164,"div",36),e.TgZ(165,"div",33)(166,"div",8)(167,"label",9),e._uU(168,"Checklist de Equipos de Izaje"),e.qZA(),e.TgZ(169,"div")(170,"ng-select",55,56),e.NdJ("ngModelChange",function(o){e.CHM(t);const s=e.oxw();return e.KtG(s.entidad.checkEquiposIzaje=o)}),e.qZA(),e.YNc(172,xt,2,0,"div",24),e.qZA()()()(),e.TgZ(173,"div",6)(174,"div",33)(175,"div",8)(176,"label",9),e._uU(177,"Licencias de Manejo"),e.qZA(),e.TgZ(178,"div")(179,"ng-select",57,58),e.NdJ("ngModelChange",function(o){e.CHM(t);const s=e.oxw();return e.KtG(s.entidad.licenciasManejo=o)}),e.qZA(),e.YNc(181,St,2,0,"div",24),e.qZA()()(),e._UZ(182,"div",36),e.TgZ(183,"div",33)(184,"div",8)(185,"label",9),e._uU(186,"Tarjetas de Circulaci\xf3n"),e.qZA(),e.TgZ(187,"div")(188,"ng-select",59,60),e.NdJ("ngModelChange",function(o){e.CHM(t);const s=e.oxw();return e.KtG(s.entidad.tarjetasCirculacion=o)}),e.qZA(),e.YNc(190,Et,2,0,"div",24),e.qZA()()(),e._UZ(191,"div",36),e.TgZ(192,"div",33)(193,"div",8)(194,"label",9),e._uU(195,"P\xf3lizas de Seguro"),e.qZA(),e.TgZ(196,"div")(197,"ng-select",61,62),e.NdJ("ngModelChange",function(o){e.CHM(t);const s=e.oxw();return e.KtG(s.entidad.polizasSeguro=o)}),e.qZA(),e.YNc(199,Zt,2,0,"div",24),e.qZA()()()()(),e.YNc(200,Pt,4,1,"div",63)}if(2&c){const t=e.MAs(44),r=e.MAs(53),o=e.MAs(62),s=e.MAs(79),p=e.MAs(88),b=e.MAs(99),N=e.MAs(108),D=e.MAs(117),U=e.MAs(126),w=e.MAs(135),C=e.MAs(144),q=e.MAs(153),J=e.MAs(162),k=e.MAs(171),G=e.MAs(180),I=e.MAs(189),Ce=e.MAs(198),g=e.oxw();e.xp6(10),e.Q6J("ngModel",g.entidad.idRevisionSeguridad),e.xp6(8),e.Q6J("ngModel",g.hora)("required",!0),e.xp6(7),e.Q6J("items",g.idsEstatusList)("placeholder",g.placeHolderSelect)("notFoundText",g.placeHolderNoOptions)("ngModel",g.entidad.estatus)("multiple",!1)("closeOnSelect",!1),e.xp6(7),e.Q6J("value",e.xi3(33,89,g.fecha,"dd/MM/yyyy"))("required",!0),e.xp6(11),e.Q6J("ngModel",g.entidad.puntoKilometrico),e.xp6(2),e.Q6J("ngIf",(null==t.errors?null:t.errors.required)&&t.touched),e.xp6(7),e.Q6J("ngModel",g.entidad.realizadaPor),e.xp6(2),e.Q6J("ngIf",(null==r.errors?null:r.errors.required)&&r.touched),e.xp6(7),e.Q6J("ngModel",g.entidad.trabajo),e.xp6(2),e.Q6J("ngIf",(null==o.errors?null:o.errors.required)&&o.touched),e.xp6(7),e.Q6J("ngModel",g.entidad.resumenProceso),e.xp6(8),e.Q6J("ngModel",g.entidad.idDepartamento)("items",g.departamentos)("placeholder",g.placeHolderSelect)("notFoundText",g.placeHolderNoOptions),e.xp6(2),e.Q6J("ngIf",(null==s.errors?null:s.errors.required)&&s.touched),e.xp6(7),e.Q6J("ngModel",g.entidad.idContratista)("items",g.contratistas)("placeholder",g.placeHolderSelect)("notFoundText",g.placeHolderNoOptions),e.xp6(2),e.Q6J("ngIf",(null==p.errors?null:p.errors.required)&&p.touched),e.xp6(9),e.Q6J("ngModel",g.entidad.platicaSeguridad)("items",g.simbolos)("placeholder",g.placeHolderSelect)("notFoundText",g.placeHolderNoOptions),e.xp6(2),e.Q6J("ngIf",(null==b.errors?null:b.errors.required)&&b.touched),e.xp6(7),e.Q6J("ngModel",g.entidad.analisisRiesgos)("items",g.simbolos)("placeholder",g.placeHolderSelect)("notFoundText",g.placeHolderNoOptions),e.xp6(2),e.Q6J("ngIf",(null==N.errors?null:N.errors.required)&&N.touched),e.xp6(7),e.Q6J("ngModel",g.entidad.hojasDatosSeguridad)("items",g.simbolos)("placeholder",g.placeHolderSelect)("notFoundText",g.placeHolderNoOptions),e.xp6(2),e.Q6J("ngIf",(null==D.errors?null:D.errors.required)&&D.touched),e.xp6(7),e.Q6J("ngModel",g.entidad.solTrabajosPeligrosos)("items",g.simbolos)("placeholder",g.placeHolderSelect)("notFoundText",g.placeHolderNoOptions),e.xp6(2),e.Q6J("ngIf",(null==U.errors?null:U.errors.required)&&U.touched),e.xp6(7),e.Q6J("ngModel",g.entidad.checkVehiculo)("items",g.simbolos)("placeholder",g.placeHolderSelect)("notFoundText",g.placeHolderNoOptions),e.xp6(2),e.Q6J("ngIf",(null==w.errors?null:w.errors.required)&&w.touched),e.xp6(7),e.Q6J("ngModel",g.entidad.checkMaquinaria)("items",g.simbolos)("placeholder",g.placeHolderSelect)("notFoundText",g.placeHolderNoOptions),e.xp6(2),e.Q6J("ngIf",(null==C.errors?null:C.errors.required)&&C.touched),e.xp6(7),e.Q6J("ngModel",g.entidad.checkEquiposGeneradores)("items",g.simbolos)("placeholder",g.placeHolderSelect)("notFoundText",g.placeHolderNoOptions),e.xp6(2),e.Q6J("ngIf",(null==q.errors?null:q.errors.required)&&q.touched),e.xp6(7),e.Q6J("ngModel",g.entidad.checkEquiposAlturas)("items",g.simbolos)("placeholder",g.placeHolderSelect)("notFoundText",g.placeHolderNoOptions),e.xp6(2),e.Q6J("ngIf",(null==J.errors?null:J.errors.required)&&J.touched),e.xp6(7),e.Q6J("ngModel",g.entidad.checkEquiposIzaje)("items",g.simbolos)("placeholder",g.placeHolderSelect)("notFoundText",g.placeHolderNoOptions),e.xp6(2),e.Q6J("ngIf",(null==k.errors?null:k.errors.required)&&k.touched),e.xp6(7),e.Q6J("ngModel",g.entidad.licenciasManejo)("items",g.simbolos)("placeholder",g.placeHolderSelect)("notFoundText",g.placeHolderNoOptions),e.xp6(2),e.Q6J("ngIf",(null==G.errors?null:G.errors.required)&&G.touched),e.xp6(7),e.Q6J("ngModel",g.entidad.tarjetasCirculacion)("items",g.simbolos)("placeholder",g.placeHolderSelect)("notFoundText",g.placeHolderNoOptions),e.xp6(2),e.Q6J("ngIf",(null==I.errors?null:I.errors.required)&&I.touched),e.xp6(7),e.Q6J("ngModel",g.entidad.polizasSeguro)("items",g.simbolos)("placeholder",g.placeHolderSelect)("notFoundText",g.placeHolderNoOptions),e.xp6(2),e.Q6J("ngIf",(null==Ce.errors?null:Ce.errors.required)&&Ce.touched),e.xp6(1),e.Q6J("ngIf",!g.esAgregar)}}function Dt(c,i){if(1&c){const t=e.EpF();e.TgZ(0,"button",66),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.cancelar())}),e._uU(1," Cancelar "),e.qZA(),e.TgZ(2,"button",67),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onSubmit(o.formulario))}),e._uU(3," Guardar "),e.qZA()}if(2&c){const t=e.oxw();e.xp6(2),e.Q6J("disabled",t.submiting)}}class ne extends R.P{constructor(i,t,r,o,s,p){super(i),this.contratoService=t,this.departamentoService=r,this.revisionSeguridadService=o,this.revisionDocumentalService=s,this.estatusRevisionSeguridadService=p,this.deshabilitarAgregar=!1,this.destroy$=new P.x,this.esAgregar=!1,this.placeHolderSelect=O.g.PLACEHOLDER_DROPDOWN,this.placeHolderNoOptions=O.g.PLACEHOLDER_DROPDOWN_NO_OPTIONS,this.submiting=!1,this.idsEstatusList=[]}ngOnInit(){var i=()=>super.onInit,t=this;return(0,A.Z)(function*(){i().call(t),t.selectorContratista(),t.selectorDepartamento(),t.selectorRevisionDocumental(),t.consultarEstatus(),t.accion===x.V_.Agregar&&!t.idEntidad&&(t.esAgregar=!0,t.fecha=new Date,t.hora=t.fecha.toTimeString().substring(0,5))})()}ngOnDestroy(){this.destroy$.next()}consultar(i){return this.revisionSeguridadService.consultar(i).pipe((0,n.b)(t=>{console.log(t),this.fecha=new Date(t.fechaHoraRev),this.hora=this.fecha.toTimeString().substring(0,5)}))}agregar(i){return this.revisionSeguridadService.agregar(i)}editar(i){return this.revisionSeguridadService.editar(i)}selectorContratista(){this.contratoService.selectorContratista().subscribe(i=>{this.contratistas=i})}selectorDepartamento(){this.departamentoService.consultarTodosParaSelector().subscribe(i=>{this.departamentos=i})}selectorRevisionDocumental(){this.revisionDocumentalService.selector().subscribe(i=>{this.simbolos=i})}consultarEstatus(){this.estatusRevisionSeguridadService.consultarParaSelector().subscribe(i=>{this.idsEstatusList=i})}static#e=this.\u0275fac=function(t){return new(t||ne)(e.Y36(Z.V),e.Y36(E.d),e.Y36(d._),e.Y36(f),e.Y36(T.D),e.Y36(S))};static#t=this.\u0275cmp=e.Xpm({type:ne,selectors:[["app-revision-seguridad-formulario"]],viewQuery:function(t,r){if(1&t&&e.Gf(gt,5),2&t){let o;e.iGM(o=e.CRH())&&(r.formulario=o.first)}},features:[e.qOj],decls:5,vars:1,consts:[[3,"titulo"],["modalBody",""],["modalFooter",""],["id","form","novalidate","novalidate",3,"keydown.enter"],["formulario","ngForm"],[1,"subseccion"],[1,"row"],[1,"col-md-2",2,"width","25%"],[1,"form-group"],[1,"label-input","required-label"],["name","Clave","type","text","disabled","on","maxlength","50",1,"form-control",3,"ngModel","ngModelChange"],["Clave","ngModel"],[1,"col-md-1",2,"width","12.5%"],[1,"date-input-container"],["name","Hora","type","time","disabled","",1,"form-control",3,"ngModel","required","ngModelChange"],["Hora","ngModel"],[1,"label-input"],["name","idEstatusName","bindLabel","descripcion","bindValue","idEstatusRevisionSeguridad",3,"items","placeholder","notFoundText","ngModel","multiple","closeOnSelect","ngModelChange"],["idEstatusLst","ngModel"],["type","text","disabled","",1,"form-control",3,"value","required"],[1,"fa-regular","fa-calendar-days"],[1,"col-md-2",2,"width","30%"],["name","puntoKilometrico","required","","type","text","maxlength","50",1,"form-control",3,"ngModel","ngModelChange"],["puntoKilometrico","ngModel"],["class","error",4,"ngIf"],[1,"col-md-1",2,"width","5%"],["name","RealizadaPor","type","text","required","","maxlength","50",1,"form-control",3,"ngModel","ngModelChange"],["RealizadaPor","ngModel"],["name","Trabajo","required","","type","text","maxlength","50",1,"form-control",3,"ngModel","ngModelChange"],["Trabajo","ngModel"],[1,"col-md-8",2,"width","100%"],["name","ResumenProceso","rows","6",1,"form-control-g",3,"ngModel","ngModelChange"],["ResumenProceso","ngModel"],[1,"col-2",2,"width","30%"],["name","idDepartamento","bindLabel","nombre","bindValue","idDepartamento","required","",3,"ngModel","items","placeholder","notFoundText","ngModelChange"],["idDepartamento","ngModel"],[1,"col-1",2,"width","5%"],["name","idContratista","bindLabel","nombre","bindValue","id","required","",3,"ngModel","items","placeholder","notFoundText","ngModelChange"],["idContratista","ngModel"],["name","platicaSeguridad","bindLabel","value","bindValue","id",3,"ngModel","items","placeholder","notFoundText","ngModelChange"],["platicaSeguridad","ngModel"],["name","AnalisisRiesgos","bindLabel","value","bindValue","id",3,"ngModel","items","placeholder","notFoundText","ngModelChange"],["AnalisisRiesgos","ngModel"],["name","HojasDatosSeguridad","bindLabel","value","bindValue","id",3,"ngModel","items","placeholder","notFoundText","ngModelChange"],["HojasDatosSeguridad","ngModel"],["name","SolTrabajosPeligrosos","bindLabel","value","bindValue","id",3,"ngModel","items","placeholder","notFoundText","ngModelChange"],["SolTrabajosPeligrosos","ngModel"],["name","CheckVehiculo","bindLabel","value","bindValue","id",3,"ngModel","items","placeholder","notFoundText","ngModelChange"],["CheckVehiculo","ngModel"],["name","CheckMaquinaria","bindLabel","value","bindValue","id",3,"ngModel","items","placeholder","notFoundText","ngModelChange"],["CheckMaquinaria","ngModel"],["name","CheckEquiposGeneradores","bindLabel","value","bindValue","id",3,"ngModel","items","placeholder","notFoundText","ngModelChange"],["CheckEquiposGeneradores","ngModel"],["name","CheckEquiposAlturas","bindLabel","value","bindValue","id",3,"ngModel","items","placeholder","notFoundText","ngModelChange"],["CheckEquiposAlturas","ngModel"],["name","CheckEquiposIzaje","bindLabel","value","bindValue","id",3,"ngModel","items","placeholder","notFoundText","ngModelChange"],["CheckEquiposIzaje","ngModel"],["name","LicenciasManejo","bindLabel","value","bindValue","id",3,"ngModel","items","placeholder","notFoundText","ngModelChange"],["LicenciasManejo","ngModel"],["name","TarjetasCirculacion","bindLabel","value","bindValue","id",3,"ngModel","items","placeholder","notFoundText","ngModelChange"],["TarjetasCirculacion","ngModel"],["name","PolizasSeguro","bindLabel","value","bindValue","id",3,"ngModel","items","placeholder","notFoundText","ngModelChange"],["PolizasSeguro","ngModel"],[4,"ngIf"],[1,"error"],[3,"idRevisionSeguridad"],["type","button",1,"btn-secundario","mr-3",3,"click"],["type","submit","form","form",1,"btn-primario","btn-margin-left",3,"disabled","click"]],template:function(t,r){1&t&&(e.TgZ(0,"app-modal-base",0),e.YNc(1,yt,201,92,"ng-template",null,1,e.W1O),e.YNc(3,Dt,4,1,"ng-template",null,2,e.W1O),e.qZA()),2&t&&e.Q6J("titulo",r.nombreEntidad+" - "+r.accion)},dependencies:[a.O5,m._Y,m.Fj,m.JJ,m.JL,m.Q7,m.nD,m.On,m.F,W.B,K.w9,re,a.uU],styles:[".date-input-container{position:relative;width:100%}.date-input-container input[type=date]{width:100%;padding-right:30px}.date-input-container .fa-calendar-days{position:absolute;right:10px;top:50%;transform:translateY(-50%);pointer-events:none}textarea{padding-top:10px;padding-left:10px;width:100%}.img-center{display:flex;justify-content:space-evenly}\n"],encapsulation:2})}class Ut{}var Ft=l(12846),Re=l(8816);function Nt(c,i){1&c&&e._UZ(0,"i",22)}function wt(c,i){1&c&&e._UZ(0,"i",23)}class ae extends u.v{constructor(i,t,r,o,s,p){super(r,o,s),this.revisionSeguridadService=i,this.formularioService=t,this.estatusRevisionSeguridadService=p,this.placeHolderSelect=O.g.PLACEHOLDER_DROPDOWN,this.placeHolderNoOptions=O.g.PLACEHOLDER_DROPDOWN_NO_OPTIONS,this.idsEstatusList=[],this.idsEstatusSeleccionados=[],this.isCollapsed=!0,this.buscando=!1,this.HEADER_GRID="Revisi\xf3n de Seguridad",this.NOMBRE_ENTIDAD="Revisi\xf3n de Seguridad",this.riesgoList=[],this.filtro=new Ut,this.destroy$=new P.x,this.crudConfig={nombreEntidad:this.NOMBRE_ENTIDAD,generoGramatical:"fem",nombrePropiedadId:"idRevisionSeguridad",formConfig:{ComponenteFormulario:ne,modalConfig:h.OS.Large,configAgregar:{acceso:F.hA.Agregar},configEditar:{acceso:F.hA.Editar}},configEliminar:{acceso:F.hA.Eliminar,elementToString:b=>`${b.idRevisionSeguridad}`}},this.columns=[{headerName:"Clave",field:"idRevisionSeguridad",minWidth:50,width:100},{headerName:"Estatus",field:"estatus",minWidth:50,width:100},{headerName:"Fecha",field:"fechaHoraRevision",minWidth:100,width:100,cellRenderer:b=>b.value?new Date(b.value).toLocaleDateString():""},{headerName:"Punto Kilom\xe9trico (PK)",field:"puntoKilometrico",minWidth:50,width:120},{headerName:"Revision Realizada Por",field:"realizadaPor",minWidth:50,width:120},{headerName:"Trabajo",field:"trabajo",minWidth:70,width:100},{headerName:"Departamento",field:"departamento",minWidth:70,width:100},{headerName:"Contratista",field:"contratista",minWidth:70,width:100}]}ngOnInit(){super.onInit(),this.consultarEstatus()}consultarGrid(){return this.filtro={idsEstatus:[]},this.revisionSeguridadService.consultarParaGrid(this.filtro)}eliminar(i){return this.revisionSeguridadService.eliminar(i)}isCollapsedFunction(){this.isCollapsed=!this.isCollapsed,this.isCollapsed?this.height="calc(80vh - 55px)":this.height="calc(64vh - 55px)"}enviarFormulario(i){i.valid?this.registros$=this.revisionSeguridadService.consultarParaGrid({idsEstatus:this.idsEstatusSeleccionados}).pipe((0,n.b)(t=>{this.riesgoList=t})):this.formularioService.validarCamposRequeridos(i)}consultarEstatus(){this.estatusRevisionSeguridadService.consultarParaSelector().subscribe(i=>{this.idsEstatusList=i})}static#e=this.\u0275fac=function(t){return new(t||ae)(e.Y36(f),e.Y36(Ft.Y),e.Y36(X.Q),e.Y36(L.tT),e.Y36(Z.V),e.Y36(S))};static#t=this.\u0275cmp=e.Xpm({type:ae,selectors:[["app-revision-seguridad"]],features:[e.qOj],decls:26,vars:14,consts:[[1,"cuerpo-contenedor"],["novalidate","novalidate",3,"keydown.enter","ngSubmit"],["formulario","ngForm"],[3,"collapse","isAnimated"],[1,"row"],[1,"col-md-4"],[1,"form-group"],[1,"label-input"],["name","idEstatusName","bindLabel","descripcion","bindValue","idEstatusRevisionSeguridad",3,"items","placeholder","notFoundText","ngModel","multiple","closeOnSelect","ngModelChange"],["idEstatusLst","ngModel"],[1,"col-md-2"],[1,"row","mb-4"],[1,"col-md-12","text-center"],["type","submit",1,"btn-primario",3,"click"],[1,"form-row","panel-busqueda","mb-4"],[1,"panel-carga-elementos","center-element-vertically",3,"click"],[1,"titulo-panel"],[1,"arow-down-up"],["class","fa fa-chevron-down",4,"ngIf"],["class","fa fa-chevron-up",4,"ngIf"],[1,"col-md-12"],["titulo","Revisi\xf3n de Seguridad","tituloBoton","Revisi\xf3n de Seguridad",3,"columns","crudConfig","elementos$","tieneAccesoAgregar$","agregarClick","gridClick"],[1,"fa","fa-chevron-down"],[1,"fa","fa-chevron-up"]],template:function(t,r){if(1&t){const o=e.EpF();e.TgZ(0,"div",0)(1,"form",1,2),e.NdJ("keydown.enter",function(p){return p.preventDefault()})("ngSubmit",function(){e.CHM(o);const p=e.MAs(2);return e.KtG(r.enviarFormulario(p))}),e.TgZ(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"label",7),e._uU(8,"Estatus"),e.qZA(),e.TgZ(9,"ng-select",8,9),e.NdJ("ngModelChange",function(p){return r.idsEstatusSeleccionados=p}),e.qZA()()()(),e._UZ(11,"div",10),e.TgZ(12,"div",11)(13,"div",12)(14,"button",13),e.NdJ("click",function(){e.CHM(o);const p=e.MAs(2);return e.KtG(r.enviarFormulario(p))}),e._uU(15,"Buscar"),e.qZA()()()()(),e.TgZ(16,"div",14)(17,"div",15),e.NdJ("click",function(){return r.isCollapsed=!r.isCollapsed}),e.TgZ(18,"span",16),e._uU(19,"Panel de B\xfasqueda"),e.qZA(),e.TgZ(20,"span",17),e.YNc(21,Nt,1,0,"i",18),e.YNc(22,wt,1,0,"i",19),e.qZA()()(),e.TgZ(23,"div",4)(24,"div",20)(25,"app-catalogo-base",21),e.NdJ("agregarClick",function(){return r.agregar()})("gridClick",function(p){return r.onGridClick(p)}),e.qZA()()()()}2&t&&(e.xp6(3),e.Q6J("collapse",r.isCollapsed)("isAnimated",!0),e.xp6(6),e.Q6J("items",r.idsEstatusList)("placeholder",r.placeHolderSelect)("notFoundText",r.placeHolderNoOptions)("ngModel",r.idsEstatusSeleccionados)("multiple",!0)("closeOnSelect",!1),e.xp6(12),e.Q6J("ngIf",r.isCollapsed),e.xp6(1),e.Q6J("ngIf",!r.isCollapsed),e.xp6(3),e.Q6J("columns",r.columns)("crudConfig",r.crudConfig)("elementos$",r.registros$)("tieneAccesoAgregar$",r.tieneAccesoAgregar$))},dependencies:[a.O5,ee.B,Re.Y,K.w9,m._Y,m.JJ,m.JL,m.On,m.F]})}var xe=l(13050);const qt=[{path:"revision-documental",loadChildren:()=>l.e(2989).then(l.bind(l,42989)).then(c=>c.RevisionDocumentalModule)},{path:"tipo-observacion",loadChildren:()=>l.e(997).then(l.bind(l,30997)).then(c=>c.TipoObservacionModule)},{path:"proyecto-rev-seg",loadChildren:()=>l.e(9564).then(l.bind(l,19564)).then(c=>c.ProyectoRevSegModule)},{path:"clasificacion",loadChildren:()=>l.e(7970).then(l.bind(l,47970)).then(c=>c.ClasificacionModule)},{path:"reporte",loadChildren:()=>l.e(9738).then(l.bind(l,79738)).then(c=>c.ReporteControlCumplimientoRevisionesModule)},{path:"origen-observacion",loadChildren:()=>l.e(2692).then(l.bind(l,72692)).then(c=>c.OrigenObservacionModule)},{path:"",component:ae,canActivate:[xe.m],data:{title:"Consulta",acceso:F.hA.Consultar}}];class se{static#e=this.\u0275fac=function(t){return new(t||se)};static#t=this.\u0275mod=e.oAB({type:se});static#i=this.\u0275inj=e.cJS({imports:[v.Bz.forChild(qt),v.Bz]})}var ce=l(13024),It=l(59241),z=l(92020),Lt=l(37084),Jt=l(30872),be=l(98520),le=l(43876),Se=l(41283),Ee=l(71436);const kt=[{path:"",component:j,canActivate:[xe.m],data:{title:"Consulta",acceso:F.Fh.Consultar}}];class de{static#e=this.\u0275fac=function(t){return new(t||de)};static#t=this.\u0275mod=e.oAB({type:de});static#i=this.\u0275inj=e.cJS({imports:[v.Bz.forChild(kt),v.Bz]})}class ue{static#e=this.\u0275fac=function(t){return new(t||ue)};static#t=this.\u0275mod=e.oAB({type:ue});static#i=this.\u0275inj=e.cJS({providers:[$.Z],imports:[be.G,B.kn.forRoot(),K.A0,le.m81,ce.u,a.ez,m.u5]})}class ge{static#e=this.\u0275fac=function(t){return new(t||ge)};static#t=this.\u0275mod=e.oAB({type:ge});static#i=this.\u0275inj=e.cJS({providers:[H],imports:[a.ez,z.A,Se.Z,le.zkK,Ee.a,ue]})}class _e{static#e=this.\u0275fac=function(t){return new(t||_e)};static#t=this.\u0275mod=e.oAB({type:_e});static#i=this.\u0275inj=e.cJS({imports:[a.ez,m.u5,ce.u,K.A0,le.P4_,be.G,B.kn,z.A,ge]})}class he{static#e=this.\u0275fac=function(t){return new(t||he)};static#t=this.\u0275mod=e.oAB({type:he});static#i=this.\u0275inj=e.cJS({imports:[de,a.ez,z.A,Se.Z,L.zk.forChild(),Ee.a,_e]})}class pe{static#e=this.\u0275fac=function(t){return new(t||pe)};static#t=this.\u0275mod=e.oAB({type:pe});static#i=this.\u0275inj=e.cJS({providers:[$.Z],imports:[be.G,B.kn.forRoot(),K.A0,le.m81,ce.u,a.ez,m.u5,he]})}class ve{static#e=this.\u0275fac=function(t){return new(t||ve)};static#t=this.\u0275mod=e.oAB({type:ve});static#i=this.\u0275inj=e.cJS({imports:[a.ez,z.A,pe]})}class me{static#e=this.\u0275fac=function(t){return new(t||me)};static#t=this.\u0275mod=e.oAB({type:me});static#i=this.\u0275inj=e.cJS({imports:[a.ez,m.u5,ce.u,K.A0,It.P4,z.A,Lt.To,Jt.k,ve]})}class fe{static#e=this.\u0275fac=function(t){return new(t||fe)};static#t=this.\u0275mod=e.oAB({type:fe});static#i=this.\u0275inj=e.cJS({imports:[a.ez,se,me,z.A,Re.f,K.A0,m.u5]})}},8816:(y,M,l)=>{l.d(M,{Y:()=>h,f:()=>A});var a=l(37340),v=l(94650);const u="400ms cubic-bezier(0.4,0.0,0.2,1)",P=[(0,a.oB)({height:0,visibility:"hidden"}),(0,a.jt)(u,(0,a.oB)({height:"*",visibility:"visible"}))],n=[(0,a.oB)({height:"*",visibility:"visible"}),(0,a.jt)(u,(0,a.oB)({height:0,visibility:"hidden"}))];class h{constructor(O,x,e){this._el=O,this._renderer=x,this.collapsed=new v.vpe,this.collapses=new v.vpe,this.expanded=new v.vpe,this.expands=new v.vpe,this.isExpanded=!0,this.collapseNewValue=!0,this.isCollapsed=!1,this.isCollapse=!0,this.isCollapsing=!1,this.isAnimated=!1,this._display="block",this._stylesLoaded=!1,this._COLLAPSE_ACTION_NAME="collapse",this._EXPAND_ACTION_NAME="expand",this._factoryCollapseAnimation=e.build(n),this._factoryExpandAnimation=e.build(P)}set display(O){this._display=O,"none"!==O?this.isAnimated?this.toggle():this.show():this.hide()}set collapse(O){this.collapseNewValue=O,(!this._player||this._isAnimationDone)&&(this.isExpanded=O,this.toggle())}get collapse(){return this.isExpanded}ngAfterViewChecked(){this._stylesLoaded=!0,this._player&&this._isAnimationDone&&(this._player.reset(),this._renderer.setStyle(this._el.nativeElement,"height","*"))}toggle(){this.isExpanded?this.hide():this.show()}hide(){this.isCollapsing=!0,this.isExpanded=!1,this.isCollapsed=!0,this.isCollapsing=!1,this.collapses.emit(this),this._isAnimationDone=!1,this.animationRun(this.isAnimated,this._COLLAPSE_ACTION_NAME)(()=>{this._isAnimationDone=!0,this.collapseNewValue!==this.isCollapsed&&this.isAnimated?this.show():(this.collapsed.emit(this),this._renderer.setStyle(this._el.nativeElement,"display","none"))})}show(){this._renderer.setStyle(this._el.nativeElement,"display",this._display),this.isCollapsing=!0,this.isExpanded=!0,this.isCollapsed=!1,this.isCollapsing=!1,this.expands.emit(this),this._isAnimationDone=!1,this.animationRun(this.isAnimated,this._EXPAND_ACTION_NAME)(()=>{this._isAnimationDone=!0,this.collapseNewValue!==this.isCollapsed&&this.isAnimated?this.hide():(this.expanded.emit(this),this._renderer.removeStyle(this._el.nativeElement,"overflow"))})}animationRun(O,x){if(!O||!this._stylesLoaded)return Z=>Z();this._renderer.setStyle(this._el.nativeElement,"overflow","hidden"),this._renderer.addClass(this._el.nativeElement,"collapse");const e=x===this._EXPAND_ACTION_NAME?this._factoryExpandAnimation:this._factoryCollapseAnimation;return this._player&&this._player.reset(),this._player=e.create(this._el.nativeElement),this._player.play(),Z=>this._player?.onDone(Z)}}h.\u0275fac=function(O){return new(O||h)(v.Y36(v.SBq),v.Y36(v.Qsj),v.Y36(a._j))},h.\u0275dir=v.lG2({type:h,selectors:[["","collapse",""]],hostVars:9,hostBindings:function(O,x){2&O&&(v.uIk("aria-hidden",x.isCollapsed),v.ekj("collapse",x.isCollapse)("in",x.isExpanded)("show",x.isExpanded)("collapsing",x.isCollapsing))},inputs:{display:"display",isAnimated:"isAnimated",collapse:"collapse"},outputs:{collapsed:"collapsed",collapses:"collapses",expanded:"expanded",expands:"expands"},exportAs:["bs-collapse"]});class A{static forRoot(){return{ngModule:A,providers:[]}}}A.\u0275fac=function(O){return new(O||A)},A.\u0275mod=v.oAB({type:A}),A.\u0275inj=v.cJS({})},59241:(y,M,l)=>{l.d(M,{AH:()=>O,P4:()=>Z,wW:()=>x});var a=l(94650),v=l(36895);function u(E,d){if(1&E){const _=a.EpF();a.TgZ(0,"span",7),a.NdJ("click",function(T){a.CHM(_);const S=a.oxw().$implicit,m=a.oxw();return T.preventDefault(),a.KtG(m.removeTab(S))}),a._uU(1," \u274c"),a.qZA()}}const P=function(E){return["nav-item",E]};function n(E,d){if(1&E){const _=a.EpF();a.TgZ(0,"li",3),a.NdJ("keydown",function(T){const m=a.CHM(_).index,W=a.oxw();return a.KtG(W.keyNavActions(T,m))}),a.TgZ(1,"a",4),a.NdJ("click",function(){const S=a.CHM(_).$implicit;return a.KtG(S.active=!0)}),a.TgZ(2,"span",5),a._uU(3),a.qZA(),a.YNc(4,u,2,0,"span",6),a.qZA()()}if(2&E){const _=d.$implicit;a.ekj("active",_.active)("disabled",_.disabled),a.Q6J("ngClass",a.VKq(15,P,_.customClass||"")),a.xp6(1),a.ekj("active",_.active)("disabled",_.disabled),a.uIk("aria-controls",_.id?_.id:"")("aria-selected",!!_.active)("id",_.id?_.id+"-link":""),a.xp6(1),a.Q6J("ngTransclude",_.headingRef),a.xp6(1),a.Oqu(_.heading),a.xp6(1),a.Q6J("ngIf",_.removable)}}class A{constructor(d){this.viewRef=d}set ngTransclude(d){this._ngTransclude=d,d&&this.viewRef.createEmbeddedView(d)}get ngTransclude(){return this._ngTransclude}}A.\u0275fac=function(d){return new(d||A)(a.Y36(a.s_b))},A.\u0275dir=a.lG2({type:A,selectors:[["","ngTransclude",""]],inputs:{ngTransclude:"ngTransclude"}});class R{constructor(){this.type="tabs",this.isKeysAllowed=!0,this.ariaLabel="Tabs"}}R.\u0275fac=function(d){return new(d||R)},R.\u0275prov=a.Yz7({token:R,factory:R.\u0275fac,providedIn:"root"});class O{constructor(d,_,f){this.renderer=_,this.elementRef=f,this.clazz=!0,this.tabs=[],this.classMap={},this.ariaLabel="Tabs",this.isDestroyed=!1,this._vertical=!1,this._justified=!1,this._type="tabs",this._isKeysAllowed=!0,Object.assign(this,d)}get vertical(){return this._vertical}set vertical(d){this._vertical=d,this.setClassMap()}get justified(){return this._justified}set justified(d){this._justified=d,this.setClassMap()}get type(){return this._type}set type(d){this._type=d,this.setClassMap()}get isKeysAllowed(){return this._isKeysAllowed}set isKeysAllowed(d){this._isKeysAllowed=d}ngOnDestroy(){this.isDestroyed=!0}addTab(d){this.tabs.push(d),d.active=1===this.tabs.length&&!d.active}removeTab(d,_={reselect:!0,emit:!0}){const f=this.tabs.indexOf(d);if(-1!==f&&!this.isDestroyed){if(_.reselect&&d.active&&this.hasAvailableTabs(f)){const T=this.getClosestTabIndex(f);this.tabs[T].active=!0}_.emit&&d.removed.emit(d),this.tabs.splice(f,1),d.elementRef.nativeElement.parentNode&&this.renderer.removeChild(d.elementRef.nativeElement.parentNode,d.elementRef.nativeElement)}}keyNavActions(d,_){if(!this.isKeysAllowed)return;const f=Array.from(this.elementRef.nativeElement.querySelectorAll(".nav-link"));if(13===d.keyCode||"Enter"===d.key||32===d.keyCode||"Space"===d.key)return d.preventDefault(),void f[_%f.length].click();if(39!==d.keyCode&&"RightArrow"!==d.key)if(37!==d.keyCode&&"LeftArrow"!==d.key)if(36!==d.keyCode&&"Home"!==d.key)if(35!==d.keyCode&&"End"!==d.key){if((46===d.keyCode||"Delete"===d.key)&&this.tabs[_].removable){if(this.removeTab(this.tabs[_]),f[_+1])return void f[(_+1)%f.length].focus();f[f.length-1]&&f[0].focus()}}else{d.preventDefault();let T,S=1,m=_;do{m-S<0?(m=f.length-1,T=f[m],S=0):T=f[m-S],S++}while(T.classList.contains("disabled"));T.focus()}else{d.preventDefault();let T,S=0;do{T=f[S%f.length],S++}while(T.classList.contains("disabled"));T.focus()}else{let T,S=1,m=_;do{m-S<0?(m=f.length-1,T=f[m],S=0):T=f[m-S],S++}while(T.classList.contains("disabled"));T.focus()}else{let T,S=1;do{T=f[(_+S)%f.length],S++}while(T.classList.contains("disabled"));T.focus()}}getClosestTabIndex(d){const _=this.tabs.length;if(!_)return-1;for(let f=1;f<=_;f+=1){const T=d-f,S=d+f;if(this.tabs[T]&&!this.tabs[T].disabled)return T;if(this.tabs[S]&&!this.tabs[S].disabled)return S}return-1}hasAvailableTabs(d){const _=this.tabs.length;if(!_)return!1;for(let f=0;f<_;f+=1)if(!this.tabs[f].disabled&&f!==d)return!0;return!1}setClassMap(){this.classMap={"nav-stacked":this.vertical,"flex-column":this.vertical,"nav-justified":this.justified,[`nav-${this.type}`]:!0}}}O.\u0275fac=function(d){return new(d||O)(a.Y36(R),a.Y36(a.Qsj),a.Y36(a.SBq))},O.\u0275cmp=a.Xpm({type:O,selectors:[["tabset"]],hostVars:2,hostBindings:function(d,_){2&d&&a.ekj("tab-container",_.clazz)},inputs:{vertical:"vertical",justified:"justified",type:"type"},ngContentSelectors:["*"],decls:4,vars:3,consts:[["role","tablist",1,"nav",3,"ngClass","click"],[3,"ngClass","active","disabled","keydown",4,"ngFor","ngForOf"],[1,"tab-content"],[3,"ngClass","keydown"],["href","javascript:void(0);","role","tab",1,"nav-link",3,"click"],[3,"ngTransclude"],["class","bs-remove-tab",3,"click",4,"ngIf"],[1,"bs-remove-tab",3,"click"]],template:function(d,_){1&d&&(a.F$t(),a.TgZ(0,"ul",0),a.NdJ("click",function(T){return T.preventDefault()}),a.YNc(1,n,5,17,"li",1),a.qZA(),a.TgZ(2,"div",2),a.Hsn(3),a.qZA()),2&d&&(a.Q6J("ngClass",_.classMap),a.uIk("aria-label",_.ariaLabel),a.xp6(1),a.Q6J("ngForOf",_.tabs))},dependencies:[v.mk,v.sg,v.O5,A],styles:["[_nghost-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   .nav-item.disabled[_ngcontent-%COMP%]   a.disabled[_ngcontent-%COMP%]{cursor:default}"]});class x{constructor(d,_,f){this.elementRef=_,this.renderer=f,this.disabled=!1,this.removable=!1,this.selectTab=new a.vpe,this.deselect=new a.vpe,this.removed=new a.vpe,this.addClass=!0,this.role="tabpanel",this._active=!1,this._customClass="",this.tabset=d,this.tabset.addTab(this)}get customClass(){return this._customClass}set customClass(d){this.customClass&&this.customClass.split(" ").forEach(_=>{this.renderer.removeClass(this.elementRef.nativeElement,_)}),this._customClass=d?d.trim():"",this.customClass&&this.customClass.split(" ").forEach(_=>{this.renderer.addClass(this.elementRef.nativeElement,_)})}get active(){return this._active}set active(d){if(this._active!==d){if(this.disabled&&d||!d)return void(this._active&&!d&&(this.deselect.emit(this),this._active=d));this._active=d,this.selectTab.emit(this),this.tabset.tabs.forEach(_=>{_!==this&&(_.active=!1)})}}get ariaLabelledby(){return this.id?`${this.id}-link`:""}ngOnInit(){this.removable=!!this.removable}ngOnDestroy(){this.tabset.removeTab(this,{reselect:!1,emit:!1})}}x.\u0275fac=function(d){return new(d||x)(a.Y36(O),a.Y36(a.SBq),a.Y36(a.Qsj))},x.\u0275dir=a.lG2({type:x,selectors:[["tab"],["","tab",""]],hostVars:7,hostBindings:function(d,_){2&d&&(a.uIk("id",_.id)("role",_.role)("aria-labelledby",_.ariaLabelledby),a.ekj("active",_.active)("tab-pane",_.addClass))},inputs:{heading:"heading",id:"id",disabled:"disabled",removable:"removable",customClass:"customClass",active:"active"},outputs:{selectTab:"selectTab",deselect:"deselect",removed:"removed"},exportAs:["tab"]});class e{constructor(d,_){_.headingRef=d}}e.\u0275fac=function(d){return new(d||e)(a.Y36(a.Rgc),a.Y36(x))},e.\u0275dir=a.lG2({type:e,selectors:[["","tabHeading",""]]});class Z{static forRoot(){return{ngModule:Z,providers:[]}}}Z.\u0275fac=function(d){return new(d||Z)},Z.\u0275mod=a.oAB({type:Z}),Z.\u0275inj=a.cJS({imports:[v.ez]})}}]);