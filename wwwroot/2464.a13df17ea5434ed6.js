"use strict";(self.webpackChunkroadis_app=self.webpackChunkroadis_app||[]).push([[2464],{93416:(B,O,l)=>{l.d(O,{U:()=>x});var s=l(94650),E=l(11481);class x{constructor(h){this.sanitizer=h}ngOnInit(){this.imageSrc=this.sanitizer.bypassSecurityTrustResourceUrl(`data:${this.archivoTipoMime};base64,${this.archivo}`)}cancelar(){this.onCloseCallback&&this.onCloseCallback(!0)}static#e=this.\u0275fac=function(M){return new(M||x)(s.Y36(E.H7))};static#t=this.\u0275cmp=s.Xpm({type:x,selectors:[["app-imagen-visor"]],inputs:{archivo:"archivo",nombreImagen:"nombreImagen",archivoTipoMime:"archivoTipoMime"},decls:12,vars:2,consts:[[1,"container-fluid"],[1,"row"],[1,"col-md-6","offset-md-3"],[1,"modal-content"],[1,"modal-header"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],["alt","Imagen",1,"img-fluid",3,"src"]],template:function(M,p){1&M&&(s.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div"),s._uU(6),s.qZA(),s.TgZ(7,"button",5),s.NdJ("click",function(){return p.cancelar()}),s.TgZ(8,"span",6),s._uU(9,"\xd7"),s.qZA()()(),s.TgZ(10,"div",7),s._UZ(11,"img",8),s.qZA()()()()()),2&M&&(s.xp6(6),s.Oqu(p.nombreImagen),s.xp6(5),s.Q6J("src",p.imageSrc,s.LSH))}})}},4837:(B,O,l)=>{l.d(O,{x:()=>D});var s=l(94650),E=l(19904),x=l(93416),T=l(44826),h=l(50986),M=l(20388),p=l(24006);const P=["inputArchivo"];class D{constructor(y,f){this.modalService=y,this.bsModalRef=f,this.label="Etiqueta",this.habilitado=!1,this.contieneAyuda=!0,this.archivoDto=new s.vpe,this.idArchivoDescarga=new s.vpe,this.idArchivoAyuda=new s.vpe}ngOnInit(){0==this.nombreArchivo.length&&(this.nombreArchivo="Archivo - Fecha - Hora")}previsualizar(){this.tipoMime.startsWith("image/")?this.previsualizarImagen():(this.bsModalRef=this.modalService.show(T.O,h.g.CONFIG_MODAL_DEFAULT),this.bsModalRef.content.archivo=this.archivo,this.bsModalRef.content.nombre=this.nombreArchivo,this.bsModalRef.content.archivoNombre=this.nombreArchivo,this.bsModalRef.content.onClose=y=>{this.bsModalRef.hide()})}previsualizarImagen(){const y={initialState:{archivo:this.archivo,nombreImagen:this.nombreArchivo,archivoTipoMime:this.tipoMime,onCloseCallback:f=>{this.bsModalRef.hide()}},...h.g.CONFIG_MODAL_DEFAULT};this.bsModalRef=this.modalService.show(x.U,y)}previsualizarAyuda(){this.idArchivoAyuda.emit(this.idRegistroArchivoAyuda)}fileChange(y){if(y.target.files&&y.target.files[0]){this.inputArchivo.control.markAsTouched();const f=new FileReader,m=y.target.files[0];f.readAsDataURL(m),f.onload=()=>{this.archivo=f.result.toString().split(",")[1],this.tipoMime=m.type,this.nombreArchivo=m.name;let d=new E.q;d.idArchivo=this.idRegistroArchivo,d.archivo=this.archivo,d.nombreArchivo=this.nombreArchivo,d.tipoMime=this.tipoMime,this.archivoDto.emit(d)}}}getElement(){document.getElementById(this.id).click()}descargarArchivo(){this.downl_endpoint(this.idRegistroArchivo).subscribe(f=>{if("vacio"!=f.tipoMime){let d,u=((f,m="",d=512)=>{const u=atob(f),v=[];for(let e=0;e<u.length;e+=d){const A=u.slice(e,e+d),R=new Array(A.length);for(let G=0;G<A.length;G++)R[G]=A.charCodeAt(G);const Q=new Uint8Array(R);v.push(Q)}return new Blob(v,{type:m})})(f.archivo,f.tipoMime);d=URL.createObjectURL(u);var m=document.createElement("a");m.href=d,m.download=f.nombreArchivo,m.click()}})}static#e=this.\u0275fac=function(f){return new(f||D)(s.Y36(M.tT),s.Y36(M.UZ))};static#t=this.\u0275cmp=s.Xpm({type:D,selectors:[["app-input-archivo"]],viewQuery:function(f,m){if(1&f&&s.Gf(P,5),2&f){let d;s.iGM(d=s.CRH())&&(m.inputArchivo=d.first)}},inputs:{label:"label",nombreArchivo:"nombreArchivo",archivo:"archivo",tipoMime:"tipoMime",fechaEvidencia:"fechaEvidencia",categoria:"categoria",habilitado:"habilitado",contieneAyuda:"contieneAyuda",id:"id",indice1:"indice1",indice2:"indice2",idRegistroArchivo:"idRegistroArchivo",idRegistroArchivoAyuda:"idRegistroArchivoAyuda",downl_endpoint:"downl_endpoint"},outputs:{archivoDto:"archivoDto",idArchivoDescarga:"idArchivoDescarga",idArchivoAyuda:"idArchivoAyuda"},decls:16,vars:8,consts:[[1,"form-group",2,"margin-top","40px"],[1,"label-input","required-label",2,"margin-left","30px","margin-top","-5px","font-size","12px"],[1,"d-flex","justify-content-around"],["type","button",1,"btn-subir",3,"disabled","click"],["src","assets/img/svg/ico-15x15-Boton-Circular-Naranja-Subir_Archivo-Cargar.svg",1,"icono"],["ngModel","","type","file","autocomplete","off",1,"col-md-7",3,"id","name","hidden","change"],["inputArchivo","ngModel"],["name","nombre","type","text","maxlength","100","readonly","","disabled","",1,"form-control",2,"height","calc(1.5em + 0.75rem + 7px)  !important",3,"ngModel","ngModelChange"],["nombre","ngModel"],["src","assets/img/svg/ico-15x15-Boton-Circular-Naranja-Ver_Archivo.svg",1,"icono"],["type","button",1,"btn-subir",3,"click"],["src","assets/img/svg/ico-15x15-Boton-Circular-Naranja-Descargar.svg",1,"icono"],["type","button",1,"btn-subir","btn-ayuda",3,"disabled","click"],["src","assets/img/svg/ico-15x15-Boton-Circular-Amarillo-Ayuda.svg",1,"icono"]],template:function(f,m){1&f&&(s.TgZ(0,"div",0)(1,"label",1),s._uU(2),s.qZA(),s.TgZ(3,"div",2)(4,"button",3),s.NdJ("click",function(){return m.getElement()}),s._UZ(5,"img",4),s.qZA(),s.TgZ(6,"input",5,6),s.NdJ("change",function(u){return m.fileChange(u)}),s.qZA(),s.TgZ(8,"input",7,8),s.NdJ("ngModelChange",function(u){return m.nombreArchivo=u}),s.qZA(),s.TgZ(10,"button",3),s.NdJ("click",function(){return m.previsualizar()}),s._UZ(11,"img",9),s.qZA(),s.TgZ(12,"button",10),s.NdJ("click",function(){return m.descargarArchivo()}),s._UZ(13,"img",11),s.qZA(),s.TgZ(14,"button",12),s.NdJ("click",function(){return m.previsualizarAyuda()}),s._UZ(15,"img",13),s.qZA()()()),2&f&&(s.xp6(2),s.Oqu(m.label),s.xp6(2),s.Q6J("disabled",m.habilitado),s.xp6(2),s.Q6J("id",m.id)("name",m.label)("hidden",!0),s.xp6(2),s.Q6J("ngModel",m.nombreArchivo),s.xp6(2),s.Q6J("disabled",m.habilitado),s.xp6(4),s.Q6J("disabled",!m.contieneAyuda))},dependencies:[p.Fj,p.JJ,p.nD,p.On],styles:["[_ngcontent-%COMP%]:root{--color-primario: #3f75d2;--color-primario-hover: #F9EFFB;--color-menu: #3f75d2}.btn-subir[_ngcontent-%COMP%]{font-size:small;color:#fbe5d6;padding:0;margin:1px 5px;height:calc(1.3em + .7rem + 6px);background-color:transparent;transition:.2s;border:none;color:#fff;font-size:14px;text-align:center;border-radius:20px;text-wrap:true;max-width:100%;max-height:100%;align-content:center}.form-control[_ngcontent-%COMP%]{color:gray}.icono[_ngcontent-%COMP%]{height:80%;background-color:transparent;border-radius:50%}.icono[_ngcontent-%COMP%]:hover{background-color:#f3f3f3}.btn-ayuda[_ngcontent-%COMP%]:disabled{opacity:0}"]})}},98520:(B,O,l)=>{l.d(O,{G:()=>T});var s=l(36895),E=l(24006),x=l(94650);class T{static#e=this.\u0275fac=function(p){return new(p||T)};static#t=this.\u0275mod=x.oAB({type:T});static#i=this.\u0275inj=x.cJS({imports:[s.ez,E.u5]})}},44826:(B,O,l)=>{l.d(O,{O:()=>x});var s=l(94650),E=l(3930);class x{constructor(){this.height="80vh"}ngOnInit(){}cancelar(){this.onClose(!0)}static#e=this.\u0275fac=function(M){return new(M||x)};static#t=this.\u0275cmp=s.Xpm({type:x,selectors:[["app-pdf-visor"]],inputs:{archivo:"archivo",nombre:"nombre",archivoNombre:"archivoNombre",height:"height"},decls:7,vars:6,consts:[[1,"modal-content"],[1,"modal-header"],["type","button","aria-label","Close",1,"close","pull-right",3,"click"],[1,"far","fa-times-circle"],[3,"base64Src","filenameForDownload","useBrowserLocale","zoom","height"]],template:function(M,p){1&M&&(s.TgZ(0,"div",0)(1,"div",1)(2,"div"),s._uU(3),s.qZA(),s.TgZ(4,"button",2),s.NdJ("click",function(){return p.cancelar()}),s._UZ(5,"i",3),s.qZA()(),s._UZ(6,"ngx-extended-pdf-viewer",4),s.qZA()),2&M&&(s.xp6(3),s.hij("",p.nombre," "),s.xp6(3),s.Q6J("base64Src",p.archivo)("filenameForDownload",p.archivoNombre)("useBrowserLocale",!0)("zoom","page-actual")("height",p.height))},dependencies:[E.S3]})}},19904:(B,O,l)=>{l.d(O,{q:()=>s});class s{}},8923:(B,O,l)=>{l.d(O,{X:()=>x});var s=l(94650),E=l(80529);class x{constructor(h){this.http=h,this.dataUrl="tipoGuia/"}consultarTodosParaSelector(){return this.http.get(this.dataUrl+"consultarTodosParaSelector")}consultar(h){return this.http.get(this.dataUrl+`consultar/${h}`)}consultarGeneral(){return this.http.get(this.dataUrl+"consultarGeneral")}agregar(h){return this.http.post(this.dataUrl+"agregar",h)}editar(h){return this.http.put(this.dataUrl+"editar",h)}eliminar(h){return this.http.delete(this.dataUrl+`eliminar/${h}`)}static#e=this.\u0275fac=function(M){return new(M||x)(s.LFG(E.eN))};static#t=this.\u0275prov=s.Yz7({token:x,factory:x.\u0275fac})}},94654:(B,O,l)=>{l.d(O,{d:()=>x});var s=l(94650),E=l(80529);class x{constructor(h){this.http=h,this.dataUrl="contrato/"}consultarParaGrid(){return this.http.get(this.dataUrl+"grid")}consultarParaGridParticipantes(h){return this.http.post(this.dataUrl+"gridParticipantes",h)}selectorContratosPadre(){return this.http.get(this.dataUrl+"selectorContratosPadre")}selectorContratista(h){return this.http.get(this.dataUrl+`selectorContratista/${h}`)}selectorAreas(){return this.http.get(this.dataUrl+"selectorArea")}selectorContrato(h){return this.http.post(this.dataUrl+"selectorContratos",h)}selectorLocaciones(){return this.http.get(this.dataUrl+"selectorLocaciones")}consultarParaFormulario(h){return this.http.get(this.dataUrl+`formulario/${h}`)}consultarParaConfigurar(h){return this.http.get(this.dataUrl+`guias/${h}`)}agregar(h){return console.log(h),this.http.post(this.dataUrl,h)}editarGeneral(h){return this.http.put(this.dataUrl+"general",h)}editarDocumentos(h){return this.http.put(this.dataUrl+"documentos",h)}editarAmbientales(h){return this.http.put(this.dataUrl+"ambientales",h)}eliminar(h){return this.http.delete(this.dataUrl+`${h}`)}editarTipoGuia(h,M){return this.http.post(this.dataUrl+`guias/${M}`,h)}consultarPromedios(h){return this.http.get(this.dataUrl+`promedios/${h}`)}static#e=this.\u0275fac=function(M){return new(M||x)(s.LFG(E.eN))};static#t=this.\u0275prov=s.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"})}},42464:(B,O,l)=>{l.r(O),l.d(O,{ContratoModule:()=>Fe});var s=l(36895),E=l(92020),x=l(41283),T=l(20388),h=l(71436),M=l(13024),p=l(24006),P=l(88796),D=l(94654),$=l(59241),y=l(98520),f=l(90061),m=l(62861),d=l(63405),u=l(84022),v=l(8923),C=l(91736),e=l(94650),A=l(80529);class R{constructor(n){this.http=n,this.dataUrl="guiaCumplimientoArchivo/"}consultarArchivo(n){return this.http.get(this.dataUrl+`consultarArchivo/${n}`)}static#e=this.\u0275fac=function(t){return new(t||R)(e.LFG(A.eN))};static#t=this.\u0275prov=e.Yz7({token:R,factory:R.\u0275fac,providedIn:"root"})}class Q{constructor(n){this.http=n,this.dataUrl="contratoMaterialDctos/"}consultarParaGrid(n){return this.http.get(this.dataUrl+`consultarParaGrid/${n}`)}eliminar(n){return this.http.delete(this.dataUrl+`eliminar/${n}`)}consultarDto(n){return this.http.get(this.dataUrl+`consultarDto/${n}`)}agregar(n){return this.http.post(this.dataUrl+"agregar",n)}editar(n){return this.http.put(this.dataUrl+"editar",n)}static#e=this.\u0275fac=function(t){return new(t||Q)(e.LFG(A.eN))};static#t=this.\u0275prov=e.Yz7({token:Q,factory:Q.\u0275fac,providedIn:"root"})}class G{constructor(n){this.http=n,this.dataUrl="contratoMaterialDctosArchivo/"}consultarArchivo(n){return this.http.get(this.dataUrl+`consultarArchivo/${n}`)}static#e=this.\u0275fac=function(t){return new(t||G)(e.LFG(A.eN))};static#t=this.\u0275prov=e.Yz7({token:G,factory:G.\u0275fac,providedIn:"root"})}class re{static#e=this.\u0275fac=function(t){return new(t||re)};static#t=this.\u0275mod=e.oAB({type:re});static#i=this.\u0275inj=e.cJS({providers:[u.P,v.X,C.n,R,Q,G],imports:[d.m,M.u,y.G,f.kn]})}class se{static#e=this.\u0275fac=function(t){return new(t||se)};static#t=this.\u0275mod=e.oAB({type:se});static#i=this.\u0275inj=e.cJS({providers:[Q],imports:[d.m,x.Z,re,E.A,T.zk.forChild(),s.ez,h.a]})}class ce{static#e=this.\u0275fac=function(t){return new(t||ce)};static#t=this.\u0275mod=e.oAB({type:ce});static#i=this.\u0275inj=e.cJS({providers:[u.P,v.X,C.n,R,Q,G],imports:[d.m,M.u,y.G,f.kn]})}class de{static#e=this.\u0275fac=function(t){return new(t||de)};static#t=this.\u0275mod=e.oAB({type:de});static#i=this.\u0275inj=e.cJS({providers:[u.P,v.X,C.n,R,Q,G],imports:[d.m,M.u,y.G,f.kn]})}class le{static#e=this.\u0275fac=function(t){return new(t||le)};static#t=this.\u0275mod=e.oAB({type:le});static#i=this.\u0275inj=e.cJS({providers:[D.d,m.Q],imports:[s.ez,p.u5,M.u,P.A0,$.P4,y.G,f.kn,se,E.A,ce,de]})}var Re=l(9116),w=l(86936),_e=l(27974),L=l(77579),ue=l(52522),pe=l(15861),me=l(70615),U=l(50986),j=l(82722),Ie=l(54004),k=l(18505),Ne=l(69751);class Je{}var ge=l(40675),Y=l(2060),he=l(383),z=l(44826),H=l(19904);class X{}var ee=l(90429),K=l(4837);const Qe=["formulario"];function $e(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"div",40),e.NdJ("id",function(){e.CHM(t);const o=e.oxw(2).index;return e.KtG(o)}),e.TgZ(1,"app-input-archivo",41),e.NdJ("archivoDto",function(o){e.CHM(t);const a=e.oxw().index,c=e.oxw().index,_=e.oxw().index,g=e.oxw(2);return e.KtG(g.recibirArchivo(o,a,c,_))})("idArchivoDescarga",function(o){e.CHM(t);const a=e.oxw(5);return e.KtG(a.descargarArchivo(o))})("idArchivoAyuda",function(o){e.CHM(t);const a=e.oxw(5);return e.KtG(a.previsualizarAyuda(o))}),e.qZA()()}if(2&r){const t=e.oxw(),i=t.index,o=t.$implicit,a=e.oxw().$implicit,c=e.oxw(3);e.xp6(1),e.Q6J("label",a.etiqueta)("id",a.etiqueta+i)("categoria",a.etiqueta)("archivo",o.archivo)("nombreArchivo",o.nombreArchivo)("tipoMime",o.tipoMime)("idRegistroArchivo",o.idContratoDctosEmpresaArchivo)("habilitado",!a.esRequerido||!c.entidad.esCarga)("contieneAyuda",a.contieneAyuda)("idRegistroArchivoAyuda",a.idArchivoAyuda)("downl_endpoint",c.downl_endpoint.bind(c))}}function He(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"div",18)(1,"label",19),e._uU(2),e.qZA(),e.TgZ(3,"div")(4,"input",42,43),e.NdJ("ngModelChange",function(o){e.CHM(t);const a=e.oxw().$implicit;return e.KtG(a.campoTexto=o)}),e.qZA()()()}if(2&r){const t=e.oxw().$implicit,i=e.oxw().$implicit,o=e.oxw(3);e.xp6(2),e.Oqu(i.etiqueta),e.xp6(2),e.Q6J("ngModel",t.campoTexto)("name",i.etiqueta)("disabled",!i.esRequerido||!o.entidad.esCarga)}}function Se(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"div",44)(1,"label",19),e._uU(2,"Fecha de Vencimiento"),e.qZA(),e.TgZ(3,"div",45)(4,"input",46),e.NdJ("ngModelChange",function(o){e.CHM(t);const a=e.oxw().$implicit;return e.KtG(a.fechaVencimiento=o)}),e.qZA(),e._UZ(5,"i",47),e.qZA()()}if(2&r){const t=e.oxw(),i=t.$implicit,o=t.index,a=e.oxw(),c=a.$implicit,_=a.index,g=e.oxw().index,b=e.oxw(2);e.xp6(4),e.Q6J("ngModel",i.fechaVencimiento)("name",c.etiqueta+o+_+g)("bsConfig",b.configDate)("disabled",!b.entidad.esCarga)}}function Be(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"div")(1,"button",50),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2),a=o.$implicit,c=o.index,_=e.oxw().index,g=e.oxw().index,b=e.oxw(2);return e.KtG(b.duplicarItem(a,c,_,g))}),e._UZ(2,"img",51),e.qZA()()}if(2&r){const t=e.oxw(6);e.xp6(1),e.Q6J("disabled",!t.entidad.esCarga)}}function Ye(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"div")(1,"button",50),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2).index,a=e.oxw().index,c=e.oxw().index,_=e.oxw(2);return e.KtG(_.eliminarItem(o,a,c))}),e._UZ(2,"img",52),e.qZA()()}if(2&r){const t=e.oxw(6);e.xp6(1),e.Q6J("disabled",!t.entidad.esCarga)}}function Le(r,n){if(1&r&&(e.TgZ(0,"div",48),e.YNc(1,Be,3,1,"div",49),e.YNc(2,Ye,3,1,"div",49),e.qZA()),2&r){const t=e.oxw().index,i=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf",t===i.archivos.length-1),e.xp6(1),e.Q6J("ngIf",0===t)}}function Ke(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"div",44)(1,"label",19),e._uU(2,"Observaciones"),e.qZA(),e.TgZ(3,"div")(4,"input",42),e.NdJ("ngModelChange",function(o){e.CHM(t);const a=e.oxw().$implicit;return e.KtG(a.observaciones=o)}),e.qZA()()()}if(2&r){const t=e.oxw(),i=t.$implicit,o=t.index,a=e.oxw(),c=a.$implicit,_=a.index,g=e.oxw(3);e.xp6(4),e.Q6J("ngModel",i.observaciones)("name",c.etiqueta+o+_)("disabled",!g.entidad.esEvaluador)}}function We(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"div")(1,"div",23),e.YNc(2,$e,2,11,"div",24),e.YNc(3,He,6,4,"div",25),e.TgZ(4,"div",26),e.YNc(5,Se,6,4,"div",27),e.qZA(),e.TgZ(6,"div",28),e.YNc(7,Le,3,2,"div",29),e.qZA(),e.TgZ(8,"div",30)(9,"div",31)(10,"label")(11,"input",32),e.NdJ("ngModelChange",function(o){const c=e.CHM(t).$implicit;return e.KtG(c.radioValor=o)}),e.qZA(),e._UZ(12,"i",33),e.qZA(),e.TgZ(13,"label")(14,"input",34),e.NdJ("ngModelChange",function(o){const c=e.CHM(t).$implicit;return e.KtG(c.radioValor=o)}),e.qZA(),e._UZ(15,"i",35),e.qZA(),e.TgZ(16,"label")(17,"input",36),e.NdJ("ngModelChange",function(o){const c=e.CHM(t).$implicit;return e.KtG(c.radioValor=o)}),e.qZA(),e._UZ(18,"i",37),e.qZA(),e.TgZ(19,"label")(20,"input",38),e.NdJ("ngModelChange",function(o){const c=e.CHM(t).$implicit;return e.KtG(c.radioValor=o)}),e.qZA(),e._UZ(21,"i",39),e.qZA()(),e.TgZ(22,"div"),e.YNc(23,Ke,5,3,"div",27),e.qZA()()()()}if(2&r){const t=n.$implicit,i=n.index,o=e.oxw().$implicit,a=e.oxw(3);e.xp6(2),e.Q6J("ngIf",o.esArchivo),e.xp6(1),e.Q6J("ngIf",o.esTexto),e.xp6(2),e.Q6J("ngIf",o.tieneFechaVencimiento),e.xp6(2),e.Q6J("ngIf",o.multiplesEntradas),e.xp6(4),e.Q6J("disabled",!a.entidad.esEvaluador)("ngModel",t.radioValor)("name",o.etiqueta+i),e.xp6(3),e.Q6J("disabled",!a.entidad.esEvaluador)("ngModel",t.radioValor)("name",o.etiqueta+i),e.xp6(3),e.Q6J("disabled",!a.entidad.esEvaluador)("ngModel",t.radioValor)("name",o.etiqueta+i),e.xp6(3),e.Q6J("disabled",!a.entidad.esEvaluador)("ngModel",t.radioValor)("name",o.etiqueta+i),e.xp6(3),e.Q6J("ngIf",o.ingresaObservaciones)}}function Ve(r,n){if(1&r&&(e.TgZ(0,"div"),e.YNc(1,We,24,17,"div",22),e.qZA()),2&r){const t=n.$implicit;e.xp6(1),e.Q6J("ngForOf",t.archivos)}}function je(r,n){if(1&r&&(e.TgZ(0,"div")(1,"div",16),e._uU(2),e.qZA(),e.YNc(3,Ve,2,1,"div",22),e.qZA()),2&r){const t=n.$implicit;e.xp6(2),e.hij(" ",t.seccion," "),e.xp6(1),e.Q6J("ngForOf",t.guias)}}function ze(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"form",4,5),e.NdJ("keydown.enter",function(o){return o.preventDefault()}),e.TgZ(2,"div",6),e._uU(3,"Resumen Cumplimiento"),e.qZA(),e.TgZ(4,"div",7)(5,"div",8)(6,"div",9)(7,"div",10)(8,"label",11),e._uU(9,"% Cumplimiento Materiales"),e.qZA(),e.TgZ(10,"div",12),e._UZ(11,"input",13)(12,"div",14),e.TgZ(13,"div",15),e._uU(14),e.qZA()()()()()(),e._UZ(15,"div",16),e.TgZ(16,"div",17)(17,"div",18)(18,"label",19),e._uU(19,"Sustancia"),e.qZA(),e.TgZ(20,"div")(21,"input",20,21),e.NdJ("ngModelChange",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.entidad.sustancia=o)}),e.qZA()()()(),e.YNc(23,je,4,2,"div",22),e.qZA()}if(2&r){const t=e.oxw();e.xp6(2),e.Q6J("hidden",t.ocultarAgregar),e.xp6(2),e.Q6J("hidden",t.ocultarAgregar),e.xp6(8),e.Udp("width",t.entidad.cumplimiento,"%"),e.xp6(2),e.hij("",t.entidad.cumplimiento,"%"),e.xp6(7),e.Q6J("ngModel",t.entidad.sustancia)("disabled",!t.entidad.esCarga),e.xp6(2),e.Q6J("ngForOf",t.entidad.materiales)}}function Xe(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"button",53),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.cancelar())}),e._uU(1," Cancelar "),e.qZA(),e.TgZ(2,"button",54),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onSubmit(o.formulario))}),e._uU(3," Guardar "),e.qZA()}if(2&r){const t=e.oxw();e.xp6(2),e.Q6J("disabled",t.submitting)}}class ve extends me.P{constructor(n,t,i,o,a,c,_,g){super(t),this.guiaCumplimientoService=n,this.modalService=i,this.bsModalRef=o,this.contratoRequisitosMaterialesService=a,this.guiaCumplimientoArchivoService=c,this.contratoMaterialDctosArchivoService=_,this.accesoService=g,this.descargando=!1,this.deshabilitarTexto=!1,this.deshabilitarAgregar=!1,this.ocultarAgregar=!1,this.configDate=U.g.CONFIG_DATEPICKER,this.destroy$=new L.x}ngOnInit(){var n=()=>super.onInit,t=this;return(0,pe.Z)(function*(){yield t.accesoService.tieneAcceso(w.bk.Evaluar).subscribe(i=>{t.entidad.esEvaluador=i}),yield t.accesoService.tieneAcceso(w.bk.CargarDescargarArchivos).subscribe(i=>{t.entidad.esCarga=i,t.entidad.esCarga&&(t.entidad.esEvaluador=!0)}),yield n().call(t),t.accion==ge.V_.Agregar&&(t.entidad.cumplimiento=0,t.ocultarAgregar=!0)})()}onSubmit(n){super.onSubmit(n)}esEditar(){return this.accion===U.g.MODAL_ACCION_EDITAR}consultar(n){return this.contratoRequisitosMaterialesService.consultarDto(n).pipe((0,j.R)(this.destroy$),(0,k.b)(t=>(this.entidad.sustancia=t.sustancia,this.entidad.materiales=t.materiales,t.esCarga=this.entidad.esCarga,t.esEvaluador=this.entidad.esEvaluador,t)))}agregar(n){return n.idContrato=this.idEntidad,n.materiales=new Array,this.contratoRequisitosMaterialesService.agregar(n)}editar(n){return this.contratoRequisitosMaterialesService.editar(n)}duplicarItem(n,t,i,o){let a=new X;a.fechaVencimiento=(0,ee.ii)(),a.archivo=null,a.nombreArchivo="",a.tipoMime="",a.agrego=n.agrego,a.observaciones="",a.radioValor="",this.entidad.materiales[o].guias[i].archivos[t].agrego=!this.entidad.materiales[o].guias[i].archivos[t].agrego,this.entidad.materiales[o].guias[i].archivos.splice(t+1,0,a)}eliminarItem(n,t,i){console.log(this.entidad),this.entidad.materiales[i].guias[t].archivos[n].agrego=!this.entidad.materiales[i].guias[t].archivos[n].agrego,this.entidad.materiales[i].guias[t].archivos.splice(n,1)}recibirArchivo(n,t,i,o){this.entidad.materiales[o].guias[i].archivos[t].archivo=n.archivo,this.entidad.materiales[o].guias[i].archivos[t].nombreArchivo=n.nombreArchivo,this.entidad.materiales[o].guias[i].archivos[t].tipoMime=n.tipoMime}downl_endpoint(n){return this.contratoMaterialDctosArchivoService.consultarArchivo(n)}descargarArchivo(n){let t=new H.q;this.contratoMaterialDctosArchivoService.consultarArchivo(n).pipe((0,k.b)(_=>{t=_}));let i,a=((_,g="",b=512)=>{const I=atob(_),N=[];for(let Z=0;Z<I.length;Z+=b){const F=I.slice(Z,Z+b),J=new Array(F.length);for(let q=0;q<F.length;q++)J[q]=F.charCodeAt(q);const S=new Uint8Array(J);N.push(S)}return new Blob(N,{type:g})})(t.archivo,t.tipoMime);i=URL.createObjectURL(a);var c=document.createElement("a");c.href=i,c.download=t.nombreArchivo,c.click()}previsualizarAyuda(n){let t=new H.q;this.guiaCumplimientoArchivoService.consultarArchivo(n).pipe((0,k.b)(i=>{t=i,this.bsModalRef=this.modalService.show(z.O,U.g.CONFIG_MODAL_DEFAULT),this.bsModalRef.content.archivo=t.archivo,this.bsModalRef.content.nombre=t.nombreArchivo,this.bsModalRef.content.archivoNombre=t.tipoMime,this.bsModalRef.content.onClose=o=>{this.bsModalRef.hide()}}))}ngOnDestroy(){this.destroy$.next()}static#e=this.\u0275fac=function(t){return new(t||ve)(e.Y36(u.P),e.Y36(Y.V),e.Y36(T.tT),e.Y36(T.UZ),e.Y36(Q),e.Y36(R),e.Y36(G),e.Y36(m.Q))};static#t=this.\u0275cmp=e.Xpm({type:ve,selectors:[["app-contrato-requisitos-materiales-formulario"]],viewQuery:function(t,i){if(1&t&&e.Gf(Qe,5),2&t){let o;e.iGM(o=e.CRH())&&(i.formulario=o.first)}},inputs:{idContrato:"idContrato"},features:[e.qOj],decls:6,vars:1,consts:[[3,"titulo"],["modal",""],["modalBody",""],["modalFooter",""],["id","form","novalidate","novalidate",3,"keydown.enter"],["formulario","ngForm"],[1,"subseccion",3,"hidden"],[1,"row",3,"hidden"],[1,"col-auto"],[1,"form-group","fg-width-1","percentage"],[2,"display","flex","flex-direction","column"],[1,"label-input","required-label"],[1,"progress-bar"],["type","text","disabled","",1,"form-control"],[1,"progress"],[1,"progress-label"],[1,"subseccion"],[1,"row"],[1,"col-md-4"],[1,"label-input"],["name","sustancia","type","text",1,"form-control",3,"ngModel","disabled","ngModelChange"],["sustancia","ngModel"],[4,"ngFor","ngForOf"],[1,"row","contenedor-flex-horizontal"],["class","col-md-4",3,"id",4,"ngIf"],["class","col-md-4",4,"ngIf"],[1,"col-md-2"],["class","form-group",4,"ngIf"],[1,"col-md-3"],["class","contenedor-flex",4,"ngIf"],[1,"col-md-3","contenedor-vertical"],[1,"contenedor-derecha"],["type","radio","value","Cumple",3,"disabled","ngModel","name","ngModelChange"],[1,"fa-solid","fa-check"],["type","radio","value","No cumple",3,"disabled","ngModel","name","ngModelChange"],[1,"fa-solid","fa-xmark"],["type","radio","value","Incompleto",3,"disabled","ngModel","name","ngModelChange"],[1,"fa-solid","fa-scissors"],["type","radio","value","No determinado",3,"disabled","ngModel","name","ngModelChange"],[1,"fa-solid","fa-circle"],[1,"col-md-4",3,"id"],[3,"label","id","categoria","archivo","nombreArchivo","tipoMime","idRegistroArchivo","habilitado","contieneAyuda","idRegistroArchivoAyuda","downl_endpoint","archivoDto","idArchivoDescarga","idArchivoAyuda"],["type","text",1,"form-control",3,"ngModel","name","disabled","ngModelChange"],["campoTexto","ngModel"],[1,"form-group"],[1,"date-input-container"],["id","fechaMinima","type","text","autocomplete","off","placement","top","placeholder","dd/mm/aaaa","bsDatepicker","",1,"form-control",3,"ngModel","name","bsConfig","disabled","ngModelChange"],[1,"fa-regular","fa-calendar-days"],[1,"contenedor-flex"],[4,"ngIf"],[1,"circle-button",3,"disabled","click"],["src","assets/img/svg/svg-ico-18x18-Boton-Circular-Naranja-Agregar.svg",1,"icono"],["src","assets/img/svg/svg-ico-18x18-Boton-Circular-Gris-Eliminar.svg",1,"icono"],["type","button",1,"btn-secundario","flex-shrink-1",3,"click"],["type","button","form","form",1,"btn-primario",3,"disabled","click"]],template:function(t,i){1&t&&(e.TgZ(0,"app-modal-base",0,1),e.YNc(2,ze,24,8,"ng-template",null,2,e.W1O),e.YNc(4,Xe,4,1,"ng-template",null,3,e.W1O),e.qZA()),2&t&&e.Q6J("titulo",i.nombreEntidad+" - "+i.accion)},dependencies:[p._Y,p.Fj,p._,p.JJ,p.JL,p.On,p.F,s.sg,s.O5,he.B,K.x,f.Np,f.Y5],styles:['@charset "UTF-8";.subtitulo[_ngcontent-%COMP%]{color:#ff6c00;padding-top:10px;border-top:1px #ff6c00 solid;margin-top:40px;margin-bottom:20px;width:100%}.image-box[_ngcontent-%COMP%]{display:flex;margin-top:25px;padding-left:15px;justify-items:center;align-items:center}.pointer[_ngcontent-%COMP%]{cursor:pointer}.switch[_ngcontent-%COMP%]   input.accent[_ngcontent-%COMP%]:checked + .slider.round[_ngcontent-%COMP%]{background-color:#ed7d31}.switch[_ngcontent-%COMP%]   input.accent[_ngcontent-%COMP%]:checked + .slider.round[_ngcontent-%COMP%]   .on[_ngcontent-%COMP%]{color:#fff}.circle-button[_ngcontent-%COMP%]{background-color:transparent}']})}var fe=l(85246);const et=["formulario"];class Ce extends _e.v{constructor(n,t,i,o,a){super(a,t,o),this.contratoService=n,this.modalService=t,this.contratoRequisitosMaterialesService=i,this.cancelarBtn=new e.vpe,this.submiting=!1,this.HEADER_GRID="Requisitos Materiales",this.destroy$=new L.x,this.NOMBRE_ENTIDAD="Material",this.columns=[{headerName:"Sustancia",field:"sustancia",minWidth:60,width:90},{headerName:"%Cumplimiento",field:"cumplimiento",minWidth:60,width:90}],this.crudConfig={nombreEntidad:this.NOMBRE_ENTIDAD,generoGramatical:"masc",nombrePropiedadId:"idContratoRequisitosMateriales",formConfig:{ComponenteFormulario:ve,modalConfig:ue.OS.Large,configAgregar:{acceso:w.bk.Agregar},configEditar:{acceso:w.bk.Modificar}},configEliminar:{acceso:w.bk.Eliminar,elementToString:c=>c.sustancia}}}ngOnInit(){super.onInit()}consultarGrid(){return this.consultarPromedios(),this.contratoRequisitosMaterialesService.consultarParaGrid(this.idContrato)}eliminar(n){return this.contratoRequisitosMaterialesService.eliminar(n)}cancelar(){this.cancelarBtn.emit(!0)}consultarPromedios(){this.contratoService.consultarPromedios(this.idContrato).subscribe(n=>{this.entidad.cumplMate=n.cumplMate})}static#e=this.\u0275fac=function(t){return new(t||Ce)(e.Y36(D.d),e.Y36(T.tT),e.Y36(Q),e.Y36(Y.V),e.Y36(m.Q))};static#t=this.\u0275cmp=e.Xpm({type:Ce,selectors:[["app-contrato-requisitos-materiales"]],viewQuery:function(t,i){if(1&t&&e.Gf(et,5),2&t){let o;e.iGM(o=e.CRH())&&(i.formulario=o.first)}},inputs:{heading:"heading",esEvaluador:"esEvaluador",esCarga:"esCarga",idContrato:"idContrato",entidad:"entidad"},outputs:{cancelarBtn:"cancelarBtn"},features:[e.qOj],decls:14,vars:7,consts:[[1,"subseccion"],[1,"row"],[1,"col-auto"],[1,"form-group","fg-width-1","percentage"],[2,"display","flex","flex-direction","column"],[1,"label-input","required-label"],[1,"progress-bar"],["type","text","disabled","",1,"form-control"],[1,"progress"],[1,"progress-label"],["titulo","Listado Materiales","tituloBoton","Material",3,"columns","crudConfig","elementos$","tieneAccesoAgregar$","agregarClick","gridClick"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e._uU(1,"Resumen Cumplimiento"),e.qZA(),e.TgZ(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",4)(6,"label",5),e._uU(7,"% Cumplimiento Materiales"),e.qZA(),e.TgZ(8,"div",6),e._UZ(9,"input",7)(10,"div",8),e.TgZ(11,"div",9),e._uU(12),e.qZA()()()()()(),e.TgZ(13,"app-catalogo-base",10),e.NdJ("agregarClick",function(){return i.agregar(i.idContrato)})("gridClick",function(a){return i.onGridClick(a)}),e.qZA()),2&t&&(e.xp6(10),e.Udp("width",i.entidad.cumplMate,"%"),e.xp6(2),e.hij("",i.entidad.cumplMate,"%"),e.xp6(1),e.Q6J("columns",i.columns)("crudConfig",i.crudConfig)("elementos$",i.registros$)("tieneAccesoAgregar$",i.tieneAccesoAgregar$))},dependencies:[fe.B],encapsulation:2})}var tt=l(49808);class be{}var Pe=l(46558);const it=["formulario"];function ot(r,n){1&r&&(e.TgZ(0,"div",47),e._uU(1," El n\xfamero de contrato es requerido "),e.qZA())}function nt(r,n){1&r&&(e.TgZ(0,"div",47),e._uU(1," El contrato padre es requerido "),e.qZA())}function at(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"div",4)(1,"div",23)(2,"label",7),e._uU(3,"Contrato padre"),e.qZA(),e.TgZ(4,"div")(5,"ng-select",48,49),e.NdJ("ngModelChange",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.entidad.general.contratoPadre=o)}),e.ALo(7,"async"),e.qZA()(),e.YNc(8,nt,2,0,"div",21),e.qZA()()}if(2&r){const t=e.MAs(6),i=e.oxw();e.xp6(5),e.Q6J("ngModel",i.entidad.general.contratoPadre)("items",e.lcZ(7,6,i.contratosPadre$))("placeholder",i.placeHolderSelect)("notFoundText",i.placeHolderNoOptions)("required",i.entidad.general.esSubcontrato),e.xp6(3),e.Q6J("ngIf",(null==t.errors?null:t.errors.required)&&t.touched)}}function rt(r,n){1&r&&(e.TgZ(0,"div",47),e._uU(1," El contratista es requerido "),e.qZA())}const st=function(){return{standalone:!0}};function ct(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"div",3)(1,"div",4)(2,"div",23)(3,"label",7),e._uU(4,"Contacto del contratista"),e.qZA(),e.TgZ(5,"div")(6,"ng-select",50),e.NdJ("ngModelChange",function(o){const c=e.CHM(t).$implicit;return e.KtG(c.id=o)})("change",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onContactosChange())}),e.qZA()()()(),e.TgZ(7,"div",4)(8,"div",23)(9,"button",51),e.NdJ("click",function(){const a=e.CHM(t).index,c=e.oxw();return e.KtG(a===c.selectedContacts.length-1?c.addContact():c.removeContact(a))}),e._uU(10),e.qZA()()()()}if(2&r){const t=n.$implicit,i=n.index,o=e.oxw();e.xp6(6),e.Q6J("placeholder",o.placeHolderSelect)("ngModel",t.id)("items",o.contactos)("notFoundText",o.placeHolderNoOptions)("ngModelOptions",e.DdM(10,st)),e.xp6(3),e.ekj("gray-btn-contr-gral",i!==o.selectedContacts.length-1)("orange-btn-contr-gral",i===o.selectedContacts.length-1),e.xp6(1),e.hij(" ",i===o.selectedContacts.length-1?"+":"-"," ")}}class xe{constructor(n,t){this.contratoService=n,this.usuarioService=t,this.placeHolderSelect=U.g.PLACEHOLDER_DROPDOWN,this.placeHolderNoOptions=U.g.PLACEHOLDER_DROPDOWN_NO_OPTIONS,this.submiting=!1,this.selectedContacts=[new be]}ngOnInit(){this.entidad.general.estatusContrato=!0,this.entidad.general.fechaAltaISO=(new Date).toISOString(),this.entidad.general.esSubcontrato=!1,this.consultarQuienRegistro(),this.selectorContratosPadre(),this.selectorContratista(),this.selectorAreas(),this.selectorLocaciones()}ngOnChanges(n){const t=n.entidad?.currentValue;if(null!=t?.general.idUsuarioContratista&&this.selectorContratista(t?.general?.idUsuarioContratista),null!=t?.general.idArea&&this.onAreaChange(t.general.idArea),null!=t?.cumplDocEmp){var i=[this.entidad.cumplDocEmp,this.entidad.cumplReqAmb,this.entidad.cumplPers,this.entidad.cumplEqui,this.entidad.cumplMate];const o=i.reduce((c,_)=>c+_,0),a=i.length;this.cumplGlobal=a>0?Math.floor(o/a*100)/100:0}}selectorContratosPadre(){this.contratosPadre$=this.contratoService.selectorContratosPadre()}selectorContratista(n){this.contratoService.selectorContratista(n).subscribe(t=>{this.contratistas=t;const i=this.entidad?.general?.idUsuarioContratista;i&&this.onContratistaChange(i)})}selectorAreas(){this.contratoService.selectorAreas().subscribe(n=>{this.areas=n})}selectorLocaciones(){this.contratoService.selectorLocaciones().subscribe(n=>{this.locaciones=n})}consultarQuienRegistro(){(0,tt.n)(this.usuarioService.consultarEncabezado()).then(n=>{this.entidad.general.quienRegistroNombre=n.nombre})}onContratistaChange(n){var t=this.contratistas.find(i=>i.id===n);t?.contactos&&(this.contactos=t.contactos),t&&(this.entidad.general?.idUsuarioContratista!=n&&(this.entidad.general.idUsuarioContratista=n),this.selectedContratista=n,this.selectedContacts=this.entidad.general.contactosContratista??[new be])}onAreaChange(n){var t=this.areas.find(i=>i.id=n);t&&(this.departamentos=t.departamentos)}addContact(){this.selectedContacts.push(new be)}removeContact(n){this.selectedContacts.splice(n,1)}onContactosChange(){this.entidad.general.contactosContratista=this.getUniqueContacts()}getUniqueContacts(){let n=new Set;return this.selectedContacts.filter(i=>!(!i.id||n.has(i.id))&&(n.add(i.id),!0))}static#e=this.\u0275fac=function(t){return new(t||xe)(e.Y36(D.d),e.Y36(Pe.i))};static#t=this.\u0275cmp=e.Xpm({type:xe,selectors:[["app-contrato-informacion-general"]],viewQuery:function(t,i){if(1&t&&e.Gf(it,5),2&t){let o;e.iGM(o=e.CRH())&&(i.formulario=o.first)}},inputs:{entidad:"entidad",heading:"heading"},features:[e.TTD],decls:177,vars:54,consts:[["id","form","novalidate","novalidate",3,"keydown.enter"],["formulario","ngForm"],[1,"subseccion"],[1,"row"],[1,"col-auto"],[1,"form-group","fg-width-1","percentage"],[2,"display","flex","flex-direction","column"],[1,"label-input","required-label"],[1,"progress-bar"],["type","text","disabled","",1,"form-control"],[1,"progress"],[1,"progress-label"],[1,"col-md-1"],[1,"col-md-3"],[1,"col-md-12"],[1,"form-group"],["name","nombre","rows","3",1,"form-control-g",3,"ngModel","ngModelChange"],["comentarios","ngModel"],[1,"form-group","fg-width-1"],["name","numContrato","type","text","maxlength","50",1,"form-control",3,"ngModel","required","ngModelChange"],["numContrato","ngModel"],["class","error",4,"ngIf"],["name","estatusContrato","type","text","maxlength","50","disabled","",1,"form-control",3,"value","required"],[1,"form-group","fg-width-2"],[1,"date-input-container"],["type","text","disabled","",1,"form-control",3,"value","required"],[1,"fa-regular","fa-calendar-days"],[1,"col"],["name","quienRegistro","type","text","maxlength","50","disabled","",1,"form-control",3,"value","required"],["for","estatus",1,"switch","mt-2"],["name","esSubcontrato","type","checkbox","id","estatus",3,"ngModel","ngModelChange"],["esSubcontrato","ngModel"],[1,"slider","round","h-0"],[1,"on"],[1,"off"],["class","col-auto",4,"ngIf"],["name","descripcionContrato","rows","3",1,"form-control-g",3,"ngModel","ngModelChange"],["descripcionContrato","ngModel"],["name","idUsuarioContratista","bindLabel","nombre","bindValue","id",3,"ngModel","placeholder","items","notFoundText","required","ngModelChange"],["idUsuarioContratista","ngModel"],["name","area","bindLabel","nombre","bindValue","id",3,"ngModel","placeholder","items","notFoundText","ngModelChange"],["area","ngModel"],["name","departamento","bindLabel","nombre","bindValue","id",3,"ngModel","placeholder","items","notFoundText","ngModelChange"],["name","locacion","bindLabel","nombre","bindValue","id",3,"ngModel","placeholder","items","notFoundText","ngModelChange"],["name","servicioContratista","type","text",1,"form-control",3,"ngModel","ngModelChange"],["servicioContratista","ngModel"],["class","row",4,"ngFor","ngForOf"],[1,"error"],["name","contratoPadre","bindLabel","numContrato","bindValue","idContrato",3,"ngModel","items","placeholder","notFoundText","required","ngModelChange"],["contratoPadre","ngModel"],["bindLabel","nombre","bindValue","id","appendTo","body",3,"placeholder","ngModel","items","notFoundText","ngModelOptions","ngModelChange","change"],["type","button",1,"circle-button-contr-gral",3,"click"]],template:function(t,i){if(1&t&&(e.TgZ(0,"form",0,1),e.NdJ("keydown.enter",function(a){return a.preventDefault()}),e.TgZ(2,"div",2),e._uU(3," Resumen Cumplimiento\n"),e.qZA(),e.TgZ(4,"div",3)(5,"div",4)(6,"div",5)(7,"div",6)(8,"label",7),e._uU(9,"% Empresa"),e.qZA(),e.TgZ(10,"div",8),e._UZ(11,"input",9)(12,"div",10),e.TgZ(13,"div",11),e._uU(14),e.qZA()()()()(),e.TgZ(15,"div",4)(16,"div",5)(17,"div",6)(18,"label",7),e._uU(19,"% Personal"),e.qZA(),e.TgZ(20,"div",8),e._UZ(21,"input",9)(22,"div",10),e.TgZ(23,"div",11),e._uU(24),e.qZA()()()()(),e._UZ(25,"div",12),e.TgZ(26,"div",4)(27,"div",5)(28,"div",6)(29,"label",7),e._uU(30,"% Materiales"),e.qZA(),e.TgZ(31,"div",8),e._UZ(32,"input",9)(33,"div",10),e.TgZ(34,"div",11),e._uU(35),e.qZA()()()()(),e.TgZ(36,"div",4)(37,"div",5)(38,"div",6)(39,"label",7),e._uU(40,"% Maquinaria y Equipo"),e.qZA(),e.TgZ(41,"div",8),e._UZ(42,"input",9)(43,"div",10),e.TgZ(44,"div",11),e._uU(45),e.qZA()()()()(),e._UZ(46,"div",12),e.TgZ(47,"div",4)(48,"div",5)(49,"div",6)(50,"label",7),e._uU(51,"% Req. Ambientales"),e.qZA(),e.TgZ(52,"div",8),e._UZ(53,"input",9)(54,"div",10),e.TgZ(55,"div",11),e._uU(56),e.qZA()()()()()(),e.TgZ(57,"div",3)(58,"div",13)(59,"div",5)(60,"div",6)(61,"label",7),e._uU(62,"% Cumplimiento Global"),e.qZA(),e.TgZ(63,"div",8),e._UZ(64,"input",9)(65,"div",10),e.TgZ(66,"div",11),e._uU(67),e.qZA()()()()()(),e.TgZ(68,"div",3)(69,"div",14)(70,"div",15)(71,"label",7),e._uU(72,"Comentarios de la evaluaci\xf3n"),e.qZA(),e.TgZ(73,"div")(74,"textarea",16,17),e.NdJ("ngModelChange",function(a){return i.entidad.general.comentarioEvaluacion=a}),e.qZA()()()()(),e.TgZ(76,"div",2),e._uU(77," Contrato\n"),e.qZA(),e.TgZ(78,"div",3)(79,"div",4)(80,"div",18)(81,"label",7),e._uU(82,"Contrato"),e.qZA(),e.TgZ(83,"div")(84,"input",19,20),e.NdJ("ngModelChange",function(a){return i.entidad.general.numContrato=a}),e.qZA()(),e.YNc(86,ot,2,0,"div",21),e.qZA()(),e.TgZ(87,"div",4)(88,"div",18)(89,"label",7),e._uU(90,"Estatus"),e.qZA(),e.TgZ(91,"div"),e._UZ(92,"input",22),e.qZA()()(),e._UZ(93,"div",12),e.TgZ(94,"div",4)(95,"div",23)(96,"label",7),e._uU(97,"Fecha Alta"),e.qZA(),e.TgZ(98,"div",24),e._UZ(99,"input",25),e.ALo(100,"date"),e._UZ(101,"i",26),e.qZA()()(),e._UZ(102,"div",12),e.TgZ(103,"div",27)(104,"div",15)(105,"label",7),e._uU(106,"Qui\xe9n registr\xf3"),e.qZA(),e.TgZ(107,"div"),e._UZ(108,"input",28),e.qZA()()()(),e.TgZ(109,"div",3)(110,"div",4)(111,"div",23)(112,"div",6)(113,"label",7),e._uU(114,"Es un subcontrato"),e.qZA(),e.TgZ(115,"label",29)(116,"input",30,31),e.NdJ("ngModelChange",function(a){return i.entidad.general.esSubcontrato=a}),e.qZA(),e.TgZ(118,"div",32)(119,"span",33),e._uU(120,"S\xed"),e.qZA(),e.TgZ(121,"span",34),e._uU(122,"No"),e.qZA()()()()()(),e._UZ(123,"div",12),e.YNc(124,at,9,8,"div",35),e.qZA(),e.TgZ(125,"div",3)(126,"div",14)(127,"div",15)(128,"label",7),e._uU(129,"Descripci\xf3n Contrato"),e.qZA(),e.TgZ(130,"div")(131,"textarea",36,37),e.NdJ("ngModelChange",function(a){return i.entidad.general.descripcionContrato=a}),e.qZA()()()()(),e.TgZ(133,"div",2),e._uU(134," Contratista\n"),e.qZA(),e.TgZ(135,"div",3)(136,"div",4)(137,"div",23)(138,"label",7),e._uU(139,"Contratista"),e.qZA(),e.TgZ(140,"div")(141,"ng-select",38,39),e.NdJ("ngModelChange",function(a){return i.selectedContratista=a})("ngModelChange",function(a){return i.onContratistaChange(a)}),e.qZA()(),e.YNc(143,rt,2,0,"div",21),e.qZA()(),e._UZ(144,"div",12),e.TgZ(145,"div",4)(146,"div",23)(147,"label",7),e._uU(148,"\xc1rea"),e.qZA(),e.TgZ(149,"div")(150,"ng-select",40,41),e.NdJ("ngModelChange",function(a){return i.entidad.general.idArea=a})("ngModelChange",function(a){return i.onAreaChange(a)}),e.qZA()()()(),e._UZ(152,"div",12),e.TgZ(153,"div",27)(154,"div",15)(155,"label",7),e._uU(156,"Departamento"),e.qZA(),e.TgZ(157,"div")(158,"ng-select",42),e.NdJ("ngModelChange",function(a){return i.entidad.general.idDepartamento=a}),e.qZA()()()()(),e.TgZ(159,"div",3)(160,"div",4)(161,"div",23)(162,"label",7),e._uU(163,"Locaci\xf3n"),e.qZA(),e.TgZ(164,"div")(165,"ng-select",43),e.NdJ("ngModelChange",function(a){return i.entidad.general.idLocacion=a}),e.qZA()()()(),e._UZ(166,"div",12),e.TgZ(167,"div",27)(168,"div",15)(169,"label",7),e._uU(170,"Servicio"),e.qZA(),e.TgZ(171,"div")(172,"input",44,45),e.NdJ("ngModelChange",function(a){return i.entidad.general.servicioContratista=a}),e.qZA()()()()(),e.TgZ(174,"div",2),e._uU(175," Contactos del contratista asignados al contratos\n"),e.qZA(),e.YNc(176,ct,11,11,"div",46),e.qZA()),2&t){const o=e.MAs(85),a=e.MAs(142);e.xp6(12),e.Udp("width",i.entidad.cumplDocEmp,"%"),e.xp6(2),e.hij("",i.entidad.cumplDocEmp,"%"),e.xp6(8),e.Udp("width",i.entidad.cumplPers,"%"),e.xp6(2),e.hij("",i.entidad.cumplPers,"%"),e.xp6(9),e.Udp("width",i.entidad.cumplMate,"%"),e.xp6(2),e.hij("",i.entidad.cumplMate,"%"),e.xp6(8),e.Udp("width",i.entidad.cumplEqui,"%"),e.xp6(2),e.hij("",i.entidad.cumplEqui,"%"),e.xp6(9),e.Udp("width",i.entidad.cumplReqAmb,"%"),e.xp6(2),e.hij("",i.entidad.cumplReqAmb,"%"),e.xp6(9),e.Udp("width",i.cumplGlobal,"%"),e.xp6(2),e.hij("",i.cumplGlobal,"%"),e.xp6(7),e.Q6J("ngModel",i.entidad.general.comentarioEvaluacion),e.xp6(10),e.Q6J("ngModel",i.entidad.general.numContrato)("required",!0),e.xp6(2),e.Q6J("ngIf",(null==o.errors?null:o.errors.required)&&o.touched),e.xp6(6),e.Q6J("value",i.entidad.general.estatusContrato?"Activo":"Inactivo")("required",!0),e.xp6(7),e.Q6J("value",e.xi3(100,51,i.entidad.general.fechaAltaISO,"dd/MM/yyyy"))("required",!0),e.xp6(9),e.Q6J("value",i.entidad.general.quienRegistroNombre)("required",!0),e.xp6(8),e.Q6J("ngModel",i.entidad.general.esSubcontrato),e.xp6(8),e.Q6J("ngIf",i.entidad.general.esSubcontrato),e.xp6(7),e.Q6J("ngModel",i.entidad.general.descripcionContrato),e.xp6(10),e.Q6J("ngModel",i.selectedContratista)("placeholder",i.placeHolderSelect)("items",i.contratistas)("notFoundText",i.placeHolderNoOptions)("required",!0),e.xp6(2),e.Q6J("ngIf",(null==a.errors?null:a.errors.required)&&a.touched),e.xp6(7),e.Q6J("ngModel",i.entidad.general.idArea)("placeholder",i.placeHolderSelect)("items",i.areas)("notFoundText",i.placeHolderNoOptions),e.xp6(8),e.Q6J("ngModel",i.entidad.general.idDepartamento)("placeholder",i.placeHolderSelect)("items",i.departamentos)("notFoundText",i.placeHolderNoOptions),e.xp6(7),e.Q6J("ngModel",i.entidad.general.idLocacion)("placeholder",i.placeHolderSelect)("items",i.locaciones)("notFoundText",i.placeHolderNoOptions),e.xp6(7),e.Q6J("ngModel",i.entidad.general.servicioContratista),e.xp6(4),e.Q6J("ngForOf",i.selectedContacts)}},dependencies:[s.sg,s.O5,p._Y,p.Fj,p.Wl,p.JJ,p.JL,p.Q7,p.nD,p.On,p.F,P.w9,s.Ov,s.uU],styles:[".circle-button-contr-gral{border-radius:50%;width:30px;height:30px;border:none}.gray-btn-contr-gral{background-color:#d0cece;color:#fff}.orange-btn-contr-gral{background-color:#ed7d31;color:#fff}.progress-label{color:#000}\n"],encapsulation:2})}class te{constructor(n){this.http=n,this.dataUrl="contratoDctosEmpresaArchivo/"}consultarArchivo(n){return this.http.get(this.dataUrl+`consultarArchivo/${n}`)}static#e=this.\u0275fac=function(t){return new(t||te)(e.LFG(A.eN))};static#t=this.\u0275prov=e.Yz7({token:te,factory:te.\u0275fac,providedIn:"root"})}const dt=["formulario"];function lt(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"div",30),e.NdJ("id",function(){e.CHM(t);const o=e.oxw(2).index;return e.KtG(o)}),e.TgZ(1,"app-input-archivo",31),e.NdJ("archivoDto",function(o){e.CHM(t);const a=e.oxw().index,c=e.oxw().index,_=e.oxw().index,g=e.oxw();return e.KtG(g.recibirArchivo(o,a,c,_))})("idArchivoDescarga",function(o){e.CHM(t);const a=e.oxw(4);return e.KtG(a.descargarArchivo(o))})("idArchivoAyuda",function(o){e.CHM(t);const a=e.oxw(4);return e.KtG(a.previsualizarAyuda(o))}),e.qZA()()}if(2&r){const t=e.oxw(),i=t.index,o=t.$implicit,a=e.oxw().$implicit,c=e.oxw(2);e.xp6(1),e.Q6J("label",a.etiqueta)("id",a.etiqueta+i)("categoria",a.etiqueta)("archivo",o.archivo)("nombreArchivo",o.nombreArchivo)("tipoMime",o.tipoMime)("idRegistroArchivo",o.idContratoDctosEmpresaArchivo)("habilitado",!a.esRequerido||!c.esCarga)("contieneAyuda",a.contieneAyuda)("idRegistroArchivoAyuda",a.idArchivoAyuda)("downl_endpoint",c.downl_endpoint.bind(c))}}function _t(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"div",32)(1,"label",33),e._uU(2),e.qZA(),e.TgZ(3,"div")(4,"input",34,35),e.NdJ("ngModelChange",function(o){e.CHM(t);const a=e.oxw().$implicit;return e.KtG(a.campoTexto=o)}),e.qZA()()()}if(2&r){const t=e.oxw().$implicit,i=e.oxw().$implicit,o=e.oxw(2);e.xp6(2),e.Oqu(i.etiqueta),e.xp6(2),e.Q6J("ngModel",t.campoTexto)("name",i.etiqueta)("disabled",!i.esRequerido||!o.esCarga)}}function ut(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"div",36)(1,"label",33),e._uU(2,"Fecha de Vencimiento"),e.qZA(),e.TgZ(3,"div",37)(4,"input",38),e.NdJ("ngModelChange",function(o){e.CHM(t);const a=e.oxw().$implicit;return e.KtG(a.fechaVencimiento=o)}),e.qZA(),e._UZ(5,"i",39),e.qZA()()}if(2&r){const t=e.oxw(),i=t.$implicit,o=t.index,a=e.oxw().index,c=e.oxw().index,_=e.oxw();e.xp6(4),e.Q6J("ngModel",i.fechaVencimiento)("name",i.nombreArchivo+o+a+c)("bsConfig",_.configDate)("disabled",!_.esCarga)}}function pt(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"div")(1,"button",42),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2),a=o.$implicit,c=o.index,_=e.oxw().index,g=e.oxw().index,b=e.oxw();return e.KtG(b.duplicarItem(a,c,_,g))}),e._UZ(2,"img",44),e.qZA()()}if(2&r){const t=e.oxw(5);e.xp6(1),e.Q6J("disabled",!t.esCarga)}}function mt(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"div",40),e.YNc(1,pt,3,1,"div",41),e.TgZ(2,"div")(3,"button",42),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().index,a=e.oxw().index,c=e.oxw().index,_=e.oxw();return e.KtG(_.eliminarItem(o,a,c))}),e._UZ(4,"img",43),e.qZA()()()}if(2&r){const t=e.oxw().index,i=e.oxw().$implicit,o=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t===i.archivos.length-1),e.xp6(2),e.Q6J("disabled",0===t&&1===i.archivos.length||!o.esCarga)}}function gt(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"div",36)(1,"label",33),e._uU(2,"Observaciones"),e.qZA(),e.TgZ(3,"div")(4,"input",34),e.NdJ("ngModelChange",function(o){e.CHM(t);const a=e.oxw().$implicit;return e.KtG(a.observaciones=o)}),e.qZA()()()}if(2&r){const t=e.oxw(),i=t.$implicit,o=t.index,a=e.oxw(),c=a.$implicit,_=a.index,g=e.oxw(2);e.xp6(4),e.Q6J("ngModel",i.observaciones)("name",c.etiqueta+o+_)("disabled",!g.esEvaluador)}}function ht(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"div")(1,"div",13),e.YNc(2,lt,2,11,"div",14),e.YNc(3,_t,6,4,"div",15),e.TgZ(4,"div",16),e.YNc(5,ut,6,4,"div",17),e.qZA(),e.TgZ(6,"div",18),e.YNc(7,mt,5,2,"div",19),e.qZA(),e.TgZ(8,"div",20)(9,"div",21)(10,"label")(11,"input",22),e.NdJ("ngModelChange",function(o){const c=e.CHM(t).$implicit;return e.KtG(c.radioValor=o)}),e.qZA(),e._UZ(12,"i",23),e.qZA(),e.TgZ(13,"label")(14,"input",24),e.NdJ("ngModelChange",function(o){const c=e.CHM(t).$implicit;return e.KtG(c.radioValor=o)}),e.qZA(),e._UZ(15,"i",25),e.qZA(),e.TgZ(16,"label")(17,"input",26),e.NdJ("ngModelChange",function(o){const c=e.CHM(t).$implicit;return e.KtG(c.radioValor=o)}),e.qZA(),e._UZ(18,"i",27),e.qZA(),e.TgZ(19,"label")(20,"input",28),e.NdJ("ngModelChange",function(o){const c=e.CHM(t).$implicit;return e.KtG(c.radioValor=o)}),e.qZA(),e._UZ(21,"i",29),e.qZA()(),e.TgZ(22,"div"),e.YNc(23,gt,5,3,"div",17),e.qZA()()()()}if(2&r){const t=n.$implicit,i=n.index,o=e.oxw().$implicit,a=e.oxw(2);e.xp6(2),e.Q6J("ngIf",o.esArchivo),e.xp6(1),e.Q6J("ngIf",o.esTexto),e.xp6(2),e.Q6J("ngIf",o.tieneFechaVencimiento),e.xp6(2),e.Q6J("ngIf",o.multiplesEntradas),e.xp6(4),e.Q6J("disabled",!a.esEvaluador)("ngModel",t.radioValor)("name",o.etiqueta+i),e.xp6(3),e.Q6J("disabled",!a.esEvaluador)("ngModel",t.radioValor)("name",o.etiqueta+i),e.xp6(3),e.Q6J("disabled",!a.esEvaluador)("ngModel",t.radioValor)("name",o.etiqueta+i),e.xp6(3),e.Q6J("disabled",!a.esEvaluador)("ngModel",t.radioValor)("name",o.etiqueta+i),e.xp6(3),e.Q6J("ngIf",o.ingresaObservaciones)}}function vt(r,n){if(1&r&&(e.TgZ(0,"div"),e.YNc(1,ht,24,17,"div",12),e.qZA()),2&r){const t=n.$implicit;e.xp6(1),e.Q6J("ngForOf",t.archivos)}}function ft(r,n){if(1&r&&(e.TgZ(0,"div")(1,"div",2),e._uU(2),e.qZA(),e.YNc(3,vt,2,1,"div",12),e.qZA()),2&r){const t=n.$implicit;e.xp6(2),e.hij(" ",t.seccion," "),e.xp6(1),e.Q6J("ngForOf",t.guias)}}class Ae{constructor(n,t,i,o,a,c){this.contratoService=n,this.usuarioService=t,this.contratoDctosEmpresaArchivoService=i,this.bsModalRef=o,this.modalService=a,this.guiaCumplimientoArchivoService=c,this.cancelarBtn=new e.vpe,this.submiting=!1,this.progress=50,this.configDate=U.g.CONFIG_DATEPICKER}ngOnInit(){}duplicarItem(n,t,i,o){let a=new X;a.fechaVencimiento=(0,ee.ii)(),a.archivo=null,a.nombreArchivo="",a.tipoMime="",a.agrego=n.agrego,a.observaciones="",a.radioValor="",this.entidad.documentacionEmpresa[o].guias[i].archivos[t].agrego=!this.entidad.documentacionEmpresa[o].guias[i].archivos[t].agrego,this.entidad.documentacionEmpresa[o].guias[i].archivos.splice(t+1,0,a)}eliminarItem(n,t,i){console.log(this.entidad),this.entidad.documentacionEmpresa[i].guias[t].archivos[n].agrego=!this.entidad.documentacionEmpresa[i].guias[t].archivos[n].agrego,this.entidad.documentacionEmpresa[i].guias[t].archivos.splice(n,1)}cancelar(){this.cancelarBtn.emit(!0)}guardar(){this.submiting=!0,this.contratoService.editarDocumentos(this.entidad)}recibirArchivo(n,t,i,o){this.entidad.documentacionEmpresa[o].guias[i].archivos[t].archivo=n.archivo,this.entidad.documentacionEmpresa[o].guias[i].archivos[t].nombreArchivo=n.nombreArchivo,this.entidad.documentacionEmpresa[o].guias[i].archivos[t].tipoMime=n.tipoMime}downl_endpoint(n){return this.contratoDctosEmpresaArchivoService.consultarArchivo(n)}descargarArchivo(n){let t=new H.q;this.contratoDctosEmpresaArchivoService.consultarArchivo(n).pipe((0,k.b)(_=>{t=_}));let i,a=((_,g="",b=512)=>{const I=atob(_),N=[];for(let Z=0;Z<I.length;Z+=b){const F=I.slice(Z,Z+b),J=new Array(F.length);for(let q=0;q<F.length;q++)J[q]=F.charCodeAt(q);const S=new Uint8Array(J);N.push(S)}return new Blob(N,{type:g})})(t.archivo,t.tipoMime);i=URL.createObjectURL(a);var c=document.createElement("a");c.href=i,c.download=t.nombreArchivo,c.click()}previsualizarAyuda(n){let t=new H.q;this.guiaCumplimientoArchivoService.consultarArchivo(n).subscribe(i=>{t=i,this.bsModalRef=this.modalService.show(z.O,U.g.CONFIG_MODAL_DEFAULT),this.bsModalRef.content.archivo=t.archivo,this.bsModalRef.content.nombre=t.nombreArchivo,this.bsModalRef.content.archivoNombre=t.tipoMime,this.bsModalRef.content.onClose=o=>{this.bsModalRef.hide()}})}static#e=this.\u0275fac=function(t){return new(t||Ae)(e.Y36(D.d),e.Y36(Pe.i),e.Y36(te),e.Y36(T.UZ),e.Y36(T.tT),e.Y36(R))};static#t=this.\u0275cmp=e.Xpm({type:Ae,selectors:[["app-contrato-documentacion-empresa"]],viewQuery:function(t,i){if(1&t&&e.Gf(dt,5),2&t){let o;e.iGM(o=e.CRH())&&(i.formulario=o.first)}},inputs:{entidad:"entidad",heading:"heading",esEvaluador:"esEvaluador",esCarga:"esCarga"},outputs:{cancelarBtn:"cancelarBtn"},decls:16,vars:4,consts:[["id","form","novalidate","novalidate",3,"keydown.enter"],["formulario","ngForm"],[1,"subseccion"],[1,"row"],[1,"col-auto"],[1,"form-group","fg-width-1","percentage"],[2,"display","flex","flex-direction","column"],[1,"label-input","required-label"],[1,"progress-bar"],["type","text","disabled","",1,"form-control"],[1,"progress"],[1,"progress-label"],[4,"ngFor","ngForOf"],[1,"row","contenedor-flex-horizontal"],["class","col-md-4",3,"id",4,"ngIf"],["class","col-md-4",4,"ngIf"],[1,"col-md-2"],["class","form-group",4,"ngIf"],[1,"col-md-3"],["class","contenedor-flex contenedor-btn",4,"ngIf"],[1,"col-md-3","contenedor-vertical"],[1,"contenedor-derecha"],["type","radio","value","Cumple",3,"disabled","ngModel","name","ngModelChange"],[1,"fa-solid","fa-check"],["type","radio","value","No cumple",3,"disabled","ngModel","name","ngModelChange"],[1,"fa-solid","fa-xmark"],["type","radio","value","Incompleto",3,"disabled","ngModel","name","ngModelChange"],[1,"fa-solid","fa-scissors"],["type","radio","value","No determinado",3,"disabled","ngModel","name","ngModelChange"],[1,"fa-solid","fa-circle"],[1,"col-md-4",3,"id"],[3,"label","id","categoria","archivo","nombreArchivo","tipoMime","idRegistroArchivo","habilitado","contieneAyuda","idRegistroArchivoAyuda","downl_endpoint","archivoDto","idArchivoDescarga","idArchivoAyuda"],[1,"col-md-4"],[1,"label-input"],["type","text",1,"form-control",3,"ngModel","name","disabled","ngModelChange"],["campoTexto","ngModel"],[1,"form-group"],[1,"date-input-container"],["type","text","autocomplete","off","placement","top","placeholder","dd/mm/aaaa","bsDatepicker","",1,"form-control",3,"ngModel","name","bsConfig","disabled","ngModelChange"],[1,"fa-regular","fa-calendar-days"],[1,"contenedor-flex","contenedor-btn"],[4,"ngIf"],[1,"circle-button",3,"disabled","click"],["src","assets/img/svg/svg-ico-18x18-Boton-Circular-Gris-Eliminar.svg",1,"icono"],["src","assets/img/svg/svg-ico-18x18-Boton-Circular-Naranja-Agregar.svg",1,"icono"]],template:function(t,i){1&t&&(e.TgZ(0,"form",0,1),e.NdJ("keydown.enter",function(a){return a.preventDefault()}),e.TgZ(2,"div",2),e._uU(3,"Resumen Cumplimiento"),e.qZA(),e.TgZ(4,"div",3)(5,"div",4)(6,"div",5)(7,"div",6)(8,"label",7),e._uU(9,"% Cumplimiento Empresa"),e.qZA(),e.TgZ(10,"div",8),e._UZ(11,"input",9)(12,"div",10),e.TgZ(13,"div",11),e._uU(14),e.qZA()()()()()(),e.YNc(15,ft,4,2,"div",12),e.qZA()),2&t&&(e.xp6(12),e.Udp("width",i.entidad.cumplDocEmp,"%"),e.xp6(2),e.hij("",i.entidad.cumplDocEmp,"%"),e.xp6(1),e.Q6J("ngForOf",i.entidad.documentacionEmpresa))},dependencies:[s.sg,s.O5,p._Y,p.Fj,p._,p.JJ,p.JL,p.On,p.F,K.x,f.Np,f.Y5],styles:[".icono{height:80%;background-color:transparent;border-radius:50%}.icono:hover{background-color:#f3f3f3}.circle-button{background-color:transparent}\n"],encapsulation:2})}const Ct=["formulario"];function bt(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"div",3)(1,"div",4)(2,"div",14),e._UZ(3,"app-input-archivo",15),e.qZA()(),e.TgZ(4,"div",4)(5,"div",16)(6,"div",6)(7,"label",7),e._uU(8,"Requerido por el contratista"),e.qZA(),e.TgZ(9,"label",17)(10,"input",18),e.NdJ("ngModelChange",function(o){const c=e.CHM(t).$implicit;return e.KtG(c.esRequerido=o)}),e.qZA(),e.TgZ(11,"div",19)(12,"span",20),e._uU(13,"S\xed"),e.qZA(),e.TgZ(14,"span",11),e._uU(15,"No"),e.qZA()()()()()()()}if(2&r){const t=n.$implicit;e.xp6(3),e.Q6J("label",t.campoGuiaCumplimiento),e.xp6(7),e.Q6J("name","esRequerido"+t.id)("ngModel",t.esRequerido)}}function xt(r,n){if(1&r&&(e.TgZ(0,"div")(1,"div",2),e._uU(2),e.qZA(),e.YNc(3,bt,16,3,"div",13),e.qZA()),2&r){const t=n.$implicit;e.xp6(2),e.hij(" ",t.nombreSeccion," "),e.xp6(1),e.Q6J("ngForOf",t.guias)}}class Me{constructor(){this.placeHolderSelect=U.g.PLACEHOLDER_DROPDOWN,this.placeHolderNoOptions=U.g.PLACEHOLDER_DROPDOWN_NO_OPTIONS}ngOnInit(){this.secciones=this.entidad.guias.find(n=>n.claveTipoGuia===this.clave)?.secciones}static#e=this.\u0275fac=function(t){return new(t||Me)};static#t=this.\u0275cmp=e.Xpm({type:Me,selectors:[["app-contrato-guia"]],viewQuery:function(t,i){if(1&t&&e.Gf(Ct,5),2&t){let o;e.iGM(o=e.CRH())&&(i.formulario=o.first)}},inputs:{entidad:"entidad",heading:"heading",clave:"clave"},decls:16,vars:1,consts:[["id","form","novalidate","novalidate",3,"keydown.enter"],["formulario","ngForm"],[1,"subseccion"],[1,"row"],[1,"col-auto"],[1,"form-group","fg-width-2","percentage"],[2,"display","flex","flex-direction","column"],[1,"label-input","required-label"],["for","estatus",1,"switch"],["type","checkbox","disabled","true"],[1,"slider","round"],[1,"off"],[4,"ngFor","ngForOf"],["class","row",4,"ngFor","ngForOf"],[1,"fg-width-archivo","disable-clicks"],["nombreArchivo","Fecha - Hora - Archivo","categoria","cargaArchivoAyuda",3,"label"],[1,"form-group","fg-width-auto"],[1,"switch","mt-2"],["type","checkbox",3,"name","ngModel","ngModelChange"],[1,"slider","round","h-0"],[1,"on"]],template:function(t,i){1&t&&(e.TgZ(0,"form",0,1),e.NdJ("keydown.enter",function(a){return a.preventDefault()}),e.TgZ(2,"div",2),e._uU(3," % Resumen Cumplimiento "),e.qZA(),e.TgZ(4,"div",3)(5,"div",4)(6,"div",5)(7,"div",6)(8,"label",7),e._uU(9,"% Cumplimiento Empresa"),e.qZA(),e.TgZ(10,"label",8),e._UZ(11,"input",9),e.TgZ(12,"div",10)(13,"span",11),e._uU(14,"100%"),e.qZA()()()()()()(),e.YNc(15,xt,4,2,"div",12),e.qZA()),2&t&&(e.xp6(15),e.Q6J("ngForOf",i.secciones))},dependencies:[s.sg,p._Y,p.Wl,p.JJ,p.JL,p.On,p.F,K.x],styles:['.fg-width-archivo[_ngcontent-%COMP%]{width:398px}.percentage[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]:before{background-color:red;content:"0%"}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]{background-color:#ed7d31}.disable-clicks[_ngcontent-%COMP%]{pointer-events:none}']})}class ie{constructor(n){this.http=n,this.dataUrl="contratoReqAmbientalesArchivo/"}consultarArchivo(n){return this.http.get(this.dataUrl+`consultarArchivo/${n}`)}static#e=this.\u0275fac=function(t){return new(t||ie)(e.LFG(A.eN))};static#t=this.\u0275prov=e.Yz7({token:ie,factory:ie.\u0275fac,providedIn:"root"})}const At=["formulario"];function Mt(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"div",30),e.NdJ("id",function(){e.CHM(t);const o=e.oxw(2).index;return e.KtG(o)}),e.TgZ(1,"app-input-archivo",31),e.NdJ("archivoDto",function(o){e.CHM(t);const a=e.oxw().index,c=e.oxw().index,_=e.oxw().index,g=e.oxw();return e.KtG(g.recibirArchivo(o,a,c,_))})("idArchivoDescarga",function(o){e.CHM(t);const a=e.oxw(4);return e.KtG(a.descargarArchivo(o))})("idArchivoAyuda",function(o){e.CHM(t);const a=e.oxw(4);return e.KtG(a.previsualizarAyuda(o))}),e.qZA()()}if(2&r){const t=e.oxw(),i=t.index,o=t.$implicit,a=e.oxw().$implicit,c=e.oxw(2);e.xp6(1),e.Q6J("label",a.etiqueta)("id","Amb"+a.etiqueta+i)("categoria",a.etiqueta)("archivo",o.archivo)("nombreArchivo",o.nombreArchivo)("tipoMime",o.tipoMime)("idRegistroArchivo",o.idContratoDctosEmpresaArchivo)("habilitado",!a.esRequerido||!c.esCarga)("contieneAyuda",a.contieneAyuda)("idRegistroArchivoAyuda",a.idArchivoAyuda)("downl_endpoint",c.downl_endpoint.bind(c))}}function Tt(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"div",32)(1,"label",33),e._uU(2),e.qZA(),e.TgZ(3,"div")(4,"input",34,35),e.NdJ("ngModelChange",function(o){e.CHM(t);const a=e.oxw().$implicit;return e.KtG(a.campoTexto=o)}),e.qZA()()()}if(2&r){const t=e.oxw().$implicit,i=e.oxw().$implicit,o=e.oxw(2);e.xp6(2),e.Oqu(i.etiqueta),e.xp6(2),e.Q6J("ngModel",t.campoTexto)("name",i.etiqueta)("disabled",!i.esRequerido||!o.esCarga)}}function Zt(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"div",36)(1,"label",33),e._uU(2,"Fecha de Vencimiento"),e.qZA(),e.TgZ(3,"div",37)(4,"input",38),e.NdJ("ngModelChange",function(o){e.CHM(t);const a=e.oxw().$implicit;return e.KtG(a.fechaVencimiento=o)}),e.qZA(),e._UZ(5,"i",39),e.qZA()()}if(2&r){const t=e.oxw(),i=t.$implicit,o=t.index,a=e.oxw(),c=a.$implicit,_=a.index,g=e.oxw().index,b=e.oxw();e.xp6(4),e.Q6J("ngModel",i.fechaVencimiento)("name",c.etiqueta+o+_+g)("bsConfig",b.configDate)("disabled",!b.esCarga)}}function qt(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"div")(1,"button",42),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2),a=o.$implicit,c=o.index,_=e.oxw().index,g=e.oxw().index,b=e.oxw();return e.KtG(b.duplicarItem(a,c,_,g))}),e._UZ(2,"img",43),e.qZA()()}if(2&r){const t=e.oxw(5);e.xp6(1),e.Q6J("disabled",!t.esCarga)}}function yt(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"div")(1,"button",42),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2).index,a=e.oxw().index,c=e.oxw().index,_=e.oxw();return e.KtG(_.eliminarItem(o,a,c))}),e._UZ(2,"img",44),e.qZA()()}if(2&r){const t=e.oxw(5);e.xp6(1),e.Q6J("disabled",!t.esCarga)}}function wt(r,n){if(1&r&&(e.TgZ(0,"div",40),e.YNc(1,qt,3,1,"div",41),e.YNc(2,yt,3,1,"div",41),e.qZA()),2&r){const t=e.oxw().index,i=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf",t===i.archivos.length-1),e.xp6(1),e.Q6J("ngIf",0===t)}}function Et(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"div",36)(1,"label",33),e._uU(2,"Observaciones"),e.qZA(),e.TgZ(3,"div")(4,"input",34),e.NdJ("ngModelChange",function(o){e.CHM(t);const a=e.oxw().$implicit;return e.KtG(a.observaciones=o)}),e.qZA()()()}if(2&r){const t=e.oxw(),i=t.$implicit,o=t.index,a=e.oxw(),c=a.$implicit,_=a.index,g=e.oxw(2);e.xp6(4),e.Q6J("ngModel",i.observaciones)("name",c.etiqueta+o+_)("disabled",!g.esEvaluador)}}function Dt(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"div")(1,"div",13),e.YNc(2,Mt,2,11,"div",14),e.YNc(3,Tt,6,4,"div",15),e.TgZ(4,"div",16),e.YNc(5,Zt,6,4,"div",17),e.qZA(),e.TgZ(6,"div",18),e.YNc(7,wt,3,2,"div",19),e.qZA(),e.TgZ(8,"div",20)(9,"div",21)(10,"label")(11,"input",22),e.NdJ("ngModelChange",function(o){const c=e.CHM(t).$implicit;return e.KtG(c.radioValor=o)}),e.qZA(),e._UZ(12,"i",23),e.qZA(),e.TgZ(13,"label")(14,"input",24),e.NdJ("ngModelChange",function(o){const c=e.CHM(t).$implicit;return e.KtG(c.radioValor=o)}),e.qZA(),e._UZ(15,"i",25),e.qZA(),e.TgZ(16,"label")(17,"input",26),e.NdJ("ngModelChange",function(o){const c=e.CHM(t).$implicit;return e.KtG(c.radioValor=o)}),e.qZA(),e._UZ(18,"i",27),e.qZA(),e.TgZ(19,"label")(20,"input",28),e.NdJ("ngModelChange",function(o){const c=e.CHM(t).$implicit;return e.KtG(c.radioValor=o)}),e.qZA(),e._UZ(21,"i",29),e.qZA()(),e.TgZ(22,"div"),e.YNc(23,Et,5,3,"div",17),e.qZA()()()()}if(2&r){const t=n.$implicit,i=n.index,o=e.oxw().$implicit,a=e.oxw(2);e.xp6(2),e.Q6J("ngIf",o.esArchivo),e.xp6(1),e.Q6J("ngIf",o.esTexto),e.xp6(2),e.Q6J("ngIf",o.tieneFechaVencimiento),e.xp6(2),e.Q6J("ngIf",o.multiplesEntradas),e.xp6(4),e.Q6J("disabled",!a.esEvaluador)("ngModel",t.radioValor)("name",o.etiqueta+i),e.xp6(3),e.Q6J("disabled",!a.esEvaluador)("ngModel",t.radioValor)("name",o.etiqueta+i),e.xp6(3),e.Q6J("disabled",!a.esEvaluador)("ngModel",t.radioValor)("name",o.etiqueta+i),e.xp6(3),e.Q6J("disabled",!a.esEvaluador)("ngModel",t.radioValor)("name",o.etiqueta+i),e.xp6(3),e.Q6J("ngIf",o.ingresaObservaciones)}}function Ut(r,n){if(1&r&&(e.TgZ(0,"div"),e.YNc(1,Dt,24,17,"div",12),e.qZA()),2&r){const t=n.$implicit;e.xp6(1),e.Q6J("ngForOf",t.archivos)}}function Ft(r,n){if(1&r&&(e.TgZ(0,"div")(1,"div",2),e._uU(2),e.qZA(),e.YNc(3,Ut,2,1,"div",12),e.qZA()),2&r){const t=n.$implicit;e.xp6(2),e.hij(" ",t.seccion," "),e.xp6(1),e.Q6J("ngForOf",t.guias)}}class Te{constructor(n,t,i,o,a){this.contratoService=n,this.bsModalRef=t,this.modalService=i,this.guiaCumplimientoArchivoService=o,this.contratoRequerimientosAmbientalesArchivoService=a,this.cancelarBtn=new e.vpe,this.placeHolderSelect=U.g.PLACEHOLDER_DROPDOWN,this.placeHolderNoOptions=U.g.PLACEHOLDER_DROPDOWN_NO_OPTIONS,this.submiting=!1,this.configDate=U.g.CONFIG_DATEPICKER,this.selectedContacts=[new be]}ngOnInit(){}duplicarItem(n,t,i,o){let a=new X;a.fechaVencimiento=(0,ee.ii)(),a.archivo=null,a.nombreArchivo="",a.tipoMime="",a.agrego=n.agrego,a.observaciones="",a.radioValor="",this.entidad.requerimientosAmbientales[o].guias[i].archivos[t].agrego=!this.entidad.requerimientosAmbientales[o].guias[i].archivos[t].agrego,this.entidad.requerimientosAmbientales[o].guias[i].archivos.splice(t+1,0,a)}eliminarItem(n,t,i){console.log(this.entidad),this.entidad.requerimientosAmbientales[i].guias[t].archivos[n].agrego=!this.entidad.requerimientosAmbientales[i].guias[t].archivos[n].agrego,this.entidad.requerimientosAmbientales[i].guias[t].archivos.splice(n,1)}cancelar(){this.cancelarBtn.emit(!0)}guardar(){this.submiting=!0,this.contratoService.editarDocumentos(this.entidad)}recibirArchivo(n,t,i,o){this.entidad.requerimientosAmbientales[o].guias[i].archivos[t].archivo=n.archivo,this.entidad.requerimientosAmbientales[o].guias[i].archivos[t].nombreArchivo=n.nombreArchivo,this.entidad.requerimientosAmbientales[o].guias[i].archivos[t].tipoMime=n.tipoMime}downl_endpoint(n){return this.contratoRequerimientosAmbientalesArchivoService.consultarArchivo(n)}descargarArchivo(n){let t=new H.q;this.contratoRequerimientosAmbientalesArchivoService.consultarArchivo(n).pipe((0,k.b)(_=>{t=_}));let i,a=((_,g="",b=512)=>{const I=atob(_),N=[];for(let Z=0;Z<I.length;Z+=b){const F=I.slice(Z,Z+b),J=new Array(F.length);for(let q=0;q<F.length;q++)J[q]=F.charCodeAt(q);const S=new Uint8Array(J);N.push(S)}return new Blob(N,{type:g})})(t.archivo,t.tipoMime);i=URL.createObjectURL(a);var c=document.createElement("a");c.href=i,c.download=t.nombreArchivo,c.click()}previsualizarAyuda(n){let t=new H.q;this.guiaCumplimientoArchivoService.consultarArchivo(n).pipe((0,k.b)(i=>{t=i,this.bsModalRef=this.modalService.show(z.O,U.g.CONFIG_MODAL_DEFAULT),this.bsModalRef.content.archivo=t.archivo,this.bsModalRef.content.nombre=t.nombreArchivo,this.bsModalRef.content.archivoNombre=t.tipoMime,this.bsModalRef.content.onClose=o=>{this.bsModalRef.hide()}}))}static#e=this.\u0275fac=function(t){return new(t||Te)(e.Y36(D.d),e.Y36(T.UZ),e.Y36(T.tT),e.Y36(R),e.Y36(ie))};static#t=this.\u0275cmp=e.Xpm({type:Te,selectors:[["app-contrato-requerimientos-ambientales"]],viewQuery:function(t,i){if(1&t&&e.Gf(At,5),2&t){let o;e.iGM(o=e.CRH())&&(i.formulario=o.first)}},inputs:{entidad:"entidad",heading:"heading",esEvaluador:"esEvaluador",esCarga:"esCarga"},outputs:{cancelarBtn:"cancelarBtn"},decls:16,vars:4,consts:[["id","formAmb","novalidate","novalidate",3,"keydown.enter"],["formulario","ngForm"],[1,"subseccion"],[1,"row"],[1,"col-auto"],[1,"form-group","fg-width-1","percentage"],[2,"display","flex","flex-direction","column"],[1,"label-input","required-label"],[1,"progress-bar"],["type","text","disabled","",1,"form-control"],[1,"progress"],[1,"progress-label"],[4,"ngFor","ngForOf"],[1,"row","contenedor-flex-horizontal"],["class","col-md-4",3,"id",4,"ngIf"],["class","col-md-4",4,"ngIf"],[1,"col-md-2"],["class","form-group",4,"ngIf"],[1,"col-md-3"],["class","contenedor-flex",4,"ngIf"],[1,"col-md-3","contenedor-vertical"],[1,"contenedor-derecha"],["type","radio","value","Cumple",3,"disabled","ngModel","name","ngModelChange"],[1,"fa-solid","fa-check"],["type","radio","value","No cumple",3,"disabled","ngModel","name","ngModelChange"],[1,"fa-solid","fa-xmark"],["type","radio","value","Incompleto",3,"disabled","ngModel","name","ngModelChange"],[1,"fa-solid","fa-scissors"],["type","radio","value","No determinado",3,"disabled","ngModel","name","ngModelChange"],[1,"fa-solid","fa-circle"],[1,"col-md-4",3,"id"],[3,"label","id","categoria","archivo","nombreArchivo","tipoMime","idRegistroArchivo","habilitado","contieneAyuda","idRegistroArchivoAyuda","downl_endpoint","archivoDto","idArchivoDescarga","idArchivoAyuda"],[1,"col-md-4"],[1,"label-input"],["type","text",1,"form-control",3,"ngModel","name","disabled","ngModelChange"],["campoTexto","ngModel"],[1,"form-group"],[1,"date-input-container"],["id","fechaMinima","type","text","autocomplete","off","placement","top","placeholder","dd/mm/aaaa","bsDatepicker","",1,"form-control",3,"ngModel","name","bsConfig","disabled","ngModelChange"],[1,"fa-regular","fa-calendar-days"],[1,"contenedor-flex"],[4,"ngIf"],[1,"circle-button",3,"disabled","click"],["src","assets/img/svg/svg-ico-18x18-Boton-Circular-Naranja-Agregar.svg",1,"icono"],["src","assets/img/svg/svg-ico-18x18-Boton-Circular-Gris-Eliminar.svg",1,"icono"]],template:function(t,i){1&t&&(e.TgZ(0,"form",0,1),e.NdJ("keydown.enter",function(a){return a.preventDefault()}),e.TgZ(2,"div",2),e._uU(3,"Resumen Cumplimiento"),e.qZA(),e.TgZ(4,"div",3)(5,"div",4)(6,"div",5)(7,"div",6)(8,"label",7),e._uU(9,"% Cumplimiento Requerimientos Ambientales"),e.qZA(),e.TgZ(10,"div",8),e._UZ(11,"input",9)(12,"div",10),e.TgZ(13,"div",11),e._uU(14),e.qZA()()()()()(),e.YNc(15,Ft,4,2,"div",12),e.qZA()),2&t&&(e.xp6(12),e.Udp("width",i.entidad.cumplReqAmb,"%"),e.xp6(2),e.hij("",i.entidad.cumplReqAmb,"%"),e.xp6(1),e.Q6J("ngForOf",i.entidad.requerimientosAmbientales))},dependencies:[s.sg,s.O5,p._Y,p.Fj,p._,p.JJ,p.JL,p.On,p.F,K.x,f.Np,f.Y5],styles:[".circle-button{background-color:transparent}\n"],encapsulation:2})}class W{constructor(n){this.http=n,this.dataUrl="contratoMaquinaria/"}consultarParaGrid(n){return this.http.get(this.dataUrl+`grid/${n}`)}consultar(n){return this.http.get(this.dataUrl+`${n}`)}eliminar(n){return this.http.delete(this.dataUrl+`eliminar/${n}`)}agregar(n){return this.http.post(this.dataUrl+"agregar",n)}editar(n){return this.http.put(this.dataUrl+"editar",n)}static#e=this.\u0275fac=function(t){return new(t||W)(e.LFG(A.eN))};static#t=this.\u0275prov=e.Yz7({token:W,factory:W.\u0275fac,providedIn:"root"})}class oe{constructor(n){this.http=n,this.dataUrl="contratoMaquinariaDctosArchivo/"}consultarArchivo(n){return this.http.get(this.dataUrl+`consultarArchivo/${n}`)}static#e=this.\u0275fac=function(t){return new(t||oe)(e.LFG(A.eN))};static#t=this.\u0275prov=e.Yz7({token:oe,factory:oe.\u0275fac,providedIn:"root"})}const Ot=["formulario"];function Rt(r,n){1&r&&(e.TgZ(0,"div",24),e._uU(1," La Maquinaria/Equipo es requerida "),e.qZA())}function It(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"div",42),e.NdJ("id",function(){e.CHM(t);const o=e.oxw(2).index;return e.KtG(o)}),e.TgZ(1,"app-input-archivo",43),e.NdJ("archivoDto",function(o){e.CHM(t);const a=e.oxw().index,c=e.oxw().index,_=e.oxw().index,g=e.oxw(2);return e.KtG(g.recibirArchivo(o,a,c,_))})("idArchivoDescarga",function(o){e.CHM(t);const a=e.oxw(5);return e.KtG(a.descargarArchivo(o))})("idArchivoAyuda",function(o){e.CHM(t);const a=e.oxw(5);return e.KtG(a.previsualizarAyuda(o))}),e.qZA()()}if(2&r){const t=e.oxw(),i=t.index,o=t.$implicit,a=e.oxw().$implicit,c=e.oxw(3);e.xp6(1),e.Q6J("label",a.etiqueta)("id",a.etiqueta+i)("categoria",a.etiqueta)("archivo",o.archivo)("nombreArchivo",o.nombreArchivo)("tipoMime",o.tipoMime)("idRegistroArchivo",o.idContratoDctosEmpresaArchivo)("habilitado",!a.esRequerido||!c.entidad.esCarga)("contieneAyuda",a.contieneAyuda)("idRegistroArchivoAyuda",a.idArchivoAyuda)("downl_endpoint",c.downl_endpoint.bind(c))}}function Nt(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"div",18)(1,"label",19),e._uU(2),e.qZA(),e.TgZ(3,"div")(4,"input",44,45),e.NdJ("ngModelChange",function(o){e.CHM(t);const a=e.oxw().$implicit;return e.KtG(a.campoTexto=o)}),e.qZA()()()}if(2&r){const t=e.oxw().$implicit,i=e.oxw().$implicit,o=e.oxw(3);e.xp6(2),e.Oqu(i.etiqueta),e.xp6(2),e.Q6J("ngModel",t.campoTexto)("name",i.etiqueta)("disabled",!i.esRequerido||!o.entidad.esCarga)}}function Jt(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"div",46)(1,"label",19),e._uU(2,"Fecha de Vencimiento"),e.qZA(),e.TgZ(3,"div",47)(4,"input",48),e.NdJ("ngModelChange",function(o){e.CHM(t);const a=e.oxw().$implicit;return e.KtG(a.fechaVencimiento=o)}),e.qZA(),e._UZ(5,"i",49),e.qZA()()}if(2&r){const t=e.oxw(),i=t.$implicit,o=t.index,a=e.oxw(),c=a.$implicit,_=a.index,g=e.oxw().index,b=e.oxw(2);e.xp6(4),e.Q6J("ngModel",i.fechaVencimiento)("name",c.etiqueta+o+_+g)("bsConfig",b.configDate)("disabled",!b.entidad.esCarga)}}function Pt(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"div")(1,"button",52),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2),a=o.$implicit,c=o.index,_=e.oxw().index,g=e.oxw().index,b=e.oxw(2);return e.KtG(b.duplicarItem(a,c,_,g))}),e._UZ(2,"img",53),e.qZA()()}if(2&r){const t=e.oxw(6);e.xp6(1),e.Q6J("disabled",!t.entidad.esCarga)}}function Gt(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"div")(1,"button",52),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2).index,a=e.oxw().index,c=e.oxw().index,_=e.oxw(2);return e.KtG(_.eliminarItem(o,a,c))}),e._UZ(2,"img",54),e.qZA()()}if(2&r){const t=e.oxw(6);e.xp6(1),e.Q6J("disabled",!t.entidad.esCarga)}}function kt(r,n){if(1&r&&(e.TgZ(0,"div",50),e.YNc(1,Pt,3,1,"div",51),e.YNc(2,Gt,3,1,"div",51),e.qZA()),2&r){const t=e.oxw().index,i=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf",t===i.archivos.length-1),e.xp6(1),e.Q6J("ngIf",0===t)}}function Qt(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"div",46)(1,"label",19),e._uU(2,"Observaciones"),e.qZA(),e.TgZ(3,"div")(4,"input",44),e.NdJ("ngModelChange",function(o){e.CHM(t);const a=e.oxw().$implicit;return e.KtG(a.observaciones=o)}),e.qZA()()()}if(2&r){const t=e.oxw(),i=t.$implicit,o=t.index,a=e.oxw(),c=a.$implicit,_=a.index,g=e.oxw(3);e.xp6(4),e.Q6J("ngModel",i.observaciones)("name",c.etiqueta+o+_)("disabled",!g.entidad.esEvaluador)}}function $t(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"div")(1,"div",25),e.YNc(2,It,2,11,"div",26),e.YNc(3,Nt,6,4,"div",27),e.TgZ(4,"div",28),e.YNc(5,Jt,6,4,"div",29),e.qZA(),e.TgZ(6,"div",30),e.YNc(7,kt,3,2,"div",31),e.qZA(),e.TgZ(8,"div",32)(9,"div",33)(10,"label")(11,"input",34),e.NdJ("ngModelChange",function(o){const c=e.CHM(t).$implicit;return e.KtG(c.radioValor=o)}),e.qZA(),e._UZ(12,"i",35),e.qZA(),e.TgZ(13,"label")(14,"input",36),e.NdJ("ngModelChange",function(o){const c=e.CHM(t).$implicit;return e.KtG(c.radioValor=o)}),e.qZA(),e._UZ(15,"i",37),e.qZA(),e.TgZ(16,"label")(17,"input",38),e.NdJ("ngModelChange",function(o){const c=e.CHM(t).$implicit;return e.KtG(c.radioValor=o)}),e.qZA(),e._UZ(18,"i",39),e.qZA(),e.TgZ(19,"label")(20,"input",40),e.NdJ("ngModelChange",function(o){const c=e.CHM(t).$implicit;return e.KtG(c.radioValor=o)}),e.qZA(),e._UZ(21,"i",41),e.qZA()(),e.TgZ(22,"div"),e.YNc(23,Qt,5,3,"div",29),e.qZA()()()()}if(2&r){const t=n.$implicit,i=n.index,o=e.oxw().$implicit,a=e.oxw(3);e.xp6(2),e.Q6J("ngIf",o.esArchivo),e.xp6(1),e.Q6J("ngIf",o.esTexto),e.xp6(2),e.Q6J("ngIf",o.tieneFechaVencimiento),e.xp6(2),e.Q6J("ngIf",o.multiplesEntradas),e.xp6(4),e.Q6J("disabled",!a.entidad.esEvaluador)("ngModel",t.radioValor)("name",o.etiqueta+i),e.xp6(3),e.Q6J("disabled",!a.entidad.esEvaluador)("ngModel",t.radioValor)("name",o.etiqueta+i),e.xp6(3),e.Q6J("disabled",!a.entidad.esEvaluador)("ngModel",t.radioValor)("name",o.etiqueta+i),e.xp6(3),e.Q6J("disabled",!a.entidad.esEvaluador)("ngModel",t.radioValor)("name",o.etiqueta+i),e.xp6(3),e.Q6J("ngIf",o.ingresaObservaciones)}}function Ht(r,n){if(1&r&&(e.TgZ(0,"div"),e.YNc(1,$t,24,17,"div",23),e.qZA()),2&r){const t=n.$implicit;e.xp6(1),e.Q6J("ngForOf",t.archivos)}}function St(r,n){if(1&r&&(e.TgZ(0,"div")(1,"div",16),e._uU(2),e.qZA(),e.YNc(3,Ht,2,1,"div",23),e.qZA()),2&r){const t=n.$implicit;e.xp6(2),e.hij(" ",t.seccion," "),e.xp6(1),e.Q6J("ngForOf",t.guias)}}function Bt(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"form",4,5),e.NdJ("keydown.enter",function(o){return o.preventDefault()}),e.TgZ(2,"div",6),e._uU(3,"Resumen Cumplimiento"),e.qZA(),e.TgZ(4,"div",7)(5,"div",8)(6,"div",9)(7,"div",10)(8,"label",11),e._uU(9,"% Cumplimiento Maquinaria"),e.qZA(),e.TgZ(10,"div",12),e._UZ(11,"input",13)(12,"div",14),e.TgZ(13,"div",15),e._uU(14),e.qZA()()()()()(),e._UZ(15,"div",16),e.TgZ(16,"div",17)(17,"div",18)(18,"label",19),e._uU(19,"Maquinaria/Equipo"),e.qZA(),e.TgZ(20,"div")(21,"input",20,21),e.NdJ("ngModelChange",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.entidad.equipo=o)}),e.qZA(),e.YNc(23,Rt,2,0,"div",22),e.qZA()()(),e.YNc(24,St,4,2,"div",23),e.qZA()}if(2&r){const t=e.MAs(22),i=e.oxw();e.xp6(2),e.Q6J("hidden",i.ocultarAgregar),e.xp6(2),e.Q6J("hidden",i.ocultarAgregar),e.xp6(8),e.Udp("width",i.entidad.cumplimiento,"%"),e.xp6(2),e.hij("",i.entidad.cumplimiento,"%"),e.xp6(7),e.Q6J("ngModel",i.entidad.equipo)("disabled",!i.entidad.esCarga),e.xp6(2),e.Q6J("ngIf",(null==t.errors?null:t.errors.required)&&t.touched),e.xp6(1),e.Q6J("ngForOf",i.entidad.maquinarias)}}function Yt(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"button",55),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.cancelar())}),e._uU(1," Cancelar "),e.qZA(),e.TgZ(2,"button",56),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onSubmit(o.formulario))}),e._uU(3," Guardar "),e.qZA()}if(2&r){const t=e.oxw();e.xp6(2),e.Q6J("disabled",t.submitting)}}class Ze extends me.P{constructor(n,t,i,o,a,c,_,g){super(t),this.guiaCumplimientoService=n,this.modalService=i,this.bsModalRef=o,this.contratoRequisitosMaterialesService=a,this.guiaCumplimientoArchivoService=c,this.contratoMaquinariaDctosArchivoService=_,this.accesoService=g,this.descargando=!1,this.deshabilitarTexto=!1,this.deshabilitarAgregar=!1,this.ocultarAgregar=!1,this.configDate=U.g.CONFIG_DATEPICKER,this.destroy$=new L.x}ngOnInit(){var n=()=>super.onInit,t=this;return(0,pe.Z)(function*(){yield t.accesoService.tieneAcceso(w.bk.Evaluar).subscribe(i=>{t.entidad.esEvaluador=i}),yield t.accesoService.tieneAcceso(w.bk.CargarDescargarArchivos).subscribe(i=>{t.entidad.esCarga=i}),t.accion==ge.V_.Agregar&&(t.entidad.cumplimiento=0,t.ocultarAgregar=!0),yield n().call(t)})()}onSubmit(n){super.onSubmit(n)}esEditar(){return this.accion===U.g.MODAL_ACCION_EDITAR}consultar(n){return this.contratoRequisitosMaterialesService.consultar(n).pipe((0,j.R)(this.destroy$),(0,k.b)(t=>(console.log(t),console.log(this.entidad),this.entidad.equipo=t.equipo,this.entidad.numSerie=t.numSerie,this.entidad.maquinarias=t.maquinarias,t.esCarga=this.entidad.esCarga,t.esEvaluador=this.entidad.esEvaluador,console.log(t),console.log(this.entidad),t)))}agregar(n){return n.idContrato=this.idContrato,n.maquinarias=new Array,this.contratoRequisitosMaterialesService.agregar(n)}editar(n){return this.contratoRequisitosMaterialesService.editar(n)}duplicarItem(n,t,i,o){let a=new X;a.fechaVencimiento=(0,ee.ii)(),a.archivo=null,a.nombreArchivo="",a.tipoMime="",a.agrego=n.agrego,a.observaciones="",a.radioValor="",this.entidad.maquinarias[o].guias[i].archivos[t].agrego=!this.entidad.maquinarias[o].guias[i].archivos[t].agrego,this.entidad.maquinarias[o].guias[i].archivos.splice(t+1,0,a)}eliminarItem(n,t,i){console.log(this.entidad),this.entidad.maquinarias[i].guias[t].archivos[n].agrego=!this.entidad.maquinarias[i].guias[t].archivos[n].agrego,this.entidad.maquinarias[i].guias[t].archivos.splice(n,1)}recibirArchivo(n,t,i,o){this.entidad.maquinarias[o].guias[i].archivos[t].archivo=n.archivo,this.entidad.maquinarias[o].guias[i].archivos[t].nombreArchivo=n.nombreArchivo,this.entidad.maquinarias[o].guias[i].archivos[t].tipoMime=n.tipoMime}downl_endpoint(n){return this.contratoMaquinariaDctosArchivoService.consultarArchivo(n)}descargarArchivo(n){let t=new H.q;this.contratoMaquinariaDctosArchivoService.consultarArchivo(n).pipe((0,k.b)(_=>{t=_}));let i,a=((_,g="",b=512)=>{const I=atob(_),N=[];for(let Z=0;Z<I.length;Z+=b){const F=I.slice(Z,Z+b),J=new Array(F.length);for(let q=0;q<F.length;q++)J[q]=F.charCodeAt(q);const S=new Uint8Array(J);N.push(S)}return new Blob(N,{type:g})})(t.archivo,t.tipoMime);i=URL.createObjectURL(a);var c=document.createElement("a");c.href=i,c.download=t.nombreArchivo,c.click()}previsualizarAyuda(n){let t=new H.q;this.guiaCumplimientoArchivoService.consultarArchivo(n).pipe((0,k.b)(i=>{t=i,this.bsModalRef=this.modalService.show(z.O,U.g.CONFIG_MODAL_DEFAULT),this.bsModalRef.content.archivo=t.archivo,this.bsModalRef.content.nombre=t.nombreArchivo,this.bsModalRef.content.archivoNombre=t.tipoMime,this.bsModalRef.content.onClose=o=>{this.bsModalRef.hide()}}))}ngOnDestroy(){this.destroy$.next()}static#e=this.\u0275fac=function(t){return new(t||Ze)(e.Y36(u.P),e.Y36(Y.V),e.Y36(T.tT),e.Y36(T.UZ),e.Y36(W),e.Y36(R),e.Y36(oe),e.Y36(m.Q))};static#t=this.\u0275cmp=e.Xpm({type:Ze,selectors:[["app-contrato-maquinaria-formulario"]],viewQuery:function(t,i){if(1&t&&e.Gf(Ot,5),2&t){let o;e.iGM(o=e.CRH())&&(i.formulario=o.first)}},inputs:{idContrato:"idContrato"},features:[e.qOj],decls:6,vars:1,consts:[[3,"titulo"],["modal",""],["modalBody",""],["modalFooter",""],["id","form","novalidate","novalidate",3,"keydown.enter"],["formulario","ngForm"],[1,"subseccion",3,"hidden"],[1,"row",3,"hidden"],[1,"col-auto"],[1,"form-group","fg-width-1","percentage"],[2,"display","flex","flex-direction","column"],[1,"label-input","required-label"],[1,"progress-bar"],["type","text","disabled","",1,"form-control"],[1,"progress"],[1,"progress-label"],[1,"subseccion"],[1,"row"],[1,"col-md-4"],[1,"label-input"],["name","maquinaria","type","text","required","",1,"form-control",3,"ngModel","disabled","ngModelChange"],["maquinaria","ngModel"],["class","error",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"error"],[1,"row","contenedor-flex-horizontal"],["class","col-md-4",3,"id",4,"ngIf"],["class","col-md-4",4,"ngIf"],[1,"col-md-2"],["class","form-group",4,"ngIf"],[1,"col-md-3"],["class","contenedor-flex",4,"ngIf"],[1,"col-md-3","contenedor-vertical"],[1,"contenedor-derecha"],["type","radio","value","Cumple",3,"disabled","ngModel","name","ngModelChange"],[1,"fa-solid","fa-check"],["type","radio","value","No cumple",3,"disabled","ngModel","name","ngModelChange"],[1,"fa-solid","fa-xmark"],["type","radio","value","Incompleto",3,"disabled","ngModel","name","ngModelChange"],[1,"fa-solid","fa-scissors"],["type","radio","value","No determinado",3,"disabled","ngModel","name","ngModelChange"],[1,"fa-solid","fa-circle"],[1,"col-md-4",3,"id"],[3,"label","id","categoria","archivo","nombreArchivo","tipoMime","idRegistroArchivo","habilitado","contieneAyuda","idRegistroArchivoAyuda","downl_endpoint","archivoDto","idArchivoDescarga","idArchivoAyuda"],["type","text",1,"form-control",3,"ngModel","name","disabled","ngModelChange"],["campoTexto","ngModel"],[1,"form-group"],[1,"date-input-container"],["id","fechaMinima","type","text","autocomplete","off","placement","top","placeholder","dd/mm/aaaa","bsDatepicker","",1,"form-control",3,"ngModel","name","bsConfig","disabled","ngModelChange"],[1,"fa-regular","fa-calendar-days"],[1,"contenedor-flex"],[4,"ngIf"],[1,"circle-button",3,"disabled","click"],["src","assets/img/svg/svg-ico-18x18-Boton-Circular-Naranja-Agregar.svg",1,"icono"],["src","assets/img/svg/svg-ico-18x18-Boton-Circular-Gris-Eliminar.svg",1,"icono"],["type","button",1,"btn-secundario","flex-shrink-1",3,"click"],["type","button","form","form",1,"btn-primario",3,"disabled","click"]],template:function(t,i){1&t&&(e.TgZ(0,"app-modal-base",0,1),e.YNc(2,Bt,25,9,"ng-template",null,2,e.W1O),e.YNc(4,Yt,4,1,"ng-template",null,3,e.W1O),e.qZA()),2&t&&e.Q6J("titulo",i.nombreEntidad+" - "+i.accion)},dependencies:[p._Y,p.Fj,p._,p.JJ,p.JL,p.Q7,p.On,p.F,s.sg,s.O5,he.B,K.x,f.Np,f.Y5],styles:[".circle-button[_ngcontent-%COMP%]{background-color:transparent}"]})}const Lt=["formulario"];class qe extends _e.v{constructor(n,t,i,o,a){super(t,i,o),this.contratoMaquinariaService=n,this.contratoService=a,this.submiting=!1,this.HEADER_GRID="Maquinaria",this.NOMBRE_ENTIDAD="Maquinaria",this.crudConfig={nombreEntidad:this.NOMBRE_ENTIDAD,generoGramatical:"fem",nombrePropiedadId:"idContratoMaquinaria",formConfig:{ComponenteFormulario:Ze,modalConfig:ue.OS.Large,configAgregar:{acceso:w.bk.Agregar,params:{idContrato:0}},configEditar:{acceso:w.bk.Modificar}},configEliminar:{acceso:w.bk.Eliminar,elementToString:c=>c.equipo}},this.columns=[{headerName:"Maquinaria/Equipo",field:"equipo",minWidth:150},{headerName:"%Cumplimiento",field:"cumpEquipo",minWidth:150}]}ngOnInit(){}consultarGrid(){return this.consultarPromedios(),this.contratoMaquinariaService.consultarParaGrid(this.idContrato)}eliminar(n){return this.contratoMaquinariaService.eliminar(n)}cargarDatos(n){this.idContrato=n,super.onInit(),this.crudConfig?.formConfig?.configAgregar?.params&&(this.crudConfig.formConfig.configAgregar.params.idContrato=this.idContrato)}consultarPromedios(){this.contratoService.consultarPromedios(this.idContrato).subscribe(n=>{this.entidad.cumplEqui=n.cumplEqui})}static#e=this.\u0275fac=function(t){return new(t||qe)(e.Y36(W),e.Y36(m.Q),e.Y36(T.tT),e.Y36(Y.V),e.Y36(D.d))};static#t=this.\u0275cmp=e.Xpm({type:qe,selectors:[["app-contrato-maquinaria"]],viewQuery:function(t,i){if(1&t&&e.Gf(Lt,5),2&t){let o;e.iGM(o=e.CRH())&&(i.formulario=o.first)}},inputs:{idContrato:"idContrato",entidad:"entidad",heading:"heading",tipo:"tipo",esEvaluador:"esEvaluador",esCarga:"esCarga"},features:[e.qOj],decls:14,vars:7,consts:[[1,"subseccion"],[1,"row"],[1,"col-auto"],[1,"form-group","fg-width-1","percentage"],[2,"display","flex","flex-direction","column"],[1,"label-input","required-label"],[1,"progress-bar"],["type","text","disabled","",1,"form-control"],[1,"progress"],[1,"progress-label"],["titulo","Maquinarias","tituloBoton","Maquinaria",3,"columns","crudConfig","elementos$","tieneAccesoAgregar$","agregarClick","gridClick"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e._uU(1,"Resumen Cumplimiento"),e.qZA(),e.TgZ(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",4)(6,"label",5),e._uU(7,"% Cumplimiento Maquinaria"),e.qZA(),e.TgZ(8,"div",6),e._UZ(9,"input",7)(10,"div",8),e.TgZ(11,"div",9),e._uU(12),e.qZA()()()()()(),e.TgZ(13,"app-catalogo-base",10),e.NdJ("agregarClick",function(){return i.agregar()})("gridClick",function(a){return i.onGridClick(a)}),e.qZA()),2&t&&(e.xp6(10),e.Udp("width",i.entidad.cumplEqui,"%"),e.xp6(2),e.hij("",i.entidad.cumplEqui,"%"),e.xp6(1),e.Q6J("columns",i.columns)("crudConfig",i.crudConfig)("elementos$",i.registros$)("tieneAccesoAgregar$",i.tieneAccesoAgregar$))},dependencies:[fe.B]})}class V{constructor(n){this.http=n,this.dataUrl="contratoPersonal/"}consultarParaGrid(n){return this.http.get(this.dataUrl+`grid/${n}`)}consultar(n){return this.http.get(this.dataUrl+`${n}`)}eliminar(n){return this.http.delete(this.dataUrl+`eliminar/${n}`)}agregar(n){return this.http.post(this.dataUrl+"agregar",n)}editar(n){return this.http.put(this.dataUrl+"editar",n)}static#e=this.\u0275fac=function(t){return new(t||V)(e.LFG(A.eN))};static#t=this.\u0275prov=e.Yz7({token:V,factory:V.\u0275fac,providedIn:"root"})}class ne{constructor(n){this.http=n,this.dataUrl="contratoPersonalDctosArchivo/"}consultarArchivo(n){return this.http.get(this.dataUrl+`consultarArchivo/${n}`)}static#e=this.\u0275fac=function(t){return new(t||ne)(e.LFG(A.eN))};static#t=this.\u0275prov=e.Yz7({token:ne,factory:ne.\u0275fac,providedIn:"root"})}const Kt=["formulario"];function Wt(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"div",44),e.NdJ("id",function(){e.CHM(t);const o=e.oxw(2).index;return e.KtG(o)}),e.TgZ(1,"app-input-archivo",45),e.NdJ("archivoDto",function(o){e.CHM(t);const a=e.oxw().index,c=e.oxw().index,_=e.oxw().index,g=e.oxw(2);return e.KtG(g.recibirArchivo(o,a,c,_))})("idArchivoDescarga",function(o){e.CHM(t);const a=e.oxw(5);return e.KtG(a.descargarArchivo(o))})("idArchivoAyuda",function(o){e.CHM(t);const a=e.oxw(5);return e.KtG(a.previsualizarAyuda(o))}),e.qZA()()}if(2&r){const t=e.oxw(),i=t.index,o=t.$implicit,a=e.oxw().$implicit,c=e.oxw(3);e.xp6(1),e.Q6J("label",a.etiqueta)("id",a.etiqueta+i)("categoria",a.etiqueta)("archivo",o.archivo)("nombreArchivo",o.nombreArchivo)("tipoMime",o.tipoMime)("idRegistroArchivo",o.idContratoDctosEmpresaArchivo)("habilitado",!a.esRequerido||!c.entidad.esCarga)("contieneAyuda",a.contieneAyuda)("idRegistroArchivoAyuda",a.idArchivoAyuda)("downl_endpoint",c.downl_endpoint.bind(c))}}function Vt(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"div",18)(1,"label",19),e._uU(2),e.qZA(),e.TgZ(3,"div")(4,"input",46,47),e.NdJ("ngModelChange",function(o){e.CHM(t);const a=e.oxw().$implicit;return e.KtG(a.campoTexto=o)}),e.qZA()()()}if(2&r){const t=e.oxw().$implicit,i=e.oxw().$implicit,o=e.oxw(3);e.xp6(2),e.Oqu(i.etiqueta),e.xp6(2),e.Q6J("ngModel",t.campoTexto)("name",i.etiqueta)("disabled",!i.esRequerido||!o.entidad.esCarga)}}function jt(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"div",48)(1,"label",19),e._uU(2,"Fecha de Vencimiento"),e.qZA(),e.TgZ(3,"div",49)(4,"input",50),e.NdJ("ngModelChange",function(o){e.CHM(t);const a=e.oxw().$implicit;return e.KtG(a.fechaVencimiento=o)}),e.qZA(),e._UZ(5,"i",51),e.qZA()()}if(2&r){const t=e.oxw(),i=t.$implicit,o=t.index,a=e.oxw(),c=a.$implicit,_=a.index,g=e.oxw().index,b=e.oxw(2);e.xp6(4),e.Q6J("ngModel",i.fechaVencimiento)("id",c.etiqueta+o)("name",c.etiqueta+o+_+g)("bsConfig",b.configDate)("disabled",!b.entidad.esCarga)}}function zt(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"div")(1,"button",54),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2),a=o.$implicit,c=o.index,_=e.oxw().index,g=e.oxw().index,b=e.oxw(2);return e.KtG(b.duplicarItem(a,c,_,g))}),e._UZ(2,"img",55),e.qZA()()}if(2&r){const t=e.oxw(6);e.xp6(1),e.Q6J("disabled",!t.entidad.esCarga)}}function Xt(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"div")(1,"button",54),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2).index,a=e.oxw().index,c=e.oxw().index,_=e.oxw(2);return e.KtG(_.eliminarItem(o,a,c))}),e._UZ(2,"img",56),e.qZA()()}if(2&r){const t=e.oxw(6);e.xp6(1),e.Q6J("disabled",!t.entidad.esCarga)}}function ei(r,n){if(1&r&&(e.TgZ(0,"div",52),e.YNc(1,zt,3,1,"div",53),e.YNc(2,Xt,3,1,"div",53),e.qZA()),2&r){const t=e.oxw().index,i=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf",t===i.archivos.length-1),e.xp6(1),e.Q6J("ngIf",0===t)}}function ti(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"div",48)(1,"label",19),e._uU(2,"Observaciones"),e.qZA(),e.TgZ(3,"div")(4,"input",57),e.NdJ("ngModelChange",function(o){e.CHM(t);const a=e.oxw().$implicit;return e.KtG(a.observaciones=o)}),e.qZA()()()}if(2&r){const t=e.oxw(),i=t.$implicit,o=t.index,a=e.oxw(),c=a.$implicit,_=a.index,g=e.oxw(3);e.xp6(4),e.Q6J("ngModel",i.observaciones)("id",c.etiqueta+o)("name",c.etiqueta+o+_)("disabled",!g.entidad.esEvaluador)}}function ii(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"div")(1,"div",27),e.YNc(2,Wt,2,11,"div",28),e.YNc(3,Vt,6,4,"div",29),e.TgZ(4,"div",30),e.YNc(5,jt,6,5,"div",31),e.qZA(),e.TgZ(6,"div",32),e.YNc(7,ei,3,2,"div",33),e.qZA(),e.TgZ(8,"div",34)(9,"div",35)(10,"label")(11,"input",36),e.NdJ("ngModelChange",function(o){const c=e.CHM(t).$implicit;return e.KtG(c.radioValor=o)}),e.qZA(),e._UZ(12,"i",37),e.qZA(),e.TgZ(13,"label")(14,"input",38),e.NdJ("ngModelChange",function(o){const c=e.CHM(t).$implicit;return e.KtG(c.radioValor=o)}),e.qZA(),e._UZ(15,"i",39),e.qZA(),e.TgZ(16,"label")(17,"input",40),e.NdJ("ngModelChange",function(o){const c=e.CHM(t).$implicit;return e.KtG(c.radioValor=o)}),e.qZA(),e._UZ(18,"i",41),e.qZA(),e.TgZ(19,"label")(20,"input",42),e.NdJ("ngModelChange",function(o){const c=e.CHM(t).$implicit;return e.KtG(c.radioValor=o)}),e.qZA(),e._UZ(21,"i",43),e.qZA()(),e.TgZ(22,"div"),e.YNc(23,ti,5,4,"div",31),e.qZA()()()()}if(2&r){const t=n.$implicit,i=n.index,o=e.oxw().$implicit,a=e.oxw(3);e.xp6(2),e.Q6J("ngIf",o.esArchivo),e.xp6(1),e.Q6J("ngIf",o.esTexto),e.xp6(2),e.Q6J("ngIf",o.tieneFechaVencimiento),e.xp6(2),e.Q6J("ngIf",o.multiplesEntradas),e.xp6(4),e.Q6J("disabled",!a.entidad.esEvaluador)("ngModel",t.radioValor)("name",o.etiqueta+i),e.xp6(3),e.Q6J("disabled",!a.entidad.esEvaluador)("ngModel",t.radioValor)("name",o.etiqueta+i),e.xp6(3),e.Q6J("disabled",!a.entidad.esEvaluador)("ngModel",t.radioValor)("name",o.etiqueta+i),e.xp6(3),e.Q6J("disabled",!a.entidad.esEvaluador)("ngModel",t.radioValor)("name",o.etiqueta+i),e.xp6(3),e.Q6J("ngIf",o.ingresaObservaciones)}}function oi(r,n){if(1&r&&(e.TgZ(0,"div"),e.YNc(1,ii,24,17,"div",26),e.qZA()),2&r){const t=n.$implicit;e.xp6(1),e.Q6J("ngForOf",t.archivos)}}function ni(r,n){if(1&r&&(e.TgZ(0,"div")(1,"div",16),e._uU(2),e.qZA(),e.YNc(3,oi,2,1,"div",26),e.qZA()),2&r){const t=n.$implicit;e.xp6(2),e.hij(" ",t.seccion," "),e.xp6(1),e.Q6J("ngForOf",t.guias)}}function ai(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"form",4,5),e.NdJ("keydown.enter",function(o){return o.preventDefault()}),e.TgZ(2,"div",6),e._uU(3,"Resumen Cumplimiento"),e.qZA(),e.TgZ(4,"div",7)(5,"div",8)(6,"div",9)(7,"div",10)(8,"label",11),e._uU(9,"% Cumplimiento Trabajador"),e.qZA(),e.TgZ(10,"div",12),e._UZ(11,"input",13)(12,"div",14),e.TgZ(13,"div",15),e._uU(14),e.qZA()()()()()(),e._UZ(15,"div",16),e.TgZ(16,"div",17)(17,"div",18)(18,"label",19),e._uU(19,"Nombre Trabajador"),e.qZA(),e.TgZ(20,"div")(21,"input",20,21),e.NdJ("ngModelChange",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.entidad.nombre=o)}),e.qZA()()(),e.TgZ(23,"div",18)(24,"label",19),e._uU(25,"Correo Electr\xf3nico"),e.qZA(),e.TgZ(26,"div")(27,"input",22,23),e.NdJ("ngModelChange",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.entidad.correo=o)}),e.qZA()()(),e.TgZ(29,"div",18)(30,"label",19),e._uU(31,"Tel\xe9fono Celular"),e.qZA(),e.TgZ(32,"div")(33,"input",24,25),e.NdJ("ngModelChange",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.entidad.telefono=o)}),e.qZA()()()(),e.YNc(35,ni,4,2,"div",26),e.qZA()}if(2&r){const t=e.oxw();e.xp6(2),e.Q6J("hidden",t.ocultarAgregar),e.xp6(2),e.Q6J("hidden",t.ocultarAgregar),e.xp6(8),e.Udp("width",t.entidad.cumplimiento,"%"),e.xp6(2),e.hij("",t.entidad.cumplimiento,"%"),e.xp6(7),e.Q6J("ngModel",t.entidad.nombre)("disabled",!t.entidad.esCarga),e.xp6(6),e.Q6J("ngModel",t.entidad.correo)("disabled",!t.entidad.esCarga),e.xp6(6),e.Q6J("ngModel",t.entidad.telefono)("disabled",!t.entidad.esCarga),e.xp6(2),e.Q6J("ngForOf",t.entidad.personal)}}function ri(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"button",58),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.cancelar())}),e._uU(1," Cancelar "),e.qZA(),e.TgZ(2,"button",59),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onSubmit(o.formulario))}),e._uU(3," Guardar "),e.qZA()}if(2&r){const t=e.oxw();e.xp6(2),e.Q6J("disabled",t.submitting)}}class ye extends me.P{constructor(n,t,i,o,a,c,_,g){super(t),this.guiaCumplimientoService=n,this.modalService=i,this.bsModalRef=o,this.contratoRequisitosMaterialesService=a,this.guiaCumplimientoArchivoService=c,this.contratoPersonalDctosArchivoService=_,this.accesoService=g,this.descargando=!1,this.deshabilitarTexto=!1,this.deshabilitarAgregar=!1,this.ocultarAgregar=!1,this.configDate=U.g.CONFIG_DATEPICKER,this.destroy$=new L.x}ngOnInit(){var n=()=>super.onInit,t=this;return(0,pe.Z)(function*(){yield t.accesoService.tieneAcceso(w.bk.Evaluar).subscribe(i=>{t.entidad.esEvaluador=i}),yield t.accesoService.tieneAcceso(w.bk.CargarDescargarArchivos).subscribe(i=>{t.entidad.esCarga=i}),t.accion==ge.V_.Agregar&&(t.entidad.cumplimiento=0,t.ocultarAgregar=!0),yield n().call(t)})()}onSubmit(n){super.onSubmit(n)}esEditar(){return this.accion===U.g.MODAL_ACCION_EDITAR}consultar(n){return this.contratoRequisitosMaterialesService.consultar(n).pipe((0,j.R)(this.destroy$),(0,k.b)(t=>(console.log(t),console.log(this.entidad),this.entidad.nombre=t.nombre,this.entidad.correo=t.correo,this.entidad.telefono=t.telefono,this.entidad.personal=t.personal,t.esCarga=this.entidad.esCarga,t.esEvaluador=this.entidad.esEvaluador,console.log(t),console.log(this.entidad),t)))}agregar(n){return n.idContrato=this.idEntidad,n.personal=new Array,this.contratoRequisitosMaterialesService.agregar(n)}editar(n){return this.contratoRequisitosMaterialesService.editar(n)}duplicarItem(n,t,i,o){let a=new X;a.fechaVencimiento=(0,ee.ii)(),a.archivo=null,a.nombreArchivo="",a.tipoMime="",a.agrego=n.agrego,a.observaciones="",a.radioValor="",this.entidad.personal[o].guias[i].archivos[t].agrego=!this.entidad.personal[o].guias[i].archivos[t].agrego,this.entidad.personal[o].guias[i].archivos.splice(t+1,0,a)}eliminarItem(n,t,i){console.log(this.entidad),this.entidad.personal[i].guias[t].archivos[n].agrego=!this.entidad.personal[i].guias[t].archivos[n].agrego,this.entidad.personal[i].guias[t].archivos.splice(n,1)}recibirArchivo(n,t,i,o){this.entidad.personal[o].guias[i].archivos[t].archivo=n.archivo,this.entidad.personal[o].guias[i].archivos[t].nombreArchivo=n.nombreArchivo,this.entidad.personal[o].guias[i].archivos[t].tipoMime=n.tipoMime}downl_endpoint(n){return this.contratoPersonalDctosArchivoService.consultarArchivo(n)}descargarArchivo(n){let t=new H.q;this.contratoPersonalDctosArchivoService.consultarArchivo(n).pipe((0,k.b)(_=>{t=_}));let i,a=((_,g="",b=512)=>{const I=atob(_),N=[];for(let Z=0;Z<I.length;Z+=b){const F=I.slice(Z,Z+b),J=new Array(F.length);for(let q=0;q<F.length;q++)J[q]=F.charCodeAt(q);const S=new Uint8Array(J);N.push(S)}return new Blob(N,{type:g})})(t.archivo,t.tipoMime);i=URL.createObjectURL(a);var c=document.createElement("a");c.href=i,c.download=t.nombreArchivo,c.click()}previsualizarAyuda(n){let t=new H.q;this.guiaCumplimientoArchivoService.consultarArchivo(n).pipe((0,k.b)(i=>{t=i,this.bsModalRef=this.modalService.show(z.O,U.g.CONFIG_MODAL_DEFAULT),this.bsModalRef.content.archivo=t.archivo,this.bsModalRef.content.nombre=t.nombreArchivo,this.bsModalRef.content.archivoNombre=t.tipoMime,this.bsModalRef.content.onClose=o=>{this.bsModalRef.hide()}}))}ngOnDestroy(){this.destroy$.next()}static#e=this.\u0275fac=function(t){return new(t||ye)(e.Y36(u.P),e.Y36(Y.V),e.Y36(T.tT),e.Y36(T.UZ),e.Y36(V),e.Y36(R),e.Y36(ne),e.Y36(m.Q))};static#t=this.\u0275cmp=e.Xpm({type:ye,selectors:[["app-contrato-personal-formulario"]],viewQuery:function(t,i){if(1&t&&e.Gf(Kt,5),2&t){let o;e.iGM(o=e.CRH())&&(i.formulario=o.first)}},inputs:{idContrato:"idContrato"},features:[e.qOj],decls:6,vars:1,consts:[[3,"titulo"],["modal",""],["modalBody",""],["modalFooter",""],["id","form","novalidate","novalidate",3,"keydown.enter"],["formulario","ngForm"],[1,"subseccion",3,"hidden"],[1,"row",3,"hidden"],[1,"col-auto"],[1,"form-group","fg-width-1","percentage"],[2,"display","flex","flex-direction","column"],[1,"label-input","required-label"],[1,"progress-bar"],["type","text","disabled","",1,"form-control"],[1,"progress"],[1,"progress-label"],[1,"subseccion"],[1,"row"],[1,"col-md-4"],[1,"label-input"],["name","nombre","type","text",1,"form-control",3,"ngModel","disabled","ngModelChange"],["nombre","ngModel"],["name","correo","type","text",1,"form-control",3,"ngModel","disabled","ngModelChange"],["correo","ngModel"],["name","telefono","type","text",1,"form-control",3,"ngModel","disabled","ngModelChange"],["telefono","ngModel"],[4,"ngFor","ngForOf"],[1,"row","contenedor-flex-horizontal"],["class","col-md-4",3,"id",4,"ngIf"],["class","col-md-4",4,"ngIf"],[1,"col-md-2"],["class","form-group",4,"ngIf"],[1,"col-md-3"],["class","contenedor-flex",4,"ngIf"],[1,"col-md-3","contenedor-vertical"],[1,"contenedor-derecha"],["type","radio","value","Cumple",3,"disabled","ngModel","name","ngModelChange"],[1,"fa-solid","fa-check"],["type","radio","value","No cumple",3,"disabled","ngModel","name","ngModelChange"],[1,"fa-solid","fa-xmark"],["type","radio","value","Incompleto",3,"disabled","ngModel","name","ngModelChange"],[1,"fa-solid","fa-scissors"],["type","radio","value","No determinado",3,"disabled","ngModel","name","ngModelChange"],[1,"fa-solid","fa-circle"],[1,"col-md-4",3,"id"],[3,"label","id","categoria","archivo","nombreArchivo","tipoMime","idRegistroArchivo","habilitado","contieneAyuda","idRegistroArchivoAyuda","downl_endpoint","archivoDto","idArchivoDescarga","idArchivoAyuda"],["type","text",1,"form-control",3,"ngModel","name","disabled","ngModelChange"],["campoTexto","ngModel"],[1,"form-group"],[1,"date-input-container"],["type","text","autocomplete","off","placement","top","placeholder","dd/mm/aaaa","bsDatepicker","",1,"form-control",3,"ngModel","id","name","bsConfig","disabled","ngModelChange"],[1,"fa-regular","fa-calendar-days"],[1,"contenedor-flex"],[4,"ngIf"],[1,"circle-button",3,"disabled","click"],["src","assets/img/svg/svg-ico-18x18-Boton-Circular-Naranja-Agregar.svg",1,"icono"],["src","assets/img/svg/svg-ico-18x18-Boton-Circular-Gris-Eliminar.svg",1,"icono"],["type","text",1,"form-control",3,"ngModel","id","name","disabled","ngModelChange"],["type","button",1,"btn-secundario","flex-shrink-1",3,"click"],["type","button","form","form",1,"btn-primario",3,"disabled","click"]],template:function(t,i){1&t&&(e.TgZ(0,"app-modal-base",0,1),e.YNc(2,ai,36,12,"ng-template",null,2,e.W1O),e.YNc(4,ri,4,1,"ng-template",null,3,e.W1O),e.qZA()),2&t&&e.Q6J("titulo",i.nombreEntidad+" - "+i.accion)},dependencies:[p._Y,p.Fj,p._,p.JJ,p.JL,p.On,p.F,s.sg,s.O5,he.B,K.x,f.Np,f.Y5],styles:[".circle-button[_ngcontent-%COMP%]{background-color:transparent}"]})}const si=["formulario"];class we extends _e.v{constructor(n,t,i,o,a){super(t,i,o),this.contratoPersonalService=n,this.contratoService=a,this.submiting=!1,this.HEADER_GRID="Trabajador",this.NOMBRE_ENTIDAD="Trabajador",this.crudConfig={nombreEntidad:this.NOMBRE_ENTIDAD,generoGramatical:"masc",nombrePropiedadId:"idContratoPersonal",formConfig:{ComponenteFormulario:ye,modalConfig:ue.OS.Large,configAgregar:{acceso:w.bk.Agregar},configEditar:{acceso:w.bk.Modificar}},configEliminar:{acceso:w.bk.Eliminar,elementToString:c=>c.nombre}},this.columns=[{headerName:"Nombre Trabajador",field:"nombre",minWidth:150},{headerName:"Correo Electr\xf3nico",field:"correo",minWidth:150},{headerName:"T\xe9lefono Celular",field:"telefonoMovil",minWidth:150},{headerName:"%Cumplimiento",field:"cumpTrabajador",minWidth:150}]}ngOnInit(){super.onInit()}consultarGrid(){return this.consultarPromedios(),this.contratoPersonalService.consultarParaGrid(this.idContrato)}eliminar(n){return this.contratoPersonalService.eliminar(n)}consultarPromedios(){this.contratoService.consultarPromedios(this.idContrato).subscribe(n=>{this.entidad.cumplPers=n.cumplPers})}static#e=this.\u0275fac=function(t){return new(t||we)(e.Y36(V),e.Y36(m.Q),e.Y36(T.tT),e.Y36(Y.V),e.Y36(D.d))};static#t=this.\u0275cmp=e.Xpm({type:we,selectors:[["app-contrato-personal"]],viewQuery:function(t,i){if(1&t&&e.Gf(si,5),2&t){let o;e.iGM(o=e.CRH())&&(i.formulario=o.first)}},inputs:{entidad:"entidad",heading:"heading",tipo:"tipo",esEvaluador:"esEvaluador",esCarga:"esCarga",idContrato:"idContrato"},features:[e.qOj],decls:14,vars:7,consts:[[1,"subseccion"],[1,"row"],[1,"col-auto"],[1,"form-group","fg-width-1","percentage"],[2,"display","flex","flex-direction","column"],[1,"label-input","required-label"],[1,"progress-bar"],["type","text","disabled","",1,"form-control"],[1,"progress"],[1,"progress-label"],["titulo","Listado del Personal","tituloBoton"," Personal",3,"columns","crudConfig","elementos$","tieneAccesoAgregar$","agregarClick","gridClick"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e._uU(1,"Resumen Cumplimiento"),e.qZA(),e.TgZ(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",4)(6,"label",5),e._uU(7,"% Cumplimiento Personal"),e.qZA(),e.TgZ(8,"div",6),e._UZ(9,"input",7)(10,"div",8),e.TgZ(11,"div",9),e._uU(12),e.qZA()()()()()(),e.TgZ(13,"app-catalogo-base",10),e.NdJ("agregarClick",function(){return i.agregar(i.idContrato)})("gridClick",function(a){return i.onGridClick(a)}),e.qZA()),2&t&&(e.xp6(10),e.Udp("width",i.entidad.cumplPers,"%"),e.xp6(2),e.hij("",i.entidad.cumplPers,"%"),e.xp6(1),e.Q6J("columns",i.columns)("crudConfig",i.crudConfig)("elementos$",i.registros$)("tieneAccesoAgregar$",i.tieneAccesoAgregar$))},dependencies:[fe.B]})}const ci=["informacionGeneral"],di=["documentacionEmpresa"],li=["requerimientosAmbientales"],_i=["requisitosMaquinaria"],ui=["tabset"],pi=["guiasTipo"];function mi(r,n){if(1&r&&e._UZ(0,"app-contrato-informacion-general",9,10),2&r){const t=e.oxw(2);e.Q6J("entidad",t.entidad)}}function gi(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"tab",11)(1,"app-contrato-documentacion-empresa",12,13),e.NdJ("cancelarBtn",function(o){e.CHM(t);const a=e.oxw(2);return e.KtG(a.cerrarModal(o))}),e.qZA()()}if(2&r){const t=e.oxw(2);e.Q6J("heading",t.heading001),e.xp6(1),e.Q6J("entidad",t.entidad)("esEvaluador",t.esEvaluador)("esCarga",t.esCarga)}}function hi(r,n){if(1&r&&(e.TgZ(0,"tab",11),e._UZ(1,"app-contrato-personal",14,15),e.qZA()),2&r){const t=e.oxw(2);e.Q6J("heading",t.heading002),e.xp6(1),e.Q6J("entidad",t.entidad)("esEvaluador",t.esEvaluador)("esCarga",t.esCarga)("idContrato",t.idEntidad)}}function vi(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"tab",11)(1,"app-contrato-requisitos-materiales",16,17),e.NdJ("cancelarBtn",function(o){e.CHM(t);const a=e.oxw(2);return e.KtG(a.cerrarModal(o))}),e.qZA()()}if(2&r){const t=e.oxw(2);e.Q6J("heading",t.heading003),e.xp6(1),e.Q6J("entidad",t.entidad)("esEvaluador",t.esEvaluador)("esCarga",t.esCarga)("idContrato",t.idEntidad)}}function fi(r,n){if(1&r&&(e.TgZ(0,"tab",11),e._UZ(1,"app-contrato-maquinaria",18,19),e.qZA()),2&r){const t=e.oxw(2);e.Q6J("heading",t.heading004),e.xp6(1),e.Q6J("entidad",t.entidad)("esEvaluador",t.esEvaluador)("esCarga",t.esCarga)}}function Ci(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"tab",11)(1,"app-contrato-requerimientos-ambientales",20,21),e.NdJ("cancelarBtn",function(o){e.CHM(t);const a=e.oxw(2);return e.KtG(a.cerrarModal(o))}),e.qZA()()}if(2&r){const t=e.oxw(2);e.Q6J("heading",t.heading005),e.xp6(1),e.Q6J("entidad",t.entidad)("esEvaluador",t.esEvaluador)("esCarga",t.esCarga)}}function bi(r,n){if(1&r&&e._UZ(0,"app-contrato-guia",24,25),2&r){const t=e.oxw().$implicit,i=e.oxw(2);e.Q6J("entidad",i.entidad)("heading",t.nombreTipoGuia)("clave",t.claveTipoGuia)}}function xi(r,n){if(1&r&&(e.TgZ(0,"tab",22),e.YNc(1,bi,2,3,"app-contrato-guia",23),e.qZA()),2&r){const t=n.$implicit,i=n.index,o=e.oxw(2);e.Q6J("heading",t.nombreTipoGuia)("disabled",!o.esConfig)("active",0===i),e.xp6(1),e.Q6J("ngIf",o.esConfig)}}function Ai(r,n){if(1&r&&(e.TgZ(0,"tabset",3,4)(2,"tab",5),e.YNc(3,mi,2,1,"app-contrato-informacion-general",6),e.qZA(),e.YNc(4,gi,3,4,"tab",7),e.YNc(5,hi,3,5,"tab",7),e.YNc(6,vi,3,5,"tab",7),e.YNc(7,fi,3,4,"tab",7),e.YNc(8,Ci,3,4,"tab",7),e.YNc(9,xi,2,4,"tab",8),e.qZA()),2&r){const t=e.oxw();e.xp6(2),e.Q6J("disabled",t.esConfig),e.xp6(1),e.Q6J("ngIf",t.esAgregar||!t.esConfig),e.xp6(1),e.Q6J("ngIf",!t.esConfig&&!t.esAgregar),e.xp6(1),e.Q6J("ngIf",!t.esConfig&&!t.esAgregar),e.xp6(1),e.Q6J("ngIf",!t.esConfig&&!t.esAgregar),e.xp6(1),e.Q6J("ngIf",!t.esConfig&&!t.esAgregar),e.xp6(1),e.Q6J("ngIf",!t.esConfig&&!t.esAgregar),e.xp6(1),e.Q6J("ngForOf",t.entidad.guias)}}function Mi(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"button",26),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.cancelar(!0))}),e._uU(1," Cancelar "),e.qZA(),e.TgZ(2,"button",27),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onSubmit())}),e._uU(3," Guardar "),e.qZA()}if(2&r){const t=e.oxw();e.xp6(2),e.Q6J("disabled",t.submiting)}}class Ee extends me.P{constructor(n,t,i){super(t),this.contratoService=n,this.accesoService=i,this.destroy$=new L.x,this.placeHolderSelect=U.g.PLACEHOLDER_DROPDOWN,this.placeHolderNoOptions=U.g.PLACEHOLDER_DROPDOWN_NO_OPTIONS,this.submiting=!1,this.tabSeleccionado=0,this.general=new Je,this.esAgregar=!0}ngOnInit(){var n=()=>super.onInit,t=this;return(0,pe.Z)(function*(){t.entidad.general=new Je,yield n().call(t),(t.accion!=ge.V_.Agregar||t.idEntidad)&&(t.esAgregar=!1),t.accesoService.tieneAcceso(w.bk.Evaluar).subscribe(i=>{t.esEvaluador=i}),t.accesoService.tieneAcceso(w.bk.CargarDescargarArchivos).subscribe(i=>{t.esCarga=i}),t.esConfig?t.titulo="Configurar":t.titulo=t.accion})()}ngOnDestroy(){this.destroy$.next()}consultar(n){return this.esConfig?this.contratoService.consultarParaConfigurar(n).pipe((0,j.R)(this.destroy$),(0,Ie.U)(t=>t)):this.contratoService.consultarParaFormulario(n).pipe((0,j.R)(this.destroy$),(0,k.b)(t=>{t.general.idContrato&&this.maquinariayEquipo.cargarDatos(t.general.idContrato)}),(0,Ie.U)(t=>(t.general.fechaAltaISO=t.general.fechaAlta.toISOString(),t.guias.forEach(i=>{switch(i.claveTipoGuia.toString()){case"001":this.heading001=i.nombreTipoGuia;break;case"002":this.heading002=i.nombreTipoGuia;break;case"003":this.heading003=i.nombreTipoGuia;break;case"004":this.heading004=i.nombreTipoGuia;break;case"005":this.heading005=i.nombreTipoGuia}}),t.guias=[],t)))}agregar(n){return this.contratoService.agregar(n)}editar(n){if(this.esConfig){let t=this.guiasEmpresa.toArray().find(i=>i.heading===this.seleccionado);return t?this.contratoService.editarTipoGuia(n,t.clave):new Ne.y}switch(this.seleccionado){case this.informacionGeneral?.heading:return this.contratoService.editarGeneral(n);case this.documentacionEmpresa?.heading:return this.contratoService.editarDocumentos(n);case this.requerimientosAmbientales?.heading:return this.contratoService.editarAmbientales(n);default:return new Ne.y}}onSubmit(){this.seleccionado=this.tabset.tabs.find(t=>1==t.active)?.heading;let n=this.consultarFormulario(this.seleccionado);n?super.onSubmit(n):super.cancelar(!0)}consultarFormulario(n){if(this.esConfig){let t=this.guiasEmpresa.toArray().find(i=>i.heading===n);return t?t.formulario:null}switch(n){case this.informacionGeneral?.heading:return this.informacionGeneral.formulario;case this.documentacionEmpresa?.heading:case this.requerimientosAmbientales?.heading:return this.documentacionEmpresa.formulario;default:return null}}cerrarModal(n){n&&(this.destroy$.next(),super.cancelar())}static#e=this.\u0275fac=function(t){return new(t||Ee)(e.Y36(D.d),e.Y36(Y.V),e.Y36(m.Q))};static#t=this.\u0275cmp=e.Xpm({type:Ee,selectors:[["app-contrato-formulario"]],viewQuery:function(t,i){if(1&t&&(e.Gf(ci,5),e.Gf(di,5),e.Gf(li,5),e.Gf(_i,5),e.Gf(ui,5),e.Gf(pi,5)),2&t){let o;e.iGM(o=e.CRH())&&(i.informacionGeneral=o.first),e.iGM(o=e.CRH())&&(i.documentacionEmpresa=o.first),e.iGM(o=e.CRH())&&(i.requerimientosAmbientales=o.first),e.iGM(o=e.CRH())&&(i.maquinariayEquipo=o.first),e.iGM(o=e.CRH())&&(i.tabset=o.first),e.iGM(o=e.CRH())&&(i.guiasEmpresa=o)}},features:[e.qOj],decls:5,vars:1,consts:[[3,"titulo"],["modalBody",""],["modalFooter",""],[1,"justify-content-center"],["tabset",""],["customClass","customClass","heading","Informaci\xf3n Contrato",2,"padding","0",3,"disabled"],["heading","Informaci\xf3n Contrato",3,"entidad",4,"ngIf"],["customClass","customClass","style","padding: 0;",3,"heading",4,"ngIf"],["customClass","customClass","style","padding: 0;",3,"heading","disabled","active",4,"ngFor","ngForOf"],["heading","Informaci\xf3n Contrato",3,"entidad"],["informacionGeneral",""],["customClass","customClass",2,"padding","0",3,"heading"],["heading","Documentaci\xf3n de la Empresa",3,"entidad","esEvaluador","esCarga","cancelarBtn"],["documentacionEmpresa",""],["heading","Documentaci\xf3n del Personal",3,"entidad","esEvaluador","esCarga","idContrato"],["documentacionPersonal",""],["heading","Requisitos Materiales",3,"entidad","esEvaluador","esCarga","idContrato","cancelarBtn"],["requisitosMateriales",""],["heading","Requisitos de Maquinaria y Equipo",3,"entidad","esEvaluador","esCarga"],["requisitosMaquinaria",""],["heading","Requerimientos Ambientales",3,"entidad","esEvaluador","esCarga","cancelarBtn"],["requerimientosAmbientales",""],["customClass","customClass",2,"padding","0",3,"heading","disabled","active"],[3,"entidad","heading","clave",4,"ngIf"],[3,"entidad","heading","clave"],["guiasTipo",""],["type","button",1,"btn-secundario","mr-3",3,"click"],["type","submit","form","form",1,"btn-primario","btn-margin-left",3,"disabled","click"]],template:function(t,i){1&t&&(e.TgZ(0,"app-modal-base",0),e.YNc(1,Ai,10,8,"ng-template",null,1,e.W1O),e.YNc(3,Mi,4,1,"ng-template",null,2,e.W1O),e.qZA()),2&t&&e.Q6J("titulo",i.nombreEntidad+" - "+i.titulo)},dependencies:[s.sg,s.O5,he.B,$.wW,$.AH,Ce,xe,Ae,Me,Te,qe,we],styles:['@charset "UTF-8";.nav-item.customClass{width:177px;white-space:normal;text-align:center;line-height:1.2}.slider.round.h-0{height:calc(1.5em + .75rem + 0px)}.percentage .switch{top:4px;width:100%;height:40px}.percentage .slider{border:#d9d9d9;border-style:solid}.percentage .slider span{width:100%;font-family:Roboto;padding-right:10px;text-align:right}.percentage .slider:before{background-color:#929292;bottom:-1px;height:39px;width:39px;left:-1px;display:flex;align-items:center;justify-content:center;color:#fff;content:"0"}.percentage input[disabled]+.slider span{color:gray}textarea{padding-top:5px;padding-left:10px;border-radius:5px!important;width:100%}.label-input{white-space:nowrap}.fg-width-1{width:150px}.fg-width-2{width:325px}.date-input-container{position:relative;width:100%}.date-input-container input[type=date]{width:100%;padding-right:30px}.date-input-container .fa-calendar-days{position:absolute;right:10px;top:50%;transform:translateY(-50%);pointer-events:none}.circle-button{border-radius:50%;width:30px;height:30px;border:none}.gray-btn{background-color:#d0cece;color:#fff}.orange-btn{background-color:#ed7d31;color:#fff}input[disabled]+.slider-eval{width:291px;height:43px}input:checked+.slider{background-color:#ed7031}input:checked+.slider:before{transform:translate(70px)}:root{--color-primario: #3f75d2;--color-primario-hover: #F9EFFB;--color-menu: #3f75d2}.btn-subir{font-size:small;color:#fbe5d6;padding:1px 10px;background-color:#ed7d31;transition:.2s;border:1px #f2f2f2 solid;color:#fff;font-size:14px;text-align:center;border-radius:20px;text-wrap:true;max-width:100%;max-height:100%;align-content:center}.btn-subir:hover{background-color:#c56b30}.contenedor-flex{display:flex;justify-content:flex-end}.contenedor-vertical{align-items:center;display:grid}.contenedor-derecha{justify-content:flex-end}.contenedor-flex-horizontal{display:flex;align-items:baseline;border-bottom:1px solid #e3e3e3;padding-bottom:17px}.contenedor-btn{margin-top:35px}.gray-btn{font-size:small;color:#fbe5d6;padding:1px 10px;background-color:#d0cece;transition:.2s;border:1px #f2f2f2 solid;color:#fff;font-size:14px;text-align:center;border-radius:20px;text-wrap:true;max-width:100%;max-height:100%;align-content:center}.gray-btn:hover{background-color:#d0cece}.progress{top:0;left:0;width:100%;height:100%;position:absolute;border-radius:20px;background-color:#4caf50}.progress-label{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);color:#000}.progress-bar{width:100%;height:100%;line-height:30px;text-align:center;color:#fff;position:relative;border-radius:20px;background-color:#4caf50}.progress-bar input[type=range]::-webkit-slider-thumb{appearance:none;width:30px;height:30px;background:#4CAF50;cursor:pointer}\n'],encapsulation:2})}function Ti(r,n){1&r&&e._UZ(0,"i",7)}function Zi(r,n){1&r&&e._UZ(0,"i",8)}function Ge(r){return r>81?"#00B050":r>70?"#F7A823":"#C00000"}function ke(r){var n="";return r<10?n="    ":r<100&&(n="  "),`${n}${r.toFixed(2)}`}function ae(r){const n=Ge(r.value);return`<text class="m-2" style="white-space: pre;">${ke(r.value)}</text>\n    <svg width="106" height="28" xmlns="http://www.w3.org/2000/svg">\n      <polygon points="0,5 10,5 20,14 10,23 0,23" fill=${n} />\n    </svg>`}function qi(r){const n=Ge(r.value);return`<text class="m-2" style="white-space: pre;">${ke(r.value)}</text>\n    <svg width="106" height="28" xmlns="http://www.w3.org/2000/svg">\n    <circle cx="10%" cy="50%" r="9" fill=${n} />\n    </svg>`}class De extends _e.v{constructor(n,t,i,o){super(t,i,o),this.contratoService=n,this.HEADER_GRID="Contratos",this.destroy$=new L.x,this.NOMBRE_ENTIDAD="Contrato",this.isCollapsed=!0,this.crudConfig={nombreEntidad:this.NOMBRE_ENTIDAD,generoGramatical:"masc",nombrePropiedadId:"idContrato",formConfig:{ComponenteFormulario:Ee,modalConfig:ue.OS.Large,configAgregar:{acceso:w.bk.Agregar},configEditar:{acceso:w.bk.Modificar}},configEliminar:{acceso:w.bk.Eliminar,elementToString:a=>a.numContrato}},this.configButton={headerName:"",field:"",cellRenderer:"actionButton",acceso:w.bk.Configurar,minWidth:44,maxWidth:44,resizable:!1,sortable:!1,filter:!1,suppressMovable:!0,lockPosition:!0,action:"edit",pinned:"right",title:"Configurar"},this.columns=[{headerName:"Contrato",field:"numContrato",wrapHeaderText:!0,autoHeaderHeight:!0,minWidth:30,width:30},{headerName:"Estatus",field:"estatusContrato",wrapHeaderText:!0,autoHeaderHeight:!0,minWidth:30,width:30,valueFormatter:function(a){return a.value?"Activo":"Inactivo"}},{headerName:"Fecha Alta",field:"fechaAlta",minWidth:30,width:30},{headerName:"Descripci\xf3n Breve",field:"descripcionContrato",wrapHeaderText:!0,autoHeaderHeight:!0,wrapText:!1,minWidth:30,width:50},{headerName:"Contratista",field:"contratista",wrapHeaderText:!0,autoHeaderHeight:!0,minWidth:50,width:50},{headerName:"Contrato Padre",field:"contratoPadre",wrapHeaderText:!0,autoHeaderHeight:!0,wrapText:!1,minWidth:30,width:40},{headerName:"% Prom Docum",field:"promedio",wrapHeaderText:!0,autoHeaderHeight:!0,minWidth:50,width:50,cellRenderer:qi},{headerName:"% Empresa",field:"empresa",wrapHeaderText:!0,autoHeaderHeight:!0,minWidth:50,width:50,cellRenderer:ae},{headerName:"% Personal",field:"personal",wrapHeaderText:!0,autoHeaderHeight:!0,minWidth:50,width:50,cellRenderer:ae},{headerName:"% Materiales",field:"materiales",wrapHeaderText:!0,autoHeaderHeight:!0,minWidth:50,width:50,cellRenderer:ae},{headerName:"% Equipo",field:"equipo",wrapHeaderText:!0,autoHeaderHeight:!0,minWidth:50,width:50,cellRenderer:ae},{headerName:"% Req. Ambiental",field:"ambiental",wrapHeaderText:!0,autoHeaderHeight:!0,minWidth:50,width:50,cellRenderer:ae},this.configButton]}ngOnInit(){super.onInit()}consultarGrid(){return this.contratoService.consultarParaGrid()}eliminar(n){return this.contratoService.eliminar(n)}static#e=this.\u0275fac=function(t){return new(t||De)(e.Y36(D.d),e.Y36(m.Q),e.Y36(T.tT),e.Y36(Y.V))};static#t=this.\u0275cmp=e.Xpm({type:De,selectors:[["app-contrato"]],features:[e.qOj],decls:8,vars:6,consts:[[1,"form-row","panel-busqueda","mb-4"],[1,"panel-carga-elementos","center-element-vertically",3,"click"],[1,"titulo-panel"],[1,"arow-down-up"],["class","fa fa-chevron-down",4,"ngIf"],["class","fa fa-chevron-up",4,"ngIf"],["titulo","Contratos","tituloBoton","Contrato",3,"columns","crudConfig","elementos$","tieneAccesoAgregar$","agregarClick","gridClick"],[1,"fa","fa-chevron-down"],[1,"fa","fa-chevron-up"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e.NdJ("click",function(){return i.isCollapsed=!i.isCollapsed}),e.TgZ(2,"span",2),e._uU(3,"Panel de B\xfasqueda"),e.qZA(),e.TgZ(4,"span",3),e.YNc(5,Ti,1,0,"i",4),e.YNc(6,Zi,1,0,"i",5),e.qZA()()(),e.TgZ(7,"app-catalogo-base",6),e.NdJ("agregarClick",function(){return i.agregar()})("gridClick",function(a){return i.onGridClick(a)}),e.qZA()),2&t&&(e.xp6(5),e.Q6J("ngIf",i.isCollapsed),e.xp6(1),e.Q6J("ngIf",!i.isCollapsed),e.xp6(1),e.Q6J("columns",i.columns)("crudConfig",i.crudConfig)("elementos$",i.registros$)("tieneAccesoAgregar$",i.tieneAccesoAgregar$))},dependencies:[s.O5,fe.B],styles:[".ag-cell-wrap-text[_ngcontent-%COMP%]{white-space:unset!important}"]})}var yi=l(13050);const wi=[{path:"",component:De,canActivate:[yi.m],data:{title:"Consulta",acceso:w.bk.Consultar}}];class Ue{static#e=this.\u0275fac=function(t){return new(t||Ue)};static#t=this.\u0275mod=e.oAB({type:Ue});static#i=this.\u0275inj=e.cJS({imports:[Re.Bz.forChild(wi),Re.Bz]})}class Fe{static#e=this.\u0275fac=function(t){return new(t||Fe)};static#t=this.\u0275mod=e.oAB({type:Fe});static#i=this.\u0275inj=e.cJS({imports:[s.ez,Ue,E.A,s.ez,x.Z,T.zk.forChild(),h.a,le]})}},59241:(B,O,l)=>{l.d(O,{AH:()=>D,P4:()=>f,wW:()=>$});var s=l(94650),E=l(36895);function x(m,d){if(1&m){const u=s.EpF();s.TgZ(0,"span",7),s.NdJ("click",function(C){s.CHM(u);const e=s.oxw().$implicit,A=s.oxw();return C.preventDefault(),s.KtG(A.removeTab(e))}),s._uU(1," \u274c"),s.qZA()}}const T=function(m){return["nav-item",m]};function h(m,d){if(1&m){const u=s.EpF();s.TgZ(0,"li",3),s.NdJ("keydown",function(C){const A=s.CHM(u).index,R=s.oxw();return s.KtG(R.keyNavActions(C,A))}),s.TgZ(1,"a",4),s.NdJ("click",function(){const e=s.CHM(u).$implicit;return s.KtG(e.active=!0)}),s.TgZ(2,"span",5),s._uU(3),s.qZA(),s.YNc(4,x,2,0,"span",6),s.qZA()()}if(2&m){const u=d.$implicit;s.ekj("active",u.active)("disabled",u.disabled),s.Q6J("ngClass",s.VKq(15,T,u.customClass||"")),s.xp6(1),s.ekj("active",u.active)("disabled",u.disabled),s.uIk("aria-controls",u.id?u.id:"")("aria-selected",!!u.active)("id",u.id?u.id+"-link":""),s.xp6(1),s.Q6J("ngTransclude",u.headingRef),s.xp6(1),s.Oqu(u.heading),s.xp6(1),s.Q6J("ngIf",u.removable)}}class p{constructor(d){this.viewRef=d}set ngTransclude(d){this._ngTransclude=d,d&&this.viewRef.createEmbeddedView(d)}get ngTransclude(){return this._ngTransclude}}p.\u0275fac=function(d){return new(d||p)(s.Y36(s.s_b))},p.\u0275dir=s.lG2({type:p,selectors:[["","ngTransclude",""]],inputs:{ngTransclude:"ngTransclude"}});class P{constructor(){this.type="tabs",this.isKeysAllowed=!0,this.ariaLabel="Tabs"}}P.\u0275fac=function(d){return new(d||P)},P.\u0275prov=s.Yz7({token:P,factory:P.\u0275fac,providedIn:"root"});class D{constructor(d,u,v){this.renderer=u,this.elementRef=v,this.clazz=!0,this.tabs=[],this.classMap={},this.ariaLabel="Tabs",this.isDestroyed=!1,this._vertical=!1,this._justified=!1,this._type="tabs",this._isKeysAllowed=!0,Object.assign(this,d)}get vertical(){return this._vertical}set vertical(d){this._vertical=d,this.setClassMap()}get justified(){return this._justified}set justified(d){this._justified=d,this.setClassMap()}get type(){return this._type}set type(d){this._type=d,this.setClassMap()}get isKeysAllowed(){return this._isKeysAllowed}set isKeysAllowed(d){this._isKeysAllowed=d}ngOnDestroy(){this.isDestroyed=!0}addTab(d){this.tabs.push(d),d.active=1===this.tabs.length&&!d.active}removeTab(d,u={reselect:!0,emit:!0}){const v=this.tabs.indexOf(d);if(-1!==v&&!this.isDestroyed){if(u.reselect&&d.active&&this.hasAvailableTabs(v)){const C=this.getClosestTabIndex(v);this.tabs[C].active=!0}u.emit&&d.removed.emit(d),this.tabs.splice(v,1),d.elementRef.nativeElement.parentNode&&this.renderer.removeChild(d.elementRef.nativeElement.parentNode,d.elementRef.nativeElement)}}keyNavActions(d,u){if(!this.isKeysAllowed)return;const v=Array.from(this.elementRef.nativeElement.querySelectorAll(".nav-link"));if(13===d.keyCode||"Enter"===d.key||32===d.keyCode||"Space"===d.key)return d.preventDefault(),void v[u%v.length].click();if(39!==d.keyCode&&"RightArrow"!==d.key)if(37!==d.keyCode&&"LeftArrow"!==d.key)if(36!==d.keyCode&&"Home"!==d.key)if(35!==d.keyCode&&"End"!==d.key){if((46===d.keyCode||"Delete"===d.key)&&this.tabs[u].removable){if(this.removeTab(this.tabs[u]),v[u+1])return void v[(u+1)%v.length].focus();v[v.length-1]&&v[0].focus()}}else{d.preventDefault();let C,e=1,A=u;do{A-e<0?(A=v.length-1,C=v[A],e=0):C=v[A-e],e++}while(C.classList.contains("disabled"));C.focus()}else{d.preventDefault();let C,e=0;do{C=v[e%v.length],e++}while(C.classList.contains("disabled"));C.focus()}else{let C,e=1,A=u;do{A-e<0?(A=v.length-1,C=v[A],e=0):C=v[A-e],e++}while(C.classList.contains("disabled"));C.focus()}else{let C,e=1;do{C=v[(u+e)%v.length],e++}while(C.classList.contains("disabled"));C.focus()}}getClosestTabIndex(d){const u=this.tabs.length;if(!u)return-1;for(let v=1;v<=u;v+=1){const C=d-v,e=d+v;if(this.tabs[C]&&!this.tabs[C].disabled)return C;if(this.tabs[e]&&!this.tabs[e].disabled)return e}return-1}hasAvailableTabs(d){const u=this.tabs.length;if(!u)return!1;for(let v=0;v<u;v+=1)if(!this.tabs[v].disabled&&v!==d)return!0;return!1}setClassMap(){this.classMap={"nav-stacked":this.vertical,"flex-column":this.vertical,"nav-justified":this.justified,[`nav-${this.type}`]:!0}}}D.\u0275fac=function(d){return new(d||D)(s.Y36(P),s.Y36(s.Qsj),s.Y36(s.SBq))},D.\u0275cmp=s.Xpm({type:D,selectors:[["tabset"]],hostVars:2,hostBindings:function(d,u){2&d&&s.ekj("tab-container",u.clazz)},inputs:{vertical:"vertical",justified:"justified",type:"type"},ngContentSelectors:["*"],decls:4,vars:3,consts:[["role","tablist",1,"nav",3,"ngClass","click"],[3,"ngClass","active","disabled","keydown",4,"ngFor","ngForOf"],[1,"tab-content"],[3,"ngClass","keydown"],["href","javascript:void(0);","role","tab",1,"nav-link",3,"click"],[3,"ngTransclude"],["class","bs-remove-tab",3,"click",4,"ngIf"],[1,"bs-remove-tab",3,"click"]],template:function(d,u){1&d&&(s.F$t(),s.TgZ(0,"ul",0),s.NdJ("click",function(C){return C.preventDefault()}),s.YNc(1,h,5,17,"li",1),s.qZA(),s.TgZ(2,"div",2),s.Hsn(3),s.qZA()),2&d&&(s.Q6J("ngClass",u.classMap),s.uIk("aria-label",u.ariaLabel),s.xp6(1),s.Q6J("ngForOf",u.tabs))},dependencies:[E.mk,E.sg,E.O5,p],styles:["[_nghost-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   .nav-item.disabled[_ngcontent-%COMP%]   a.disabled[_ngcontent-%COMP%]{cursor:default}"]});class ${constructor(d,u,v){this.elementRef=u,this.renderer=v,this.disabled=!1,this.removable=!1,this.selectTab=new s.vpe,this.deselect=new s.vpe,this.removed=new s.vpe,this.addClass=!0,this.role="tabpanel",this._active=!1,this._customClass="",this.tabset=d,this.tabset.addTab(this)}get customClass(){return this._customClass}set customClass(d){this.customClass&&this.customClass.split(" ").forEach(u=>{this.renderer.removeClass(this.elementRef.nativeElement,u)}),this._customClass=d?d.trim():"",this.customClass&&this.customClass.split(" ").forEach(u=>{this.renderer.addClass(this.elementRef.nativeElement,u)})}get active(){return this._active}set active(d){if(this._active!==d){if(this.disabled&&d||!d)return void(this._active&&!d&&(this.deselect.emit(this),this._active=d));this._active=d,this.selectTab.emit(this),this.tabset.tabs.forEach(u=>{u!==this&&(u.active=!1)})}}get ariaLabelledby(){return this.id?`${this.id}-link`:""}ngOnInit(){this.removable=!!this.removable}ngOnDestroy(){this.tabset.removeTab(this,{reselect:!1,emit:!1})}}$.\u0275fac=function(d){return new(d||$)(s.Y36(D),s.Y36(s.SBq),s.Y36(s.Qsj))},$.\u0275dir=s.lG2({type:$,selectors:[["tab"],["","tab",""]],hostVars:7,hostBindings:function(d,u){2&d&&(s.uIk("id",u.id)("role",u.role)("aria-labelledby",u.ariaLabelledby),s.ekj("active",u.active)("tab-pane",u.addClass))},inputs:{heading:"heading",id:"id",disabled:"disabled",removable:"removable",customClass:"customClass",active:"active"},outputs:{selectTab:"selectTab",deselect:"deselect",removed:"removed"},exportAs:["tab"]});class y{constructor(d,u){u.headingRef=d}}y.\u0275fac=function(d){return new(d||y)(s.Y36(s.Rgc),s.Y36($))},y.\u0275dir=s.lG2({type:y,selectors:[["","tabHeading",""]]});class f{static forRoot(){return{ngModule:f,providers:[]}}}f.\u0275fac=function(d){return new(d||f)},f.\u0275mod=s.oAB({type:f}),f.\u0275inj=s.cJS({imports:[E.ez]})}}]);