"use strict";(self.webpackChunkroadis_app=self.webpackChunkroadis_app||[]).push([[207],{1367:(H,N,o)=>{o.d(N,{N:()=>_});var v=o(15861),h=o(94650);class _{constructor(){this.latitud=0,this.longitud=0}abrirMapa(){var i=this;return(0,v.Z)(function*(){try{yield i.obtenerCoordenadas(),i.abrirEnGoogleMaps()}catch(p){console.error("Error al obtener las coordenadas:",p)}})()}abrirEnGoogleMaps(){const i=`https://www.google.com/maps?q=${this.latitud},${this.longitud}`,p=document.createElement("a");p.href=i,p.target="_blank",p.click()}obtenerCoordenadas(){var i=this;return(0,v.Z)(function*(){return new Promise((p,n)=>{i.downl_endpoint().subscribe({next:M=>{i.latitud=M.latitud,i.longitud=M.longitud,p()},error:n})})})()}static#e=this.\u0275fac=function(p){return new(p||_)};static#i=this.\u0275cmp=h.Xpm({type:_,selectors:[["app-mapa"]],inputs:{latitud:"latitud",longitud:"longitud",downl_endpoint:"downl_endpoint"},decls:3,vars:0,consts:[[1,"form-group",2,"margin-top","40px"],[1,"d-flex","justify-content-around"],[1,"btn-imagen",3,"click"]],template:function(p,n){1&p&&(h.TgZ(0,"div",0)(1,"div",1)(2,"button",2),h.NdJ("click",function(){return n.abrirMapa()}),h.qZA()()())},styles:[".btn-imagen[_ngcontent-%COMP%]{border:none;width:20px;height:38px;background-image:url(svg-ico-15x15-naranja-GPS.de8308f3101256ac.svg);background-size:100%;background-color:#fff;background-repeat:no-repeat}"]})}},79474:(H,N,o)=>{o.d(N,{b:()=>_});var v=o(36895),h=o(94650);class _{static#e=this.\u0275fac=function(p){return new(p||_)};static#i=this.\u0275mod=h.oAB({type:_});static#t=this.\u0275inj=h.cJS({imports:[v.ez]})}},9299:(H,N,o)=>{o.d(N,{b:()=>_});var v=o(94650),h=o(80529);class _{constructor(i){this.http=i,this.dataUrl="terminoTrabajo/"}consultarParaFormulario(i){return this.http.get(this.dataUrl+`${i}`)}agregar(i){return this.http.post(this.dataUrl,i)}editar(i){return this.http.put(this.dataUrl,i)}editarFirmaResponsable(i){return this.http.put(this.dataUrl+"firmaResponsable",i)}editarFirmaJefe(i){return this.http.put(this.dataUrl+"firmaJefe",i)}editarFirmaRepresentante(i){return this.http.put(this.dataUrl+"firmaRepresentante",i)}eliminar(i){return this.http.delete(this.dataUrl+`${i}`)}consultarFirmaResponsable(i){return this.http.get(this.dataUrl+`firmaResponsable/${i}`)}consultarFirmaJefe(i){return this.http.get(this.dataUrl+`firmaJefe/${i}`)}consultarFirmaRepresentante(i){return this.http.get(this.dataUrl+`firmaRepresentante/${i}`)}obtenerLocalizacionJefe(i){return this.http.get(this.dataUrl+`localizacionJefe/${i}`)}static#e=this.\u0275fac=function(p){return new(p||_)(v.LFG(h.eN))};static#i=this.\u0275prov=v.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"})}},71983:(H,N,o)=>{o.d(N,{a:()=>_});var v=o(94650),h=o(80529);class _{constructor(i){this.http=i,this.dataUrl="monitoreoSignosVitales/"}consultar(i){return this.http.get(this.dataUrl+`${i}`)}consultarParaGrid(i){return this.http.get(this.dataUrl+`grid/${i}`)}consultarParaFormulario(i){return this.http.get(this.dataUrl+`formulario/${i}`)}agregar(i){return this.http.post(this.dataUrl+"agregar",i)}editar(i){return this.http.put(this.dataUrl+"editar",i)}eliminar(i){return this.http.delete(this.dataUrl+`${i}`)}static#e=this.\u0275fac=function(p){return new(p||_)(v.LFG(h.eN))};static#i=this.\u0275prov=v.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"})}},90857:(H,N,o)=>{o.d(N,{x:()=>_});var v=o(94650),h=o(80529);class _{constructor(i){this.http=i,this.dataUrl="listaverificacion/"}consultarParaGrid(){return this.http.get(this.dataUrl+"grid")}consultarTodosParaSelector(){return this.http.get(this.dataUrl+"selector")}agregar(i){return this.http.post(this.dataUrl,i)}editar(i){return this.http.put(this.dataUrl,i)}eliminar(i){return this.http.delete(`${this.dataUrl}${i}`)}consultarParaFormulario(i){return this.http.get(this.dataUrl+`formulario/${i}`)}static#e=this.\u0275fac=function(p){return new(p||_)(v.LFG(h.eN))};static#i=this.\u0275prov=v.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"})}},49402:(H,N,o)=>{o.d(N,{X:()=>_});var v=o(94650),h=o(80529);class _{constructor(i){this.http=i,this.dataUrl="permisos/"}consultarParaGrid(i){return this.http.post(this.dataUrl+"grid",i)}consultarParaFormulario(i){return this.http.get(this.dataUrl+`${i}`)}selectorTipoTrabajo(){return this.http.get(this.dataUrl+"selectorTipoTrabajo")}editar(i){return this.http.put(this.dataUrl,i)}agregar(i){return this.http.post(this.dataUrl,i)}eliminar(i){return this.http.delete(this.dataUrl+`${i}`)}static#e=this.\u0275fac=function(p){return new(p||_)(v.LFG(h.eN))};static#i=this.\u0275prov=v.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"})}},12846:(H,N,o)=>{o.d(N,{Y:()=>g});var v=o(50986),h=o(94650),_=o(2060);class g{constructor(p){this.modalMensajeService=p}validarCamposRequeridos(p){Object.keys(p.controls).forEach(n=>{const M=p.controls[n];M.markAsTouched({onlySelf:!0}),M.markAsDirty({onlySelf:!0})})}validarCamposRequeridosConMensaje(p){Object.keys(p.controls).forEach(n=>{const M=p.controls[n];M.markAsTouched({onlySelf:!0}),M.markAsDirty({onlySelf:!0})}),Object.keys(p.controls).some(n=>{const M=p.controls[n];return!!(M.errors&&M.errors.required&&M.invalid)&&(this.modalMensajeService.modalError(v.g.MENSAJE_REQUERIDOS),!0)})}markAsUntouched(p){Object.keys(p.controls).forEach(n=>{p.controls[n].markAsUntouched({onlySelf:!0})})}static#e=this.\u0275fac=function(n){return new(n||g)(h.LFG(_.V))};static#i=this.\u0275prov=h.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"})}},31229:(H,N,o)=>{var v,p,h,_,g,i;o.d(N,{P:()=>g,US:()=>v,Vm:()=>_,Zj:()=>h,rb:()=>i}),(p=v||(v={})).Consultar="ROLV0000",p.Agregar="ROLV1000",p.Editar="ROLV2000",p.Eliminar="ROLV3000",p.NoAcceso="",function(p){p.Consultar="ROLVC0000",p.Agregar="ROLVC1000",p.Editar="ROLVC2000",p.Eliminar="ROLVC3000",p.NoAcceso=""}(h||(h={})),function(p){p.Consultar="ROCLV0000",p.Agregar="ROCLV1000",p.Editar="ROCLV2000",p.Eliminar="ROCLV3000"}(_||(_={})),function(p){p.Consultar="ROCLA0000",p.Agregar="ROCLA1000",p.Editar="ROCLA2000",p.Eliminar="ROCLA3000",p.NoAcceso=""}(g||(g={})),function(p){p.Consultar="ROTT0000",p.Agregar="ROTT1000",p.Editar="ROTT2000",p.Eliminar="ROTT3000",p.NoAcceso=""}(i||(i={}))},98416:(H,N,o)=>{o.r(N),o.d(N,{ListaVerificacionClasificadorModule:()=>G});var v=o(36895),h=o(92020),_=o(13024),g=o(24006),i=o(59241),p=o(9116),n=o(13050),M=o(27974),P=o(52522),T=o(70615),j=o(40675),r=o(94650),E=o(80529);class C{constructor(x){this.http=x,this.dataUrl="listaVerificacionClasificador/"}consultarParaGrid(){return this.http.get(this.dataUrl+"grid")}consultar(x){return this.http.get(this.dataUrl+`${x}`)}consultarSelector(){return this.http.get(this.dataUrl+"selector")}consultarParaFormulario(x){return this.http.get(this.dataUrl+`formulario/${x}`)}agregar(x){return this.http.post(this.dataUrl+"agregar",x)}editar(x){return this.http.put(this.dataUrl+"editar",x)}eliminar(x){return this.http.delete(this.dataUrl+`${x}`)}static#e=this.\u0275fac=function(Z){return new(Z||C)(r.LFG(E.eN))};static#i=this.\u0275prov=r.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"})}var f=o(90857),e=o(2060),m=o(20388),c=o(383),b=o(88796);const A=["formulario"];function D(q,x){1&q&&(r.TgZ(0,"div",21),r._uU(1," El nombre es requerido "),r.qZA())}function V(q,x){1&q&&(r.TgZ(0,"div",21),r._uU(1," El numero es requerido "),r.qZA())}function W(q,x){1&q&&(r.TgZ(0,"div",21),r._uU(1," El numero es requerido "),r.qZA())}function z(q,x){1&q&&(r.TgZ(0,"div",21),r._uU(1," El Clasificador es requerido "),r.qZA())}function K(q,x){if(1&q){const Z=r.EpF();r.TgZ(0,"div",17)(1,"div",8)(2,"label",9),r._uU(3,"Habilitada"),r.qZA(),r.TgZ(4,"label",22)(5,"input",23),r.NdJ("ngModelChange",function(L){r.CHM(Z);const w=r.oxw(2);return r.KtG(w.entidad.estatus=L)}),r.qZA(),r.TgZ(6,"span",24)(7,"span",25),r._uU(8,"Activo"),r.qZA(),r.TgZ(9,"span",26),r._uU(10,"Inactivo"),r.qZA()()()()()}if(2&q){const Z=r.oxw(2);r.xp6(5),r.Q6J("ngModel",Z.entidad.estatus)}}function ie(q,x){if(1&q){const Z=r.EpF();r.TgZ(0,"form",3,4),r.NdJ("keydown.enter",function(L){return L.preventDefault()})("ngSubmit",function(){r.CHM(Z);const L=r.MAs(1),w=r.oxw();return r.KtG(w.onSubmit(L))}),r.TgZ(2,"div",5)(3,"div",6)(4,"div",7)(5,"div",8)(6,"label",9),r._uU(7,"Nombre"),r.qZA(),r.TgZ(8,"div")(9,"input",10,11),r.NdJ("ngModelChange",function(L){r.CHM(Z);const w=r.oxw();return r.KtG(w.entidad.nombre=L)}),r.qZA(),r.YNc(11,D,2,0,"div",12),r.qZA()(),r.TgZ(12,"div",8)(13,"label",9),r._uU(14,"N\xfamero de columnas"),r.qZA(),r.TgZ(15,"div")(16,"input",13,14),r.NdJ("ngModelChange",function(L){r.CHM(Z);const w=r.oxw();return r.KtG(w.entidad.numeroColumnas=L)}),r.qZA(),r.YNc(18,V,2,0,"div",12),r.qZA()(),r.TgZ(19,"div",8)(20,"label",9),r._uU(21,"Orden Clasificacion"),r.qZA(),r.TgZ(22,"div")(23,"input",15,16),r.NdJ("ngModelChange",function(L){r.CHM(Z);const w=r.oxw();return r.KtG(w.entidad.ordenSeccion=L)}),r.qZA(),r.YNc(25,W,2,0,"div",12),r.qZA()(),r.TgZ(26,"div",17)(27,"div",8)(28,"label",9),r._uU(29,"Clasificador"),r.qZA(),r.TgZ(30,"div")(31,"ng-select",18,19),r.NdJ("ngModelChange",function(L){r.CHM(Z);const w=r.oxw();return r.KtG(w.entidad.idClasificador=L)}),r.ALo(33,"async"),r.qZA()(),r.YNc(34,z,2,0,"div",12),r.qZA()()(),r.YNc(35,K,11,1,"div",20),r.qZA()()()}if(2&q){const Z=r.MAs(10),I=r.MAs(17),L=r.MAs(24),w=r.MAs(32),Q=r.oxw();r.xp6(9),r.Q6J("ngModel",Q.entidad.nombre),r.xp6(2),r.Q6J("ngIf",(null==Z.errors?null:Z.errors.required)&&Z.touched),r.xp6(5),r.Q6J("ngModel",Q.entidad.numeroColumnas),r.xp6(2),r.Q6J("ngIf",(null==I.errors?null:I.errors.required)&&I.touched),r.xp6(5),r.Q6J("ngModel",Q.entidad.ordenSeccion),r.xp6(2),r.Q6J("ngIf",(null==L.errors?null:L.errors.required)&&L.touched),r.xp6(6),r.Q6J("items",r.lcZ(33,13,Q.clasificador$))("required",!0)("ngModel",Q.entidad.idClasificador)("placeholder",Q.DROPDOWN_PLACEHOLDER)("notFoundText",Q.DROPDOWN_NO_OPTIONS),r.xp6(3),r.Q6J("ngIf",(null==w.errors?null:w.errors.required)&&w.touched),r.xp6(1),r.Q6J("ngIf",Q.modoEditar)}}function se(q,x){if(1&q){const Z=r.EpF();r.TgZ(0,"button",27),r.NdJ("click",function(){r.CHM(Z);const L=r.oxw();return r.KtG(L.cancelar())}),r._uU(1," Cancelar "),r.qZA(),r.TgZ(2,"button",28),r.NdJ("click",function(){r.CHM(Z);const L=r.oxw();return r.KtG(L.onSubmit(L.formulario))}),r._uU(3," Guardar "),r.qZA()}if(2&q){const Z=r.oxw();r.xp6(2),r.Q6J("disabled",Z.submitting)}}class X extends T.P{constructor(x,Z,I,L,w,Q){super(I),this.listaVerificacionClasificadorService=x,this.listaVerificacionService=Z,this.modalService=L,this.bsModalRef=w,this.router=Q,this.modoEditar=!1,this.DROPDOWN_PLACEHOLDER=j.vf,this.DROPDOWN_NO_OPTIONS=j.aQ,this.mensajeAgregar="La Lista de Verificaci\xf3n Clasificador ha sido agregada",this.mensajeEditar="El Lista de Verificaci\xf3n Clasificador ha sido modificada",this.entidad.estatus=!1}ngOnInit(){super.onInit(),this.consultarSelector(),this.esEditar()}esEditar(){this.accion==j.V_.Editar&&(this.modoEditar=!0)}consultar(x){return this.listaVerificacionClasificadorService.consultar(x)}agregar(x){return this.listaVerificacionClasificadorService.agregar(x)}editar(x){return this.listaVerificacionClasificadorService.editar(x)}consultarSelector(){this.clasificador$=this.listaVerificacionClasificadorService.consultarSelector()}onSubmit(x){super.onSubmit(x)}static#e=this.\u0275fac=function(Z){return new(Z||X)(r.Y36(C),r.Y36(f.x),r.Y36(e.V),r.Y36(m.tT),r.Y36(m.UZ),r.Y36(p.F0))};static#i=this.\u0275cmp=r.Xpm({type:X,selectors:[["app-lista-verificacion-clasificador-formulario"]],viewQuery:function(Z,I){if(1&Z&&r.Gf(A,5),2&Z){let L;r.iGM(L=r.CRH())&&(I.formulario=L.first)}},features:[r.qOj],decls:5,vars:1,consts:[[3,"titulo"],["modalBody",""],["modalFooter",""],["id","form","novalidate","novalidate",3,"keydown.enter","ngSubmit"],["formulario","ngForm"],[1,"container-fluid"],[1,"row"],[1,"col-12","col-md-12"],[1,"form-group"],[1,"label-input","required-label"],["name","nombre","type","text","maxlength","50","autocomplete","off","required","",1,"form-control",3,"ngModel","ngModelChange"],["nombre","ngModel"],["class","error",4,"ngIf"],["name","numeroColumnas","type","text","maxlength","50","autocomplete","off","required","",1,"form-control",3,"ngModel","ngModelChange"],["numeroColumnas","ngModel"],["name","ordenSeccion","type","text","maxlength","50","autocomplete","off","required","",1,"form-control",3,"ngModel","ngModelChange"],["ordenSeccion","ngModel"],[1,"col-md-6"],["name","clasificador","appendTo","body","bindLabel","nombre","bindValue","idClasificador",1,"select-custom","custom-width",3,"items","required","ngModel","placeholder","notFoundText","ngModelChange"],["idClasificador","ngModel"],["class","col-md-6",4,"ngIf"],[1,"error"],[1,"switch"],["id","habilitada","name","habilitadaName","type","checkbox",1,"accent",3,"ngModel","ngModelChange"],[1,"slider","round"],[1,"on"],[1,"off"],["type","button",1,"btn-secundario","flex-shrink-1",3,"click"],["type","button","form","form",1,"btn-primario",3,"disabled","click"]],template:function(Z,I){1&Z&&(r.TgZ(0,"app-modal-base",0),r.YNc(1,ie,36,15,"ng-template",null,1,r.W1O),r.YNc(3,se,4,1,"ng-template",null,2,r.W1O),r.qZA()),2&Z&&r.Q6J("titulo",I.nombreEntidad+" - "+I.accion)},dependencies:[c.B,v.O5,g._Y,g.Fj,g.Wl,g.JJ,g.JL,g.Q7,g.nD,g.On,g.F,b.w9,v.Ov],styles:['@charset "UTF-8";.subtitulo[_ngcontent-%COMP%]{color:#ff6c00;padding-top:10px;border-top:1px #ff6c00 solid;margin-top:40px;margin-bottom:20px;width:100%}.image-box[_ngcontent-%COMP%]{display:flex;margin-top:25px;padding-left:15px;justify-items:center;align-items:center}.pointer[_ngcontent-%COMP%]{cursor:pointer}.switch[_ngcontent-%COMP%]   input.accent[_ngcontent-%COMP%]:checked + .slider.round[_ngcontent-%COMP%]{background-color:#ed7d31}.switch[_ngcontent-%COMP%]   input.accent[_ngcontent-%COMP%]:checked + .slider.round[_ngcontent-%COMP%]   .on[_ngcontent-%COMP%]{color:#fff}.switch[_ngcontent-%COMP%]{top:4px;height:calc(1.5em + .75rem + 7px);width:100px}.slider[_ngcontent-%COMP%]{border:none}.slider[_ngcontent-%COMP%]:before{background-color:#fff;bottom:7px}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]{background-color:#ed7031}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]:before{transform:translate(70px)}.on[_ngcontent-%COMP%], .off[_ngcontent-%COMP%]{font-family:Roboto}.off[_ngcontent-%COMP%]{padding-left:20px}']})}var Y=o(31229),F=o(62861),$=o(85246);class R extends M.v{constructor(x,Z,I,L,w){super(Z,I,L),this.listaVerificacionClasificadorService=x,this.bsModalRef=w,this.HEADER_GRID="Clasificador de Listas de Verificaci\xf3n",this.NOMBRE_ENTIDAD="Clasificador de Listas de Verificaci\xf3n",this.isCollapsed=!0,this.crudConfig={nombreEntidad:this.NOMBRE_ENTIDAD,generoGramatical:"masc",nombrePropiedadId:"idListaVerificacionClasificador",formConfig:{ComponenteFormulario:X,modalConfig:P.OS.Medium,configAgregar:{acceso:Y.Vm.Agregar},configEditar:{acceso:Y.Vm.Editar}},configEliminar:{acceso:Y.Vm.Eliminar,elementToString:Q=>Q.nombre}},this.columns=[{headerName:"Clave",field:"idListaVerificacionClasificador",maxWidth:100},{headerName:"Estatus",field:"estatus",maxWidth:120,valueGetter:Q=>Q.data.estatus?"Activo":"Inactivo"},{headerName:"Clasificador",field:"clasificador",minWidth:200},{headerName:"Clasificador Listas de Verificaci\xf3n",field:"nombre",minWidth:200},{headerName:"N\xfam. Columnas",field:"numeroColumnas",maxWidth:150},{headerName:"Orden Clasificador",field:"ordenSeccion",maxWidth:160}]}ngOnInit(){super.onInit()}consultarGrid(){return this.listaVerificacionClasificadorService.consultarParaGrid()}eliminar(x){return this.listaVerificacionClasificadorService.eliminar(x)}static#e=this.\u0275fac=function(Z){return new(Z||R)(r.Y36(C),r.Y36(F.Q),r.Y36(m.tT),r.Y36(e.V),r.Y36(m.UZ))};static#i=this.\u0275cmp=r.Xpm({type:R,selectors:[["app-lista-verificacion-clasificador"]],features:[r.qOj],decls:1,vars:4,consts:[["titulo","Clasificador de Listas de Verificaci\xf3n","tituloBoton","Clasificador de Listas",3,"columns","crudConfig","elementos$","tieneAccesoAgregar$","agregarClick","gridClick"]],template:function(Z,I){1&Z&&(r.TgZ(0,"app-catalogo-base",0),r.NdJ("agregarClick",function(){return I.agregar()})("gridClick",function(w){return I.onGridClick(w)}),r.qZA()),2&Z&&r.Q6J("columns",I.columns)("crudConfig",I.crudConfig)("elementos$",I.registros$)("tieneAccesoAgregar$",I.tieneAccesoAgregar$)},dependencies:[$.B]})}const U=[{path:"",component:R,canActivate:[n.m],data:{title:"Consulta",acceso:Y.Vm.Consultar}}];class S{static#e=this.\u0275fac=function(Z){return new(Z||S)};static#i=this.\u0275mod=r.oAB({type:S});static#t=this.\u0275inj=r.cJS({imports:[p.Bz.forChild(U),p.Bz]})}var y=o(43876);class O{static#e=this.\u0275fac=function(Z){return new(Z||O)};static#i=this.\u0275mod=r.oAB({type:O});static#t=this.\u0275inj=r.cJS({providers:[C],imports:[y.m81,_.u,v.ez,g.u5,b.A0]})}class G{static#e=this.\u0275fac=function(Z){return new(Z||G)};static#i=this.\u0275mod=r.oAB({type:G});static#t=this.\u0275inj=r.cJS({imports:[g.u5,i.P4,v.ez,_.u,h.A,S,O]})}},30207:(H,N,o)=>{o.r(N),o.d(N,{PermisosTrabajoModule:()=>n});var v=o(9116),h=o(49941),_=o(98416),g=o(94650);const i=[{path:"lista-verificacion",loadChildren:()=>o.e(8402).then(o.bind(o,38402)).then(M=>M.ListaVerificacionModule)},{path:"lista-verificacion-concepto",loadChildren:()=>o.e(5043).then(o.bind(o,35043)).then(M=>M.ListaVerificacionConceptoModule)},{path:"lista-verificacion-clasificador",loadChildren:()=>Promise.resolve().then(o.bind(o,98416)).then(M=>_.ListaVerificacionClasificadorModule)},{path:"clasificador",loadChildren:()=>o.e(889).then(o.bind(o,60889)).then(M=>M.ClasificadorModule)},{path:"tipo-trabajo",loadChildren:()=>o.e(4624).then(o.bind(o,44624)).then(M=>M.TipoTrabajoModule)},{path:"permisos",loadChildren:()=>Promise.resolve().then(o.bind(o,49941)).then(M=>h.PermisosModule)},{path:"controles",loadChildren:()=>Promise.all([o.e(1006),o.e(8592),o.e(1536)]).then(o.bind(o,41536)).then(M=>M.UsuarioModule)},{path:"signos-vitales",loadChildren:()=>Promise.resolve().then(o.bind(o,19283)).then(M=>M.SignosVitalesModule)}];class p{static#e=this.\u0275fac=function(T){return new(T||p)};static#i=this.\u0275mod=g.oAB({type:p});static#t=this.\u0275inj=g.cJS({imports:[v.Bz.forChild(i),v.Bz]})}class n{static#e=this.\u0275fac=function(T){return new(T||n)};static#i=this.\u0275mod=g.oAB({type:n});static#t=this.\u0275inj=g.cJS({imports:[p]})}},49941:(H,N,o)=>{o.r(N),o.d(N,{PermisosModule:()=>ve});var v=o(36895),h=o(92020),_=o(9116),g=o(27974),i=o(77579),p=o(18505),n=o(52522),M=o(15861),P=o(70615),T=o(50986),j=o(49808),r=o(82722),E=o(54004);class C{}var f=o(40675),e=o(94650),m=o(49402),c=o(2060),b=o(80529);class A{constructor(a){this.http=a,this.dataUrl="solicitudPermisoTrabajoRealizar/"}consultarValoresPorClasificador(a){return this.http.get(this.dataUrl+a)}guardarValoresPorSolicitud(a,t){return this.http.post(this.dataUrl+t,a)}static#e=this.\u0275fac=function(t){return new(t||A)(e.LFG(b.eN))};static#i=this.\u0275prov=e.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"})}var D=o(9299),V=o(383),W=o(59241),z=o(39646);class K{constructor(){}}var ie=o(94654),se=o(74654),X=o(54711);class Y{constructor(a){this.http=a,this.dataUrl="estatusPermisoTrabajo/"}consultarParaSelector(){return this.http.get(this.dataUrl+"ConsultarParaSelector/")}static#e=this.\u0275fac=function(t){return new(t||Y)(e.LFG(b.eN))};static#i=this.\u0275prov=e.Yz7({token:Y,factory:Y.\u0275fac,providedIn:"root"})}var F=o(24006),$=o(88796),R=o(1367),U=o(90061);const S=["formulario"],y=["HoraFin"];function O(d,a){if(1&d){const t=e.EpF();e.TgZ(0,"div",3)(1,"div",4)(2,"label",5),e._uU(3,"Trabajos a realizar"),e.qZA(),e.TgZ(4,"div")(5,"ng-select",63,64),e.NdJ("ngModelChange",function(l){e.CHM(t);const u=e.oxw();return e.KtG(u.entidad.informacionGeneral.idsTipoTrabajoAgregado=l)}),e.qZA()()()()}if(2&d){const t=e.oxw();e.xp6(5),e.Q6J("ngModel",t.entidad.informacionGeneral.idsTipoTrabajoAgregado)("items",t.tiposTrabajoAgregado)("placeholder",t.placeHolderSelect)("notFoundText",t.placeHolderNoOptions)("multiple",!0)}}function G(d,a){1&d&&(e.TgZ(0,"div",65),e._uU(1," El estatus es requerido "),e.qZA())}function q(d,a){1&d&&(e.TgZ(0,"div",65),e._uU(1," El Punto Kilom\xe9trico (PK) es requerido "),e.qZA())}function x(d,a){1&d&&(e.TgZ(0,"div",65),e._uU(1," La Hora de t\xe9rmino debe ser posterior a la Hora de Inicio "),e.qZA())}function Z(d,a){1&d&&(e.TgZ(0,"div",65),e._uU(1," La Hora de t\xe9rmino excede el m\xe1ximo permitido "),e.qZA())}function I(d,a){1&d&&(e.TgZ(0,"div",65),e._uU(1," El Lugar exacto de trabajo es requerido "),e.qZA())}function L(d,a){1&d&&(e.TgZ(0,"div",65),e._uU(1," El Departamento es requerido "),e.qZA())}function w(d,a){1&d&&(e.TgZ(0,"div",65),e._uU(1," El Contratista es requerido "),e.qZA())}class Q{constructor(a,t,s,l,u){this.contratoService=a,this.departamentoService=t,this.permisosService=s,this.placesService=l,this.estatusPermisoTrabajoService=u,this.fechaAlta=new Date,this.placeHolderSelect=T.g.PLACEHOLDER_DROPDOWN,this.placeHolderNoOptions=T.g.PLACEHOLDER_DROPDOWN_NO_OPTIONS,this.submiting=!1,this.horaInicio="",this.horaFin="",this.configDate={...T.g.CONFIG_DATEPICKER,withTimepicker:!0,keepDatepickerOpened:!0}}ngOnInit(){this.configDate.dateInputFormat="DD/MM/YYYY - hh:mm a",this.selectorTipoTrabajo(),this.selectorContratista(),this.selectorDepartamento(),this.selectorEstatusPermisoTrabajo(),this.esAgregar&&(this.placesService.getUserLocation().then(a=>{const[t,s]=a;this.entidad.informacionGeneral.latitud=t.toString(),this.entidad.informacionGeneral.longitud=s.toString(),this.entidad.informacionGeneral.geolocalizacion=t.toString()+" , "+s.toString(),this.entidad.informacionGeneral.geoLocModificada=this.entidad.informacionGeneral.geolocalizacion}),this.fechaHoraInicio=new Date),console.log(this.entidad.informacionGeneral)}convertTimeToNumber(a){const t=a.split(":");return parseInt(t[0],10)+parseInt(t[1],10)/60}convertNumberToTime(a){if(a){const t=Math.floor(a),s=Math.round(60*(a-t));return`${this.padZero(t)}:${this.padZero(s)}`}return""}padZero(a){return a<10?`0${a}`:a.toString()}mapTime(a,t){"horaInicio"==t&&(this.entidad.informacionGeneral.horaInicio=this.convertTimeToNumber(a)),"horaFin"==t&&(this.entidad.informacionGeneral.horaFin=this.convertTimeToNumber(a)),!this.entidad.informacionGeneral.horaInicio>=!this.entidad.informacionGeneral.horaFin&&this.campoHoraFin.validator}selectorTipoTrabajo(){this.permisosService.selectorTipoTrabajo().subscribe(a=>{let t=a.filter(s=>!this.entidad.informacionGeneral.idsTipoTrabajoAgregado?.includes(s.id));this.tiposTrabajoAgregado=a,this.tiposTrabajo=t})}selectorContratista(){this.contratoService.selectorContratista().subscribe(a=>{this.contratistas=a})}selectorDepartamento(){this.departamentoService.consultarTodosParaSelector().subscribe(a=>{this.departamentos=a})}selectorEstatusPermisoTrabajo(){this.estatusPermisoTrabajoService.consultarParaSelector().subscribe(a=>{this.estatusPermisoTrabajo=a.filter(t=>"003"!=t.clave)})}updateTotal(){let a=this.entidad.informacionGeneral.personalPlanta||0,t=this.entidad.informacionGeneral.personalContratista||0;this.totalTrabajadores=a+t}coordenadasPermiso(){let a=new K;return a.latitud=parseFloat(this.entidad.informacionGeneral.latitud),a.longitud=parseFloat(this.entidad.informacionGeneral.longitud),(0,z.of)(a)}actualizarFechaTermino(){this.entidad.informacionGeneral.horaInicio&&(this.entidad.informacionGeneral.horaFin=new Date(this.entidad.informacionGeneral.horaInicio),this.entidad.informacionGeneral.horaFin.setHours(this.entidad.informacionGeneral.horaInicio?.getHours()+8))}maxDate(){if(this.entidad.informacionGeneral.horaInicio){let t=new Date(this.entidad.informacionGeneral.horaInicio);return t.setHours(t.getHours()+8),t}let a=new Date;return a.setHours((new Date).getHours()+8),a}excede8hrs(){const a=new Date(this.entidad.informacionGeneral.horaInicio??0);return(new Date(this.entidad.informacionGeneral.horaFin??0).getTime()-a.getTime())/36e5>8}static#e=this.\u0275fac=function(t){return new(t||Q)(e.Y36(ie.d),e.Y36(se._),e.Y36(m.X),e.Y36(X.E),e.Y36(Y))};static#i=this.\u0275cmp=e.Xpm({type:Q,selectors:[["app-permisos-informacion-general"]],viewQuery:function(t,s){if(1&t&&(e.Gf(S,5),e.Gf(y,5)),2&t){let l;e.iGM(l=e.CRH())&&(s.formulario=l.first),e.iGM(l=e.CRH())&&(s.campoHoraFin=l.first)}},inputs:{heading:"heading",entidad:"entidad",esAgregar:"esAgregar"},decls:183,vars:51,consts:[["id","form","novalidate","novalidate",3,"keydown.enter"],["formulario","ngForm"],[1,"row"],[1,"col-md-2",2,"width","25%"],[1,"form-group"],[1,"label-input","required-label"],["name","ClavePermiso","type","text","maxlength","50","disabled","on",1,"form-control",3,"ngModel","ngModelChange"],["ClavePermiso","ngModel"],[1,"col-md-5",2,"width","50%"],[1,"col-md-2","warning-wrapper",2,"width","25%","display","flex","align-items","end","justify-items","left"],[1,"warning-button"],[1,"fa-solid","fa-triangle-exclamation","warning-button",2,"color","#f0bc00"],[1,"warning-panel"],[1,"subseccion"],["class","col-md-2","style","width: 25%",4,"ngIf"],["name","TipoTrabajo","bindLabel","nombre","bindValue","id",3,"ngModel","items","placeholder","notFoundText","multiple","ngModelChange"],["TipoTrabajo","ngModel"],[1,"col-md-1",2,"width","25%"],[1,"col-md-1",2,"width","12.5%"],["name","idEstatus","bindLabel","descripcion","bindValue","idEstatusPermiso","required","",3,"ngModel","items","placeholder","notFoundText","ngModelChange"],["idEstatus","ngModel"],["class","error",4,"ngIf"],[1,"date-input-container"],["type","text","disabled","",1,"form-control",3,"value","required"],[1,"fa-regular","fa-calendar-days"],[1,"col-md-8","justify",2,"width","100%","font-size","11px"],[1,"col-2",2,"width","25%"],["name","entidad.informacionGeneral.puntoKilometrico","required","","type","text","maxlength","50",1,"form-control",3,"ngModel","ngModelChange"],["puntoKilometrico","ngModel"],[1,"col-1",2,"width","12.5%"],[1,"col-1",2,"width","25%"],["name","fechaHoraInicio","type","text","autocomplete","off","placeholder","dd/mm/aaaa hh:mm:ss","bsDatepicker","",1,"form-control",3,"ngModel","required","bsConfig","minDate","ngModelChange"],["FechaHoraInicio","ngModel"],["name","fechaHoraFin","type","text","autocomplete","off","placeholder","dd/mm/aaaa hh:mm:ss","bsDatepicker","",1,"form-control",3,"ngModel","required","bsConfig","minDate","ngModelChange"],["FechaHoraFin","ngModel"],["name","lugarExactoTrabajo","type","text","maxlength","50","required","",1,"form-control",3,"ngModel","ngModelChange"],["lugarExactoTrabajo","ngModel"],["name","geolocalizacion","disabled","","type","text","maxlength","50",1,"form-control",3,"ngModel","ngModelChange"],["geolocalizacion","ngModel"],[1,"col-1",2,"width","4%"],[3,"downl_endpoint"],[1,"col-1",2,"width","8.5%"],["name","geoLocModificada","type","text","maxlength","50",1,"form-control",3,"ngModel","ngModelChange"],["geoLocModificada","ngModel"],["name","idDepartamento","bindLabel","nombre","bindValue","idDepartamento","required","",3,"ngModel","items","placeholder","notFoundText","ngModelChange"],["idDepartamento","ngModel"],["name","idContratista","bindLabel","nombre","bindValue","id","required","",3,"ngModel","items","placeholder","notFoundText","ngModelChange"],["idContratista","ngModel"],["name","personalPlanta","type","number","maxlength","50","min","0",1,"form-control",3,"ngModel","ngModelChange","input"],["PersonalPlanta","ngModel"],["name","personalContratista","type","number","maxlength","50","min","0",1,"form-control",3,"ngModel","ngModelChange","input"],["PersonalContratista","ngModel"],["type","text","maxlength","50","disabled","",1,"form-control",3,"value"],["name","responsableTrabajo","type","text","maxlength","50",1,"form-control",3,"ngModel","ngModelChange"],["responsableTrabajo","ngModel"],["name","responsableSST","type","text","maxlength","50",1,"form-control",3,"ngModel","ngModelChange"],["responsableSST","ngModel"],[1,"col-5",2,"width","62.5%"],["name","numerosEmergencia","type","text","maxlength","50",1,"form-control",3,"ngModel","ngModelChange"],["numerosEmergencia","ngModel"],[1,"col-8",2,"width","100%"],["name","descripcionTrabajo","rows","6","placeholder","  Descripci\xf3n del Trabajo (indicar al menos 5 pasos)",1,"form-control-textarea","form-control",3,"ngModel","ngModelChange"],["descripcionTrabajo","ngModel"],["name","TipoTrabajoAgregado","bindLabel","nombre","bindValue","id","disabled","",3,"ngModel","items","placeholder","notFoundText","multiple","ngModelChange"],["TipoTrabajoAgregados","ngModel"],[1,"error"]],template:function(t,s){if(1&t&&(e.TgZ(0,"form",0,1),e.NdJ("keydown.enter",function(u){return u.preventDefault()}),e.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"label",5),e._uU(6,"Clave"),e.qZA(),e.TgZ(7,"div")(8,"input",6,7),e.NdJ("ngModelChange",function(u){return s.entidad.informacionGeneral.idSolicitudPermiso=u}),e.qZA()()()(),e._UZ(10,"div",8),e.TgZ(11,"div",9)(12,"label",10),e._uU(13,"Advertencia "),e._UZ(14,"i",11),e.qZA(),e.TgZ(15,"div",12),e._uU(16," En caso de que se presenten situaciones adversas que representen un riesgo adicional por ejemplo lluvia, granizo, vientos fuertes, incendios, accidentes vehiculares, este permiso queda cancelado, el ejecutante deber\xe1 dejar el \xe1rea de la manera m\xe1s segura posible, reportarse con su jefe de \xe1rea. "),e.qZA()()(),e.TgZ(17,"div",13),e._uU(18," Tipo de Trabajo "),e.qZA(),e.TgZ(19,"div",2),e.YNc(20,O,7,5,"div",14),e.TgZ(21,"div",3)(22,"div",4)(23,"label",5),e._uU(24,"Tipo de trabajo a realizar"),e.qZA(),e.TgZ(25,"div")(26,"ng-select",15,16),e.NdJ("ngModelChange",function(u){return s.entidad.informacionGeneral.idsTipoTrabajo=u}),e.qZA()()()(),e._UZ(28,"div",17),e.TgZ(29,"div",18)(30,"div",4)(31,"label",5),e._uU(32,"Estatus"),e.qZA(),e.TgZ(33,"div")(34,"ng-select",19,20),e.NdJ("ngModelChange",function(u){return s.entidad.informacionGeneral.estatus=u}),e.qZA(),e.YNc(36,G,2,0,"div",21),e.qZA()()(),e.TgZ(37,"div",18)(38,"div",4)(39,"label",5),e._uU(40,"Fecha Alta"),e.qZA(),e.TgZ(41,"div",22),e._UZ(42,"input",23),e.ALo(43,"date"),e._UZ(44,"i",24),e.qZA()()()(),e.TgZ(45,"div",13),e._uU(46," Datos Generales "),e.qZA(),e.TgZ(47,"div",2)(48,"div",25)(49,"b"),e._uU(50,"Instrucciones:"),e.qZA(),e._uU(51," 1. La Hora Termino debe ser como maximo 8 horas posterior a la Hora Inicio. "),e.qZA()(),e.TgZ(52,"div",2)(53,"div",26)(54,"div",4)(55,"label",5),e._uU(56,"Punto Kilom\xe9trico (PK)"),e.qZA(),e.TgZ(57,"div")(58,"input",27,28),e.NdJ("ngModelChange",function(u){return s.entidad.informacionGeneral.puntoKilometrico=u}),e.qZA(),e.YNc(60,q,2,0,"div",21),e.qZA()()(),e._UZ(61,"div",29),e.TgZ(62,"div",30)(63,"div",4)(64,"label",5),e._uU(65,"Fecha y Hora de Inicio(h)"),e.qZA(),e.TgZ(66,"div",22)(67,"input",31,32),e.NdJ("ngModelChange",function(u){return s.entidad.informacionGeneral.horaInicio=u})("ngModelChange",function(){return s.actualizarFechaTermino()}),e.qZA()()()(),e._UZ(69,"div",29),e.TgZ(70,"div",30)(71,"div",4)(72,"label",5),e._uU(73,"Fecha y Hora de T\xe9rmino(h)"),e.qZA(),e.TgZ(74,"div",22)(75,"input",33,34),e.NdJ("ngModelChange",function(u){return s.entidad.informacionGeneral.horaFin=u}),e.qZA()(),e.YNc(77,x,2,0,"div",21),e.YNc(78,Z,2,0,"div",21),e.qZA()()(),e.TgZ(79,"div",2)(80,"div",26)(81,"div",4)(82,"label",5),e._uU(83,"Lugar exacto de trabajo"),e.qZA(),e.TgZ(84,"div")(85,"input",35,36),e.NdJ("ngModelChange",function(u){return s.entidad.informacionGeneral.lugarExactoTrabajo=u}),e.qZA(),e.YNc(87,I,2,0,"div",21),e.qZA()()(),e._UZ(88,"div",29),e.TgZ(89,"div",26)(90,"div",4)(91,"label",5),e._uU(92,"Geolocalizaci\xf3n (GPS)"),e.qZA(),e.TgZ(93,"div")(94,"input",37,38),e.NdJ("ngModelChange",function(u){return s.entidad.informacionGeneral.geolocalizacion=u}),e.qZA()()()(),e.TgZ(96,"div",39)(97,"div",4),e._UZ(98,"app-mapa",40),e.qZA()(),e._UZ(99,"div",41),e.TgZ(100,"div",26)(101,"div",4)(102,"label",5),e._uU(103,"Geolocalizaci\xf3n Modificada"),e.qZA(),e.TgZ(104,"div")(105,"input",42,43),e.NdJ("ngModelChange",function(u){return s.entidad.informacionGeneral.geoLocModificada=u}),e.qZA()()()()(),e.TgZ(107,"div",2)(108,"div",26)(109,"div",4)(110,"label",5),e._uU(111,"Departamento"),e.qZA(),e.TgZ(112,"div")(113,"ng-select",44,45),e.NdJ("ngModelChange",function(u){return s.entidad.informacionGeneral.idDepartamento=u}),e.qZA(),e.YNc(115,L,2,0,"div",21),e.qZA()()(),e._UZ(116,"div",29),e.TgZ(117,"div",26)(118,"div",4)(119,"label",5),e._uU(120,"Contratista"),e.qZA(),e.TgZ(121,"div")(122,"ng-select",46,47),e.NdJ("ngModelChange",function(u){return s.entidad.informacionGeneral.idContratista=u}),e.qZA(),e.YNc(124,w,2,0,"div",21),e.qZA()()()(),e.TgZ(125,"div",13),e._uU(126," Cantidad de Trabajadores Involucrados "),e.qZA(),e.TgZ(127,"div",2)(128,"div",29)(129,"div",4)(130,"label",5),e._uU(131,"Personal de planta"),e.qZA(),e.TgZ(132,"div")(133,"input",48,49),e.NdJ("ngModelChange",function(u){return s.entidad.informacionGeneral.personalPlanta=u})("input",function(){return s.updateTotal()}),e.qZA()()()(),e.TgZ(135,"div",29)(136,"div",4)(137,"label",5),e._uU(138,"Personal de Contratista"),e.qZA(),e.TgZ(139,"div")(140,"input",50,51),e.NdJ("ngModelChange",function(u){return s.entidad.informacionGeneral.personalContratista=u})("input",function(){return s.updateTotal()}),e.qZA()()()(),e._UZ(142,"div",29),e.TgZ(143,"div",26)(144,"div",4)(145,"label",5),e._uU(146,"Total de trabajadores"),e.qZA(),e.TgZ(147,"div"),e._UZ(148,"input",52),e.qZA()()(),e._UZ(149,"div",29),e.TgZ(150,"div",26)(151,"div",4)(152,"label",5),e._uU(153,"Nombre del Responsable del Trabajo"),e.qZA(),e.TgZ(154,"div")(155,"input",53,54),e.NdJ("ngModelChange",function(u){return s.entidad.informacionGeneral.responsableTrabajo=u}),e.qZA()()()()(),e.TgZ(157,"div",2)(158,"div",26)(159,"div",4)(160,"label",5),e._uU(161,"Nombre del Responsable de SST en Sitio "),e.qZA(),e.TgZ(162,"div")(163,"input",55,56),e.NdJ("ngModelChange",function(u){return s.entidad.informacionGeneral.responsableSst=u}),e.qZA()()()(),e._UZ(165,"div",29),e.TgZ(166,"div",57)(167,"div",4)(168,"label",5),e._uU(169,"N\xfameros de emergencia"),e.qZA(),e.TgZ(170,"div")(171,"input",58,59),e.NdJ("ngModelChange",function(u){return s.entidad.informacionGeneral.numerosEmergencia=u}),e.qZA()()()()(),e.TgZ(173,"div",13),e._uU(174," Descripci\xf3n del trabajo "),e.qZA(),e.TgZ(175,"div",2)(176,"div",60)(177,"div",4)(178,"label",5),e._uU(179,"Descripci\xf3n del Trabajo"),e.qZA(),e.TgZ(180,"div")(181,"textarea",61,62),e.NdJ("ngModelChange",function(u){return s.entidad.informacionGeneral.descripcionTrabajo=u}),e.qZA()()()()()()),2&t){const l=e.MAs(35),u=e.MAs(59),J=e.MAs(76),B=e.MAs(86),oe=e.MAs(114),Me=e.MAs(123);let Ae,re,Ze;e.xp6(8),e.Q6J("ngModel",s.entidad.informacionGeneral.idSolicitudPermiso),e.xp6(12),e.Q6J("ngIf",!s.esAgregar),e.xp6(6),e.Q6J("ngModel",s.entidad.informacionGeneral.idsTipoTrabajo)("items",s.tiposTrabajo)("placeholder",s.placeHolderSelect)("notFoundText",s.placeHolderNoOptions)("multiple",!0),e.xp6(8),e.Q6J("ngModel",s.entidad.informacionGeneral.estatus)("items",s.estatusPermisoTrabajo)("placeholder",s.placeHolderSelect)("notFoundText",s.placeHolderNoOptions),e.xp6(2),e.Q6J("ngIf",(null==l.errors?null:l.errors.required)&&l.touched),e.xp6(6),e.Q6J("value",e.xi3(43,48,s.fechaAlta,"dd/MM/yyyy"))("required",!0),e.xp6(16),e.Q6J("ngModel",s.entidad.informacionGeneral.puntoKilometrico),e.xp6(2),e.Q6J("ngIf",(null==u.errors?null:u.errors.required)&&u.touched),e.xp6(7),e.Q6J("ngModel",s.entidad.informacionGeneral.horaInicio)("required",!0)("bsConfig",s.configDate)("minDate",s.fechaHoraInicio),e.xp6(8),e.Q6J("ngModel",s.entidad.informacionGeneral.horaFin)("required",!0)("bsConfig",s.configDate)("minDate",null!==(Ae=s.entidad.informacionGeneral.horaInicio)&&void 0!==Ae?Ae:s.fechaHoraInicio),e.xp6(2),e.Q6J("ngIf",(null==J.errors?null:J.errors.horaPosterior)||(null!==(re=s.entidad.informacionGeneral.horaFin)&&void 0!==re?re:0)<(null!==(re=s.entidad.informacionGeneral.horaInicio)&&void 0!==re?re:0)),e.xp6(1),e.Q6J("ngIf",(null==J.errors?null:J.errors.max8HoraPosterior)||s.excede8hrs()),e.xp6(7),e.Q6J("ngModel",s.entidad.informacionGeneral.lugarExactoTrabajo),e.xp6(2),e.Q6J("ngIf",(null==B.errors?null:B.errors.required)&&B.touched),e.xp6(7),e.Q6J("ngModel",s.entidad.informacionGeneral.geolocalizacion),e.xp6(4),e.Q6J("downl_endpoint",s.coordenadasPermiso.bind(s)),e.xp6(7),e.Q6J("ngModel",s.entidad.informacionGeneral.geoLocModificada),e.xp6(8),e.Q6J("ngModel",s.entidad.informacionGeneral.idDepartamento)("items",s.departamentos)("placeholder",s.placeHolderSelect)("notFoundText",s.placeHolderNoOptions),e.xp6(2),e.Q6J("ngIf",(null==oe.errors?null:oe.errors.required)&&oe.touched),e.xp6(7),e.Q6J("ngModel",s.entidad.informacionGeneral.idContratista)("items",s.contratistas)("placeholder",s.placeHolderSelect)("notFoundText",s.placeHolderNoOptions),e.xp6(2),e.Q6J("ngIf",(null==Me.errors?null:Me.errors.required)&&Me.touched),e.xp6(9),e.Q6J("ngModel",s.entidad.informacionGeneral.personalPlanta),e.xp6(7),e.Q6J("ngModel",s.entidad.informacionGeneral.personalContratista),e.xp6(8),e.Q6J("value",null!==(Ze=s.totalTrabajadores)&&void 0!==Ze?Ze:0),e.xp6(7),e.Q6J("ngModel",s.entidad.informacionGeneral.responsableTrabajo),e.xp6(8),e.Q6J("ngModel",s.entidad.informacionGeneral.responsableSst),e.xp6(8),e.Q6J("ngModel",s.entidad.informacionGeneral.numerosEmergencia),e.xp6(10),e.Q6J("ngModel",s.entidad.informacionGeneral.descripcionTrabajo)}},dependencies:[v.O5,F._Y,F.Fj,F.wV,F.JJ,F.JL,F.Q7,F.nD,F.qQ,F.On,F.F,$.w9,R.N,U.Np,U.Y5,v.uU],styles:[".date-input-container{position:relative;width:100%}.date-input-container input[type=date]{width:100%;padding-right:30px}.date-input-container .fa-calendar-days{position:absolute;right:10px;top:50%;transform:translateY(-50%);pointer-events:none}textarea{padding-top:10px;padding-left:10px;width:100%}.form-control-textarea{width:100%;padding:10px;height:100px!important}.warning-wrapper{position:relative;font-weight:400;display:flex;justify-content:flex-start;align-items:flex-end}.warning-panel{position:absolute;top:100%;right:0;width:300px;background:#fff;box-shadow:2px 2px 5px 2px #0003;border-radius:5%;padding:20px;z-index:-100}.warning-button:hover+.warning-panel{z-index:100}\n"],encapsulation:2})}class xe{}var Se=o(65764),Ne=o(92859),Fe=o(68005),Ee=o(34529),Oe=o(27236),Ie=o(24057),ee=o(90429);class ne{constructor(a){this.http=a,this.dataUrl="atmosferainterior/"}consultarParaGrid(a){return this.http.get(this.dataUrl+`grid/${a}`)}editar(a){return this.http.put(this.dataUrl,a)}agregar(a){return this.http.post(this.dataUrl,a)}consultar(a){return this.http.get(this.dataUrl+`${a}`)}eliminar(a){return this.http.delete(this.dataUrl+`${a}`)}static#e=this.\u0275fac=function(t){return new(t||ne)(e.LFG(b.eN))};static#i=this.\u0275prov=e.Yz7({token:ne,factory:ne.\u0275fac,providedIn:"root"})}const Ue=["formulario"];function ye(d,a){if(1&d){const t=e.EpF();e.TgZ(0,"div",14)(1,"button",24)(2,"img",25),e.NdJ("click",function(){e.CHM(t),e.oxw();const l=e.MAs(1),u=e.oxw();return e.KtG(u.onSubmit(l))}),e.qZA()()()}}function Le(d,a){if(1&d){const t=e.EpF();e.TgZ(0,"form",3,4),e.NdJ("keydown.enter",function(l){return l.preventDefault()}),e.TgZ(2,"div",5)(3,"div",6)(4,"div",7)(5,"label",8),e._uU(6,"Horario de la Lectura"),e.qZA(),e.TgZ(7,"div",9)(8,"input",10,11),e.NdJ("ngModelChange",function(l){e.CHM(t);const u=e.oxw();return e.KtG(u.horaLectura=l)})("change",function(){e.CHM(t);const l=e.oxw();return e.KtG(l.mapTime(l.horaLectura))}),e.qZA()()()(),e.TgZ(10,"div",6)(11,"div",7)(12,"label",8),e._uU(13,"Temperatura (\xb0C)"),e.qZA(),e.TgZ(14,"div")(15,"input",12,13),e.NdJ("ngModelChange",function(l){e.CHM(t);const u=e.oxw();return e.KtG(u.entidad.temperatura=l)}),e.qZA()()()(),e._UZ(17,"div",14),e.TgZ(18,"div",6)(19,"div",7)(20,"label",8),e._uU(21,"% Ox\xedgeno(O"),e.TgZ(22,"sub"),e._uU(23,"2"),e.qZA(),e._uU(24,")"),e.qZA(),e.TgZ(25,"div")(26,"input",15,16),e.NdJ("ngModelChange",function(l){e.CHM(t);const u=e.oxw();return e.KtG(u.entidad.oxigeno=l)}),e.qZA()()()(),e.TgZ(28,"div",6)(29,"div",7)(30,"label",8),e._uU(31,"Mon\xf3xido de carbono (CO)"),e.qZA(),e.TgZ(32,"div")(33,"input",17,18),e.NdJ("ngModelChange",function(l){e.CHM(t);const u=e.oxw();return e.KtG(u.entidad.monoxidoCarbono=l)}),e.qZA()()()(),e._UZ(35,"div",14),e.TgZ(36,"div",6)(37,"div",7)(38,"label",8),e._uU(39,"Nivel Explosivo(LEL)"),e.qZA(),e.TgZ(40,"div")(41,"input",19,20),e.NdJ("ngModelChange",function(l){e.CHM(t);const u=e.oxw();return e.KtG(u.entidad.nivelExplosivo=l)}),e.qZA()()()(),e.TgZ(43,"div",6)(44,"div",7)(45,"label",8),e._uU(46,"Sulfuro de Hidr\xf3geno (H"),e.TgZ(47,"sub"),e._uU(48,"2"),e.qZA(),e._uU(49,"S)"),e.qZA(),e.TgZ(50,"div")(51,"input",21,22),e.NdJ("ngModelChange",function(l){e.CHM(t);const u=e.oxw();return e.KtG(u.entidad.sulfuroHidrogeno=l)}),e.qZA()()()(),e.YNc(53,ye,3,0,"div",23),e.qZA()()}if(2&d){const t=e.oxw();e.xp6(8),e.Q6J("ngModel",t.horaLectura)("required",!0),e.xp6(7),e.Q6J("ngModel",t.entidad.temperatura),e.xp6(11),e.Q6J("ngModel",t.entidad.oxigeno),e.xp6(7),e.Q6J("ngModel",t.entidad.monoxidoCarbono),e.xp6(8),e.Q6J("ngModel",t.entidad.nivelExplosivo),e.xp6(10),e.Q6J("ngModel",t.entidad.sulfuroHidrogeno),e.xp6(2),e.Q6J("ngIf",t.esAgregar)}}function Ge(d,a){if(1&d&&e.GkF(0,26),2&d){e.oxw();const t=e.MAs(1);e.Q6J("ngTemplateOutlet",t)}}function De(d,a){1&d&&e.GkF(0)}function Re(d,a){if(1&d&&e.YNc(0,De,1,0,"ng-container",30),2&d){e.oxw(2);const t=e.MAs(1);e.Q6J("ngTemplateOutlet",t)}}function Je(d,a){if(1&d){const t=e.EpF();e.TgZ(0,"button",31),e.NdJ("click",function(){e.CHM(t);const l=e.oxw(2);return e.KtG(l.cancelar())}),e._uU(1," Cancelar "),e.qZA(),e.TgZ(2,"button",32),e.NdJ("click",function(){e.CHM(t);const l=e.oxw(2);return e.KtG(l.onSubmit(l.formulario))}),e._uU(3," Guardar "),e.qZA()}}function je(d,a){if(1&d&&(e.TgZ(0,"app-modal-base",27),e.YNc(1,Re,1,1,"ng-template",null,28,e.W1O),e.YNc(3,Je,4,0,"ng-template",null,29,e.W1O),e.qZA()),2&d){const t=e.oxw();e.Q6J("titulo",t.accion+" "+t.nombreEntidad)}}class le extends P.P{constructor(a,t){super(a),this.atmosferaInteriorService=t,this.nombreEntidad="Atm\xf3sfera Interior",this.esAgregar=!1}ngOnInit(){this.entidad.idSolicitudPermiso=this.idSolicitudPermiso,this.accion||(this.accion=f.V_.Agregar,this.esAgregar=!0),super.onInit()}consultar(a){return this.atmosferaInteriorService.consultar(a).pipe((0,p.b)(t=>this.horaLectura=(0,ee.lj)((0,ee.KE)(t.horaLectura))))}agregar(a){return this.entidad.horaLectura=this.mapTime(this.horaLectura),this.atmosferaInteriorService.agregar(a).pipe((0,p.b)(()=>{this.entidad={},this.entidad.idSolicitudPermiso=this.idSolicitudPermiso,this.horaLectura=""}))}editar(a){return this.entidad.horaLectura=this.mapTime(this.horaLectura),this.atmosferaInteriorService.editar(a)}mapTime(a){const[t,s]=a.split(":").map(Number),l=new Date;return l.setHours(t,s),l}static#e=this.\u0275fac=function(t){return new(t||le)(e.Y36(c.V),e.Y36(ne))};static#i=this.\u0275cmp=e.Xpm({type:le,selectors:[["app-permisos-atmosfera-interior-formulario"]],viewQuery:function(t,s){if(1&t&&e.Gf(Ue,5),2&t){let l;e.iGM(l=e.CRH())&&(s.formulario=l.first)}},inputs:{idSolicitudPermiso:"idSolicitudPermiso"},features:[e.qOj],decls:4,vars:2,consts:[["formTemplate",""],[3,"ngTemplateOutlet",4,"ngIf"],[3,"titulo",4,"ngIf"],["id","form","novalidate","novalidate",3,"keydown.enter"],["formulario","ngForm"],[1,"row"],[1,"col-md-2",2,"width","13.3%"],[1,"form-group"],[1,"label-input","required-label"],[1,"date-input-container"],["name","HoraLectura","type","time",1,"form-control",3,"ngModel","required","ngModelChange","change"],["HoraLectura","ngModel"],["name","Temperatura","type","text","maxlength","50",1,"form-control",3,"ngModel","ngModelChange"],["Temperatura","ngModel"],[1,"col-md-1",2,"width","6.6%"],["name","Oxigeno","type","text","maxlength","50",1,"form-control",3,"ngModel","ngModelChange"],["Oxigeno","ngModel"],["name","MonoxidoCarbono","type","text","maxlength","50",1,"form-control",3,"ngModel","ngModelChange"],["MonoxidoCarbono","ngModel"],["name","NivelExplosivo","type","text","maxlength","50",1,"form-control",3,"ngModel","ngModelChange"],["NivelExplosivo","ngModel"],["name","SulfuroHidrogeno","type","text","maxlength","50",1,"form-control",3,"ngModel","ngModelChange"],["SulfuroHidrogeno","ngModel"],["class","col-md-1","style","width: 6.6%",4,"ngIf"],[1,"circle-button"],["src","assets/img/svg/svg-ico-25x25-Boton-Circular-Naranja-Agregar.svg",1,"icono",3,"click"],[3,"ngTemplateOutlet"],[3,"titulo"],["modalBody",""],["modalFooter",""],[4,"ngTemplateOutlet"],["type","button",1,"btn-secundario","mr-3",3,"click"],["type","submit","form","form",1,"btn-primario","btn-margin-left",3,"click"]],template:function(t,s){1&t&&(e.YNc(0,Le,54,8,"ng-template",null,0,e.W1O),e.YNc(2,Ge,1,1,"ng-container",1),e.YNc(3,je,5,1,"app-modal-base",2)),2&t&&(e.xp6(2),e.Q6J("ngIf",s.esAgregar),e.xp6(1),e.Q6J("ngIf",!s.esAgregar))},dependencies:[v.O5,v.tP,F._Y,F.Fj,F.JJ,F.JL,F.Q7,F.nD,F.On,F.F,V.B]})}var te=o(86936),Ce=o(62861),be=o(20388),Te=o(85246),k=o(37084);const we=["formulario"];class me extends g.v{constructor(a,t,s,l){super(s,l,t),this.atmosferaInteriorService=a,this.fechaAlta=new Date,this.placeHolderSelect=T.g.PLACEHOLDER_DROPDOWN,this.placeHolderNoOptions=T.g.PLACEHOLDER_DROPDOWN_NO_OPTIONS,this.submiting=!1,this.isCollapsed=!0,this.HEADER_GRID="Atm\xf3sfera Interior",this.NOMBRE_ENTIDAD="Atm\xf3sfera Interior",this.crudConfig={nombreEntidad:this.NOMBRE_ENTIDAD,generoGramatical:"fem",nombrePropiedadId:"idAtmosferaInterior",formConfig:{ComponenteFormulario:le,modalConfig:n.OS.Medium,configAgregar:{acceso:te.bk.Agregar},configEditar:{acceso:te.bk.Modificar}},configEliminar:{acceso:te.bk.Eliminar,elementToString:u=>`${u.idAtmosferaInterior}`??0}},this.columns=[{headerName:"Hora de lectura",field:"horaLectura",minWidth:50,valueFormatter:u=>(0,ee.CD)((0,ee.KE)(u.value))},{headerName:"Temperatura (\xb0C)",field:"temperatura",minWidth:50},{headerName:"% Oxigeno(O2)",field:"oxigeno",minWidth:50},{headerName:"Monoxido de carbono (CO)",field:"monoxidoCarbono",minWidth:50},{headerName:"Nivel Explosivo(LEL)",field:"nivelExplosivo",minWidth:50},{headerName:"Sulfuro de Hidr\xf3geno (H2S)",field:"sulfuroHidrogeno",minWidth:50}]}ngOnInit(){super.onInit()}ngAfterViewInit(){this.formulario.onClose=a=>{a&&super.actualizarGrid()}}consultarGrid(){return this.atmosferaInteriorService.consultarParaGrid(this.idSolicitudPermiso)}eliminar(a){return this.atmosferaInteriorService.eliminar(a)}static#e=this.\u0275fac=function(t){return new(t||me)(e.Y36(ne),e.Y36(c.V),e.Y36(Ce.Q),e.Y36(be.tT))};static#i=this.\u0275cmp=e.Xpm({type:me,selectors:[["app-permisos-atmosfera-interior"]],viewQuery:function(t,s){if(1&t&&e.Gf(we,5),2&t){let l;e.iGM(l=e.CRH())&&(s.formulario=l.first)}},inputs:{heading:"heading",idSolicitudPermiso:"idSolicitudPermiso"},features:[e.qOj],decls:22,vars:4,consts:[[1,"subseccion"],[1,"row"],[1,"col-md-8","justify",2,"width","100%","font-size","11px"],[1,"warning-wrapper","col-md-13",2,"width","86.7%"],[1,"warning-wrapper","col-md-2",2,"width","13.3%"],[1,"fa-solid","fa-circle-exclamation","warning-button",2,"color","#f0bc00"],[1,"info-panel"],["src","assets/img/info/valores-permisos.png"],["multi","true"],["expanded","true"],[3,"idSolicitudPermiso"],["formulario",""],["tituloBoton","Permiso",3,"columns","crudConfig","elementos$","agregarClick","gridClick"]],template:function(t,s){1&t&&(e.TgZ(0,"div",0),e._uU(1," Tablas de Datos "),e.qZA(),e.TgZ(2,"div",1)(3,"div",2)(4,"b"),e._uU(5,"Instrucciones:"),e.qZA(),e._uU(6," 1. Registrar previo al inicio de la actividad, los valores de los SIGNOS VITALES de los trabajadores que entrar\xe1n al espacio confinado, estar\xe1n en altura, soldador, intervenci\xf3n de equipo el\xe9ctrico u operador de equipo; 2. Registrar los valores de las CONDICIONES CLIM\xc1TICAS; 3. Registrar los valores de ATM\xd3SFERA INTERIOR del espacio confinado. Las tablas de datos tienen espacio para varias lecturas en el d\xeda, realizar la primera lectura al inicio de las actividades y las lecturas secundarias al reinicio de trabajos o para marcar alguna pausa por condiciones adversas. en caso de lecturas anormales, el detector active alarma o no se cuente con equipo necesario para las lecturas el trabajo no se puede realizar hasta resolver la situaci\xf3n. "),e.qZA()(),e.TgZ(7,"div",1),e._UZ(8,"div",3),e.TgZ(9,"div",4),e._UZ(10,"i",5),e.TgZ(11,"div",6),e._UZ(12,"img",7),e.qZA()()(),e.TgZ(13,"mat-accordion",8)(14,"mat-expansion-panel",9)(15,"mat-expansion-panel-header")(16,"mat-panel-title")(17,"div",0),e._uU(18," Atm\xf3sfera Interior "),e.qZA()()(),e._UZ(19,"app-permisos-atmosfera-interior-formulario",10,11),e.TgZ(21,"app-catalogo-base",12),e.NdJ("agregarClick",function(){return s.agregar()})("gridClick",function(u){return s.onGridClick(u)}),e.qZA()()()),2&t&&(e.xp6(19),e.Q6J("idSolicitudPermiso",s.idSolicitudPermiso),e.xp6(2),e.Q6J("columns",s.columns)("crudConfig",s.crudConfig)("elementos$",s.registros$))},dependencies:[Te.B,k.pp,k.ib,k.yz,k.yK,le],styles:[".date-input-container{position:relative;width:100%}.date-input-container input[type=date]{width:100%;padding-right:30px}.date-input-container .fa-calendar-days{position:absolute;right:10px;top:50%;transform:translateY(-50%);pointer-events:none}textarea{padding-top:10px;padding-left:10px;width:100%}.warning-wrapper{position:relative;font-weight:400;display:flex;justify-content:flex-end;align-items:flex-end}.info-panel{position:absolute;z-index:-100}.warning-wrapper:hover>.info-panel{z-index:1003}.circle-button{display:flex;flex-direction:column-reverse;border-radius:50%;width:30px;height:100%;border:none;background-color:transparent;padding-bottom:15%}.justify{text-align:justify}\n"],encapsulation:2})}class ae{constructor(a){this.http=a,this.dataUrl="condicionesclimaticas/"}consultarParaGrid(a){return this.http.get(this.dataUrl+`grid/${a}`)}editar(a){return this.http.put(this.dataUrl,a)}agregar(a){return this.http.post(this.dataUrl,a)}consultar(a){return this.http.get(this.dataUrl+`${a}`)}eliminar(a){return this.http.delete(this.dataUrl+`${a}`)}static#e=this.\u0275fac=function(t){return new(t||ae)(e.LFG(b.eN))};static#i=this.\u0275prov=e.Yz7({token:ae,factory:ae.\u0275fac,providedIn:"root"})}const Ve=["formulario"];function qe(d,a){if(1&d){const t=e.EpF();e.TgZ(0,"div",14)(1,"button",24)(2,"img",25),e.NdJ("click",function(){e.CHM(t),e.oxw();const l=e.MAs(1),u=e.oxw();return e.KtG(u.onSubmit(l))}),e.qZA()()()}}function Qe(d,a){if(1&d){const t=e.EpF();e.TgZ(0,"form",3,4),e.NdJ("keydown.enter",function(l){return l.preventDefault()}),e.TgZ(2,"div",5)(3,"div",6)(4,"div",7)(5,"label",8),e._uU(6,"Horario de la Lectura"),e.qZA(),e.TgZ(7,"div",9)(8,"input",10,11),e.NdJ("ngModelChange",function(l){e.CHM(t);const u=e.oxw();return e.KtG(u.horaLectura=l)})("change",function(){e.CHM(t);const l=e.oxw();return e.KtG(l.mapTime(l.horaLectura))}),e.qZA()()()(),e.TgZ(10,"div",6)(11,"div",7)(12,"label",8),e._uU(13,"Temperatura (\xb0C)"),e.qZA(),e.TgZ(14,"div")(15,"input",12,13),e.NdJ("ngModelChange",function(l){e.CHM(t);const u=e.oxw();return e.KtG(u.entidad.temperatura=l)}),e.qZA()()()(),e._UZ(17,"div",14),e.TgZ(18,"div",6)(19,"div",7)(20,"label",8),e._uU(21,"% Viento (km/h)"),e.qZA(),e.TgZ(22,"div")(23,"input",15,16),e.NdJ("ngModelChange",function(l){e.CHM(t);const u=e.oxw();return e.KtG(u.entidad.viento=l)}),e.qZA()()()(),e.TgZ(25,"div",6)(26,"div",7)(27,"label",8),e._uU(28,"Probabilidad de Lluvia (%)"),e.qZA(),e.TgZ(29,"div")(30,"input",17,18),e.NdJ("ngModelChange",function(l){e.CHM(t);const u=e.oxw();return e.KtG(u.entidad.probabilidadLluvia=l)}),e.qZA()()()(),e._UZ(32,"div",14),e.TgZ(33,"div",6)(34,"div",7)(35,"label",8),e._uU(36,"Cantidad de Lluvia (mm)"),e.qZA(),e.TgZ(37,"div")(38,"input",19,20),e.NdJ("ngModelChange",function(l){e.CHM(t);const u=e.oxw();return e.KtG(u.entidad.cantidadLluvia=l)}),e.qZA()()()(),e.TgZ(40,"div",6)(41,"div",7)(42,"label",8),e._uU(43,"Visibilidad (niebla, noche)(m)"),e.qZA(),e.TgZ(44,"div")(45,"input",21,22),e.NdJ("ngModelChange",function(l){e.CHM(t);const u=e.oxw();return e.KtG(u.entidad.visibilidad=l)}),e.qZA()()()(),e.YNc(47,qe,3,0,"div",23),e.qZA()()}if(2&d){const t=e.oxw();e.xp6(8),e.Q6J("ngModel",t.horaLectura)("required",!0),e.xp6(7),e.Q6J("ngModel",t.entidad.temperatura),e.xp6(8),e.Q6J("ngModel",t.entidad.viento),e.xp6(7),e.Q6J("ngModel",t.entidad.probabilidadLluvia),e.xp6(8),e.Q6J("ngModel",t.entidad.cantidadLluvia),e.xp6(7),e.Q6J("ngModel",t.entidad.visibilidad),e.xp6(2),e.Q6J("ngIf",t.esAgregar)}}function He(d,a){if(1&d&&e.GkF(0,26),2&d){e.oxw();const t=e.MAs(1);e.Q6J("ngTemplateOutlet",t)}}function Ye(d,a){1&d&&e.GkF(0)}function We(d,a){if(1&d&&e.YNc(0,Ye,1,0,"ng-container",30),2&d){e.oxw(2);const t=e.MAs(1);e.Q6J("ngTemplateOutlet",t)}}function Be(d,a){if(1&d){const t=e.EpF();e.TgZ(0,"button",31),e.NdJ("click",function(){e.CHM(t);const l=e.oxw(2);return e.KtG(l.cancelar())}),e._uU(1," Cancelar "),e.qZA(),e.TgZ(2,"button",32),e.NdJ("click",function(){e.CHM(t);const l=e.oxw(2);return e.KtG(l.onSubmit(l.formulario))}),e._uU(3," Guardar "),e.qZA()}}function ze(d,a){if(1&d&&(e.TgZ(0,"app-modal-base",27),e.YNc(1,We,1,1,"ng-template",null,28,e.W1O),e.YNc(3,Be,4,0,"ng-template",null,29,e.W1O),e.qZA()),2&d){const t=e.oxw();e.Q6J("titulo",t.accion+" "+t.nombreEntidad)}}class de extends P.P{constructor(a,t){super(a),this.condicionesClimaticasService=t,this.nombreEntidad="Condiciones Clima\u0301ticas",this.esAgregar=!1}ngOnInit(){this.entidad.idSolicitudPermiso=this.idSolicitudPermiso,this.accion||(this.accion=f.V_.Agregar,this.esAgregar=!0),super.onInit()}consultar(a){return this.condicionesClimaticasService.consultar(a).pipe((0,p.b)(t=>this.horaLectura=(0,ee.lj)((0,ee.KE)(t.horaLectura))))}agregar(a){return this.condicionesClimaticasService.agregar(a).pipe((0,p.b)(()=>{this.entidad={},this.entidad.idSolicitudPermiso=this.idSolicitudPermiso,this.horaLectura=""}))}editar(a){return this.mapTime(this.horaLectura),this.condicionesClimaticasService.editar(a)}mapTime(a){const[t,s]=a.split(":").map(Number),l=new Date;l.setHours(t,s),this.entidad.horaLectura=l}static#e=this.\u0275fac=function(t){return new(t||de)(e.Y36(c.V),e.Y36(ae))};static#i=this.\u0275cmp=e.Xpm({type:de,selectors:[["app-permisos-condiciones-climaticas-formulario"]],viewQuery:function(t,s){if(1&t&&e.Gf(Ve,5),2&t){let l;e.iGM(l=e.CRH())&&(s.formulario=l.first)}},inputs:{idSolicitudPermiso:"idSolicitudPermiso"},features:[e.qOj],decls:4,vars:2,consts:[["formTemplate",""],[3,"ngTemplateOutlet",4,"ngIf"],[3,"titulo",4,"ngIf"],["id","form","novalidate","novalidate",3,"keydown.enter"],["formulario","ngForm"],[1,"row"],[1,"col-md-2",2,"width","13.3%"],[1,"form-group"],[1,"label-input","required-label"],[1,"date-input-container"],["name","HoraLectura","type","time",1,"form-control",3,"ngModel","required","ngModelChange","change"],["HoraLectura","ngModel"],["name","Temperatura","type","text","maxlength","50",1,"form-control",3,"ngModel","ngModelChange"],["Temperatura","ngModel"],[1,"col-md-1",2,"width","6.6%"],["name","Viento","type","text","maxlength","50",1,"form-control",3,"ngModel","ngModelChange"],["Viento","ngModel"],["name","ProbabilidadLluvia","type","text","maxlength","50",1,"form-control",3,"ngModel","ngModelChange"],["ProbabilidadLluvia","ngModel"],["name","CantidadLluvia","type","text","maxlength","50",1,"form-control",3,"ngModel","ngModelChange"],["CantidadLluvia","ngModel"],["name","Visibilidad","type","text","maxlength","50",1,"form-control",3,"ngModel","ngModelChange"],["Visibilidad","ngModel"],["class","col-md-1","style","width: 6.6%",4,"ngIf"],[1,"circle-button"],["src","assets/img/svg/svg-ico-25x25-Boton-Circular-Naranja-Agregar.svg",1,"icono",3,"click"],[3,"ngTemplateOutlet"],[3,"titulo"],["modalBody",""],["modalFooter",""],[4,"ngTemplateOutlet"],["type","button",1,"btn-secundario","mr-3",3,"click"],["type","submit","form","form",1,"btn-primario","btn-margin-left",3,"click"]],template:function(t,s){1&t&&(e.YNc(0,Qe,48,8,"ng-template",null,0,e.W1O),e.YNc(2,He,1,1,"ng-container",1),e.YNc(3,ze,5,1,"app-modal-base",2)),2&t&&(e.xp6(2),e.Q6J("ngIf",s.esAgregar),e.xp6(1),e.Q6J("ngIf",!s.esAgregar))},dependencies:[v.O5,v.tP,F._Y,F.Fj,F.JJ,F.JL,F.Q7,F.nD,F.On,F.F,V.B]})}const Ke=["formulario"];class ue extends g.v{constructor(a,t,s,l){super(s,l,t),this.atmosferaInteriorService=a,this.fechaAlta=new Date,this.placeHolderSelect=T.g.PLACEHOLDER_DROPDOWN,this.placeHolderNoOptions=T.g.PLACEHOLDER_DROPDOWN_NO_OPTIONS,this.submiting=!1,this.isCollapsed=!0,this.HEADER_GRID="Condiciones Clima\u0301ticas",this.NOMBRE_ENTIDAD="Condiciones Clima\u0301ticas",this.crudConfig={nombreEntidad:this.NOMBRE_ENTIDAD,generoGramatical:"fem",nombrePropiedadId:"idCondicionesClimaticas",formConfig:{ComponenteFormulario:de,modalConfig:n.OS.Large,configAgregar:{acceso:te.bk.Agregar},configEditar:{acceso:te.bk.Modificar}},configEliminar:{acceso:te.bk.Eliminar,elementToString:u=>`${u.idCondicionesClimaticas}`??0}},this.columns=[{headerName:"Hora de lectura",field:"horaLectura",minWidth:50,valueFormatter:u=>(0,ee.CD)((0,ee.KE)(u.value))},{headerName:"Temperatura (\xb0C)",field:"temperatura",minWidth:50},{headerName:"% Viento (km/h)",field:"viento",minWidth:50},{headerName:"Probabilidad de Lluvia (%)",field:"probabilidadLluvia",minWidth:50},{headerName:"Cantidad de Lluvia (mm)",field:"cantidadLluvia",minWidth:50},{headerName:"Visibilidad (niebla, noche)(m)",field:"visibilidad",minWidth:50}]}ngOnInit(){super.onInit()}ngAfterViewInit(){this.formulario.onClose=a=>{a&&super.actualizarGrid()}}consultarGrid(){return this.atmosferaInteriorService.consultarParaGrid(this.idSolicitudPermiso)}eliminar(a){return this.atmosferaInteriorService.eliminar(a)}static#e=this.\u0275fac=function(t){return new(t||ue)(e.Y36(ae),e.Y36(c.V),e.Y36(Ce.Q),e.Y36(be.tT))};static#i=this.\u0275cmp=e.Xpm({type:ue,selectors:[["app-permisos-condiciones-climaticas"]],viewQuery:function(t,s){if(1&t&&e.Gf(Ke,5),2&t){let l;e.iGM(l=e.CRH())&&(s.formulario=l.first)}},inputs:{heading:"heading",idSolicitudPermiso:"idSolicitudPermiso"},features:[e.qOj],decls:22,vars:4,consts:[[1,"subseccion"],[1,"row"],[1,"col-md-8","justify",2,"width","100%","font-size","11px"],[1,"warning-wrapper","col-md-13",2,"width","86.7%"],[1,"warning-wrapper","col-md-2",2,"width","13.3%"],[1,"fa-solid","fa-circle-exclamation","warning-button",2,"color","#f0bc00"],[1,"info-panel"],["src","assets/img/info/valores-permisos.png"],["multi","true"],["expanded","true"],[3,"idSolicitudPermiso"],["formulario",""],["tituloBoton","Permiso",3,"columns","crudConfig","elementos$","gridClick"]],template:function(t,s){1&t&&(e.TgZ(0,"div",0),e._uU(1," Tablas de Datos "),e.qZA(),e.TgZ(2,"div",1)(3,"div",2)(4,"b"),e._uU(5,"Instrucciones:"),e.qZA(),e._uU(6," 1. Registrar previo al inicio de la actividad, los valores de los SIGNOS VITALES de los trabajadores que entrar\xe1n al espacio confinado, estar\xe1n en altura, soldador, intervenci\xf3n de equipo el\xe9ctrico u operador de equipo; 2. Registrar los valores de las CONDICIONES CLIM\xc1TICAS; 3. Registrar los valores de ATM\xd3SFERA INTERIOR del espacio confinado. Las tablas de datos tienen espacio para varias lecturas en el d\xeda, realizar la primera lectura al inicio de las actividades y las lecturas secundarias al reinicio de trabajos o para marcar alguna pausa por condiciones adversas. en caso de lecturas anormales, el detector active alarma o no se cuente con equipo necesario para las lecturas el trabajo no se puede realizar hasta resolver la situaci\xf3n. "),e.qZA()(),e.TgZ(7,"div",1),e._UZ(8,"div",3),e.TgZ(9,"div",4),e._UZ(10,"i",5),e.TgZ(11,"div",6),e._UZ(12,"img",7),e.qZA()()(),e.TgZ(13,"mat-accordion",8)(14,"mat-expansion-panel",9)(15,"mat-expansion-panel-header")(16,"mat-panel-title")(17,"div",0),e._uU(18," Condiciones Clim\xe1ticas "),e.qZA()()(),e._UZ(19,"app-permisos-condiciones-climaticas-formulario",10,11),e.TgZ(21,"app-catalogo-base",12),e.NdJ("gridClick",function(u){return s.onGridClick(u)}),e.qZA()()()),2&t&&(e.xp6(19),e.Q6J("idSolicitudPermiso",s.idSolicitudPermiso),e.xp6(2),e.Q6J("columns",s.columns)("crudConfig",s.crudConfig)("elementos$",s.registros$))},dependencies:[Te.B,k.pp,k.ib,k.yz,k.yK,de],styles:[".date-input-container{position:relative;width:100%}.date-input-container input[type=date]{width:100%;padding-right:30px}.date-input-container .fa-calendar-days{position:absolute;right:10px;top:50%;transform:translateY(-50%);pointer-events:none}textarea{padding-top:10px;width:100%}.warning-wrapper{position:relative;font-weight:400;display:flex;justify-content:flex-end;align-items:flex-end}.info-panel{position:absolute;z-index:-100}.warning-wrapper:hover>.info-panel{z-index:1003}.circle-button{display:flex;flex-direction:column-reverse;border-radius:50%;width:30px;height:100%;border:none;background-color:transparent;padding-bottom:15%}.justify{text-align:justify}\n"],encapsulation:2})}const $e=["terminoTrabajo"];function ke(d,a){if(1&d&&(e.TgZ(0,"div",3)(1,"b"),e._uU(2," Instrucciones: "),e.qZA(),e._uU(3),e.qZA()),2&d){const t=e.oxw();e.xp6(3),e.hij(" ",t.instrucciones,"\n")}}function Xe(d,a){if(1&d&&(e.TgZ(0,"div",7)(1,"b"),e._uU(2," Instrucciones: \xa0"),e.qZA(),e.TgZ(3,"div"),e._uU(4),e.qZA()()),2&d){const t=e.oxw(2).$implicit;e.xp6(4),e.hij(" ",t.instrucciones," ")}}function ei(d,a){if(1&d&&(e.TgZ(0,"span",10),e._uU(1),e.qZA()),2&d){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t.nombre)}}function ii(d,a){if(1&d){const t=e.EpF();e.TgZ(0,"div",16)(1,"span",17),e._uU(2),e.qZA(),e.TgZ(3,"div",18)(4,"input",19),e.NdJ("ngModelChange",function(l){e.CHM(t);const u=e.oxw().$implicit;return e.KtG(u.solicitudPermisoListaVerificacion[0].valor=l)}),e.qZA()()()}if(2&d){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.descripcion),e.xp6(2),e.Q6J("ngModel",t.solicitudPermisoListaVerificacion[0].valor)("maxLength",20)}}function ti(d,a){if(1&d){const t=e.EpF();e.TgZ(0,"div",16)(1,"span",17),e._uU(2),e.qZA(),e.TgZ(3,"div",20),e.NdJ("click",function(l){e.CHM(t);const u=e.oxw().index,J=e.oxw().index,B=e.oxw(3).index,oe=e.oxw();return e.KtG(oe.guardarValorSwitch(u,J,B,l))}),e.TgZ(4,"div",21),e._UZ(5,"input",22)(6,"i",23),e.qZA(),e.TgZ(7,"div",21),e._UZ(8,"input",24)(9,"i",25),e.qZA(),e.TgZ(10,"div",21),e._UZ(11,"input",26),e._uU(12," N/A "),e.qZA()()()}if(2&d){const t=e.oxw().$implicit,s=e.oxw(5);e.xp6(2),e.Oqu(t.descripcion),e.xp6(3),e.MGl("name","concepto",t.idListaVerificacionConcepto,""),e.Q6J("checked",s.radioChecked(t,"Si"))("ngModel",t.solicitudPermisoListaVerificacion[0].valor),e.xp6(3),e.MGl("name","concepto",t.idListaVerificacionConcepto,""),e.Q6J("checked",s.radioChecked(t,"No"))("ngModel",t.solicitudPermisoListaVerificacion[0].valor),e.xp6(3),e.MGl("name","concepto",t.idListaVerificacionConcepto,""),e.Q6J("checked",s.radioChecked(t,"N/A"))("ngModel",t.solicitudPermisoListaVerificacion[0].valor)}}function oi(d,a){if(1&d){const t=e.EpF();e.TgZ(0,"div",27)(1,"span",17),e._uU(2),e.qZA(),e.TgZ(3,"label",28)(4,"input",29,30),e.NdJ("change",function(){e.CHM(t);const l=e.MAs(5),u=e.oxw().index,J=e.oxw().index,B=e.oxw(3).index,oe=e.oxw();return e.KtG(oe.guardarValorSelector(u,J,B,l.checked))}),e.qZA(),e.TgZ(6,"span",31)(7,"span",32),e._uU(8,"Si"),e.qZA(),e.TgZ(9,"span",33),e._uU(10,"No"),e.qZA()()()()}if(2&d){const t=e.oxw().$implicit,s=e.oxw(5);e.xp6(2),e.Oqu(t.descripcion),e.xp6(2),e.MGl("id","habilitar",t.idListaVerificacionConcepto,""),e.Q6J("checked",s.selectorOn(t))}}function ni(d,a){if(1&d&&(e.TgZ(0,"div",34),e._UZ(1,"app-permisos-atmosfera-interior",35),e.qZA()),2&d){const t=e.oxw(6);e.xp6(1),e.Q6J("idSolicitudPermiso",t.idSolicitudPermiso)}}function ai(d,a){if(1&d&&(e.TgZ(0,"div",34),e._UZ(1,"app-signos-vitales",35),e.qZA()),2&d){const t=e.oxw(6);e.xp6(1),e.Q6J("idSolicitudPermiso",t.idSolicitudPermiso)}}function ri(d,a){if(1&d&&(e.TgZ(0,"div",34),e._UZ(1,"app-corte-energia",35),e.qZA()),2&d){const t=e.oxw(6);e.xp6(1),e.Q6J("idSolicitudPermiso",t.idSolicitudPermiso)}}function si(d,a){if(1&d&&(e.TgZ(0,"div",34),e._UZ(1,"app-actividad-caliente",35),e.qZA()),2&d){const t=e.oxw(6);e.xp6(1),e.Q6J("idSolicitudPermiso",t.idSolicitudPermiso)}}function li(d,a){if(1&d&&(e.TgZ(0,"div",34),e._UZ(1,"app-permisos-condiciones-climaticas",35),e.qZA()),2&d){const t=e.oxw(6);e.xp6(1),e.Q6J("idSolicitudPermiso",t.idSolicitudPermiso)}}function di(d,a){if(1&d&&(e.TgZ(0,"div",34),e._UZ(1,"app-personal-participante",35),e.qZA()),2&d){const t=e.oxw(6);e.xp6(1),e.Q6J("idSolicitudPermiso",t.idSolicitudPermiso)}}function ci(d,a){if(1&d&&(e.TgZ(0,"div",34),e._UZ(1,"app-condiciones-medidas",35),e.qZA()),2&d){const t=e.oxw(6);e.xp6(1),e.Q6J("idSolicitudPermiso",t.idSolicitudPermiso)}}function mi(d,a){if(1&d&&(e.TgZ(0,"div",34),e._UZ(1,"app-termino-trabajo",35,36),e.qZA()),2&d){const t=e.oxw(6);e.xp6(1),e.Q6J("idSolicitudPermiso",t.idSolicitudPermiso)}}function ui(d,a){if(1&d&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&d){const t=e.oxw().$implicit;e.xp6(1),e.AsE(" ",t.descripcion," - ",t.idTipoCampoNavigation.clave," ")}}function pi(d,a){if(1&d&&(e.TgZ(0,"div"),e.ynx(1,11),e.YNc(2,ii,5,3,"div",12),e.YNc(3,ti,13,10,"div",12),e.YNc(4,oi,11,3,"div",13),e.YNc(5,ni,2,1,"div",14),e.YNc(6,ai,2,1,"div",14),e.YNc(7,ri,2,1,"div",14),e.YNc(8,si,2,1,"div",14),e.YNc(9,li,2,1,"div",14),e.YNc(10,di,2,1,"div",14),e.YNc(11,ci,2,1,"div",14),e.YNc(12,mi,3,1,"div",14),e.YNc(13,ui,2,2,"div",15),e.BQk(),e.qZA()),2&d){const t=a.$implicit,s=e.oxw(5);e.xp6(1),e.Q6J("ngSwitch",s.getTipoCampoTemplate(t.idTipoCampoNavigation.clave)),e.xp6(1),e.Q6J("ngSwitchCase","text-input"),e.xp6(1),e.Q6J("ngSwitchCase","radio-button-horizontal"),e.xp6(1),e.Q6J("ngSwitchCase","selector"),e.xp6(1),e.Q6J("ngSwitchCase","componente-ai"),e.xp6(1),e.Q6J("ngSwitchCase","componente-msv"),e.xp6(1),e.Q6J("ngSwitchCase","componente-ace"),e.xp6(1),e.Q6J("ngSwitchCase","componente-rph"),e.xp6(1),e.Q6J("ngSwitchCase","componente-cc"),e.xp6(1),e.Q6J("ngSwitchCase","componente-ppt"),e.xp6(1),e.Q6J("ngSwitchCase","componente-dcm"),e.xp6(1),e.Q6J("ngSwitchCase","componente-mat")}}function gi(d,a){if(1&d&&(e.TgZ(0,"div"),e.YNc(1,ei,2,1,"span",8),e.TgZ(2,"div",9),e.YNc(3,pi,14,12,"div",2),e.qZA()()),2&d){const t=a.$implicit,s=e.oxw(3).$implicit;e.xp6(1),e.Q6J("ngIf",(null==t.nombre?null:t.nombre.toLowerCase())!=(null==s.nombre?null:s.nombre.toLowerCase())&&t.listaVerificacionConcepto.length>1),e.xp6(1),e.Udp("grid-template-columns","repeat("+t.numeroColumnas+", 1fr)"),e.xp6(1),e.Q6J("ngForOf",t.listaVerificacionConcepto)}}function hi(d,a){if(1&d&&(e.TgZ(0,"div"),e.YNc(1,gi,4,4,"div",2),e.qZA()),2&d){const t=e.oxw(2).$implicit;e.xp6(1),e.Q6J("ngForOf",t.listaVerificacionClasificador)}}function fi(d,a){if(1&d&&(e.TgZ(0,"div")(1,"div",5),e._uU(2),e.qZA(),e.YNc(3,Xe,5,1,"div",6),e.YNc(4,hi,2,1,"div",4),e.qZA()),2&d){const t=e.oxw().$implicit;e.xp6(2),e.hij(" ",t.nombre," "),e.xp6(1),e.Q6J("ngIf",null!=t.instrucciones),e.xp6(1),e.Q6J("ngIf",t.listaVerificacionClasificador.length>0)}}function _i(d,a){if(1&d&&(e.TgZ(0,"div"),e.YNc(1,fi,5,3,"div",4),e.qZA()),2&d){const t=a.$implicit;e.xp6(1),e.Q6J("ngIf",t.listaVerificacionClasificador.length>0)}}class pe{constructor(){this.tipoCampoMapping={[T.g.RBH_CLAVE]:"radio-button-horizontal",[T.g.TXT_CLAVE]:"text-input",[T.g.SEL_CLAVE]:"selector",[T.g.ETQ_CLAVE]:"etiqueta",[T.g.AI_CLAVE]:"componente-ai",[T.g.MSV_CLAVE]:"componente-msv",[T.g.ACE_CLAVE]:"componente-ace",[T.g.RPH_CLAVE]:"componente-rph",[T.g.CC_CLAVE]:"componente-cc",[T.g.PPT_CLAVE]:"componente-ppt",[T.g.DCM_CLAVE]:"componente-dcm",[T.g.MAT_CLAVE]:"componente-mat"}}esComponente(a){return void 0!==this.tipoCampoMapping[a]}ngOnInit(){console.log(this.listaVerificacionClasificador)}getTipoCampoTemplate(a){return this.tipoCampoMapping[a]||"default-template"}guardarValorSwitch(a,t,s,l){const u=l.target;this.listaVerificacionClasificador[s].listaVerificacionClasificador[t].listaVerificacionConcepto[a].solicitudPermisoListaVerificacion||(this.listaVerificacionClasificador[s].listaVerificacionClasificador[t].listaVerificacionConcepto[a].solicitudPermisoListaVerificacion=[new xe]),this.listaVerificacionClasificador[s].listaVerificacionClasificador[t].listaVerificacionConcepto[a].solicitudPermisoListaVerificacion[0].valor=u.value}selectorOn(a){return"1"==a.solicitudPermisoListaVerificacion[0].valor}guardarValorSelector(a,t,s,l){this.listaVerificacionClasificador[t].listaVerificacionClasificador[s].listaVerificacionConcepto[a].solicitudPermisoListaVerificacion[0].valor=l?"1":"0"}guardarValorInput(a,t,s,l){this.listaVerificacionClasificador[t].listaVerificacionClasificador[s].listaVerificacionConcepto[a].solicitudPermisoListaVerificacion||(this.listaVerificacionClasificador[t].listaVerificacionClasificador[s].listaVerificacionConcepto[a].solicitudPermisoListaVerificacion=[new xe]),this.listaVerificacionClasificador[t].listaVerificacionClasificador[0].listaVerificacionConcepto[a].solicitudPermisoListaVerificacion[0].valor=l}radioChecked(a,t){return!!a?.solicitudPermisoListaVerificacion&&a?.solicitudPermisoListaVerificacion[0]?.valor===t}static#e=this.\u0275fac=function(t){return new(t||pe)};static#i=this.\u0275cmp=e.Xpm({type:pe,selectors:[["app-clasificador"]],viewQuery:function(t,s){if(1&t&&e.Gf($e,5),2&t){let l;e.iGM(l=e.CRH())&&(s.terminoTrabajo=l.first)}},inputs:{listaVerificacionClasificador:"listaVerificacionClasificador",instrucciones:"instrucciones",idSolicitudPermiso:"idSolicitudPermiso"},decls:4,vars:2,consts:[[1,"contenedor","d-flex"],["style","font-size: 11px;",4,"ngIf"],[4,"ngFor","ngForOf"],[2,"font-size","11px"],[4,"ngIf"],[1,"subseccion"],["style","display: flex; margin-bottom: 3vh; font-size: 11px;",4,"ngIf"],[2,"display","flex","margin-bottom","3vh","font-size","11px"],["class","seccion-nombre",4,"ngIf"],[1,"grid-item"],[1,"seccion-nombre"],[3,"ngSwitch"],["class","concepto-container",4,"ngSwitchCase"],["class","concepto-container switch-container",4,"ngSwitchCase"],["class","componente",4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"concepto-container"],[1,"concepto-descripcion"],[1,"text-container"],["type","text",3,"ngModel","maxLength","ngModelChange"],[1,"concepto-radiobuttons",3,"click"],[1,"radio-container"],["type","radio","value","Si",3,"checked","ngModel","name"],[1,"fa-solid","fa-check"],["type","radio","value","No",3,"checked","ngModel","name"],[1,"fa-thin","fa-x"],["type","radio","value","N/A",3,"checked","ngModel","name"],[1,"concepto-container","switch-container"],[1,"switch"],["name","habilitarName","type","checkbox",1,"accent",3,"checked","id","change"],["habilitar",""],[1,"slider","round"],[1,"on"],[1,"off"],[1,"componente"],[3,"idSolicitudPermiso"],["terminoTrabajo",""]],template:function(t,s){1&t&&(e.TgZ(0,"div",0),e.YNc(1,ke,4,1,"div",1),e.TgZ(2,"div"),e.YNc(3,_i,2,1,"div",2),e.qZA()()),2&t&&(e.xp6(1),e.Q6J("ngIf",s.instrucciones),e.xp6(2),e.Q6J("ngForOf",s.listaVerificacionClasificador))},dependencies:[v.sg,v.O5,v.RF,v.n9,v.ED,F.Fj,F._,F.JJ,F.On,Se.j,Ne.w,Fe.G,Ee.T,Oe.r,Ie.A,me,ue],styles:['@charset "UTF-8";[_ngcontent-%COMP%]:root{--color-primario: #3f75d2;--color-primario-hover: #F9EFFB;--color-menu: #3f75d2}.concepto-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.concepto-descripcion[_ngcontent-%COMP%]{flex:1;font-size:.8rem;margin-right:5px}.concepto-radiobuttons[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-right:50px}.switch[_ngcontent-%COMP%]   input.accent[_ngcontent-%COMP%]:checked + .slider.round[_ngcontent-%COMP%]{background-color:#ed7d31}.switch[_ngcontent-%COMP%]   input.accent[_ngcontent-%COMP%]:checked + .slider.round[_ngcontent-%COMP%]   .on[_ngcontent-%COMP%]{color:#fff}.switch-container[_ngcontent-%COMP%]{height:6vh}.concepto-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start}.concepto-descripcion[_ngcontent-%COMP%]{flex:1}.componente[_ngcontent-%COMP%]{overflow:auto;background:#f9fcff}.contenedor[_ngcontent-%COMP%]{margin-top:3vh}.d-flex[_ngcontent-%COMP%]{display:flex!important;flex-direction:column;flex-wrap:nowrap;align-content:center}.slider.round[_ngcontent-%COMP%]{height:auto}.radio-container[_ngcontent-%COMP%]{margin-right:.3vw;margin-top:.3vh}.grid-container[_ngcontent-%COMP%]{grid-gap:10px}.grid-item[_ngcontent-%COMP%]{display:grid;padding:10px}.text-container[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-right:50px}.text-container[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{box-shadow:inset 0 0 0 1px #ed7d31;border-radius:0!important;text-align:end;border:none}.seccion-nombre[_ngcontent-%COMP%]{display:block;border-bottom:1px solid #ebebeb;color:#3f75d2}']})}const vi=["informacionGeneral"],Ci=["tabset"],bi=["clasificador"];function Ti(d,a){if(1&d&&(e.TgZ(0,"tabset",null,4)(2,"tab",5),e._UZ(3,"app-permisos-informacion-general",6,7),e.qZA(),e._UZ(5,"tab",8),e.qZA()),2&d){const t=e.oxw(2);e.xp6(3),e.Q6J("entidad",t.entidad)("esAgregar",t.esAgregar),e.xp6(2),e.Q6J("disabled",!0)}}function Mi(d,a){if(1&d&&(e.TgZ(0,"tab",10),e._UZ(1,"app-clasificador",11,12),e.qZA()),2&d){const t=a.$implicit,s=e.oxw(3);e.s9C("heading",t.idTipoTrabajoNavigation.nombre),e.xp6(1),e.Q6J("idSolicitudPermiso",s.idSolicitudPermiso)("instrucciones",t.idTipoTrabajoNavigation.instrucciones)("listaVerificacionClasificador",t.idTipoTrabajoNavigation.clasificador)}}function Ai(d,a){if(1&d&&(e.TgZ(0,"tabset",null,4)(2,"tab",5),e._UZ(3,"app-permisos-informacion-general",6,7),e.qZA(),e.YNc(5,Mi,4,4,"tab",9),e.qZA()),2&d){const t=e.oxw(2);e.xp6(3),e.Q6J("entidad",t.entidad)("esAgregar",t.esAgregar),e.xp6(2),e.Q6J("ngForOf",t.clasificadores)}}function Zi(d,a){if(1&d&&(e.YNc(0,Ti,6,3,"tabset",3),e.YNc(1,Ai,6,3,"tabset",3)),2&d){const t=e.oxw();e.Q6J("ngIf",t.esAgregar),e.xp6(1),e.Q6J("ngIf",!t.esAgregar)}}function xi(d,a){if(1&d){const t=e.EpF();e.TgZ(0,"button",13),e.NdJ("click",function(){e.CHM(t);const l=e.oxw();return e.KtG(l.cancelar())}),e._uU(1," Cancelar "),e.qZA(),e.TgZ(2,"button",14),e.NdJ("click",function(){e.CHM(t);const l=e.oxw();return e.KtG(l.onSubmit())}),e._uU(3," Guardar "),e.qZA()}if(2&d){const t=e.oxw();e.xp6(2),e.Q6J("disabled",t.submiting)}}class ge extends P.P{constructor(a,t,s,l){super(t),this.permisosService=a,this.solicitudPermisoTrabajosRealizarService=s,this.terminoTrabajoService=l,this.deshabilitarAgregar=!1,this.destroy$=new i.x,this.esAgregar=!1,this.placeHolderSelect=T.g.PLACEHOLDER_DROPDOWN,this.placeHolderNoOptions=T.g.PLACEHOLDER_DROPDOWN_NO_OPTIONS,this.submiting=!1}ngOnInit(){var a=()=>super.onInit,t=this;return(0,M.Z)(function*(){t.entidad.informacionGeneral=new C,a().call(t),t.accion===f.V_.Agregar&&!t.idEntidad&&(t.esAgregar=!0),yield t.consultarGrid()})()}ngOnDestroy(){this.destroy$.next()}consultarGrid(){var a=this;return(0,M.Z)(function*(){return(0,j.n)(a.solicitudPermisoTrabajosRealizarService.consultarValoresPorClasificador(a.idSolicitudPermiso)).then(t=>{a.clasificadores=t})})()}consultar(a){return this.idSolicitudPermiso=a,this.permisosService.consultarParaFormulario(a).pipe((0,r.R)(this.destroy$),(0,E.U)(t=>t))}agregar(a){return this.permisosService.agregar(a)}editar(a){return this.permisosService.editar(a)}onSubmit(){var a=()=>super.onSubmit,t=this;return(0,M.Z)(function*(){t.submiting=!0;let s=t.informacionGeneral.formulario;const l=t.pestanasList.map(function(){var u=(0,M.Z)(function*(J){J.terminoTrabajo&&t.terminoTrabajoService.editar(J.terminoTrabajo?.trabajo).subscribe(),yield(0,j.n)(t.solicitudPermisoTrabajosRealizarService.guardarValoresPorSolicitud(J.listaVerificacionClasificador,t.idSolicitudPermiso))});return function(J){return u.apply(this,arguments)}}());yield Promise.all(l),s&&(a().call(t,s),t.submiting=!1)})()}cerrar(a){}static#e=this.\u0275fac=function(t){return new(t||ge)(e.Y36(m.X),e.Y36(c.V),e.Y36(A),e.Y36(D.b))};static#i=this.\u0275cmp=e.Xpm({type:ge,selectors:[["app-permisos-formulario"]],viewQuery:function(t,s){if(1&t&&(e.Gf(vi,5),e.Gf(Ci,5),e.Gf(bi,5)),2&t){let l;e.iGM(l=e.CRH())&&(s.informacionGeneral=l.first),e.iGM(l=e.CRH())&&(s.tabset=l.first),e.iGM(l=e.CRH())&&(s.pestanasList=l)}},features:[e.qOj],decls:5,vars:1,consts:[[3,"titulo"],["modalBody",""],["modalFooter",""],[4,"ngIf"],["tabset",""],["customClass","customClass","heading","Informaci\xf3n General",2,"padding","0"],["heading","Informaci\xf3n Contrato",3,"entidad","esAgregar"],["informacionGeneral",""],["customClass","customClass","heading","Requisitos Preliminares",2,"padding","0",3,"disabled"],["customClass","customClass","style","padding: 0;",3,"heading",4,"ngFor","ngForOf"],["customClass","customClass",2,"padding","0",3,"heading"],[3,"idSolicitudPermiso","instrucciones","listaVerificacionClasificador"],["clasificador","","informacionGeneral",""],["type","button",1,"btn-secundario","mr-3",3,"click"],["type","submit","form","form",1,"btn-primario","btn-margin-left",3,"disabled","click"]],template:function(t,s){1&t&&(e.TgZ(0,"app-modal-base",0),e.YNc(1,Zi,2,2,"ng-template",null,1,e.W1O),e.YNc(3,xi,4,1,"ng-template",null,2,e.W1O),e.qZA()),2&t&&e.Q6J("titulo",s.nombreEntidad+" - "+s.accion)},dependencies:[v.sg,v.O5,V.B,W.wW,W.AH,Q,pe],styles:[".nav-item.customClass{display:flex;justify-content:center;align-items:center;width:120px;white-space:normal;text-align:center;line-height:1.2}label{white-space:nowrap}\n"],encapsulation:2})}var ce,d;(d=ce||(ce={})).Consultar="ROMENU0000",d.Agregar="ROMENU1000",d.Editar="ROMENU2000",d.Eliminar="ROMENU3000",d.NoAcceso="";class Pi{}var Si=o(12846),Pe=o(8816);function Ni(d,a){1&d&&e._UZ(0,"i",22)}function Fi(d,a){1&d&&e._UZ(0,"i",23)}class he extends g.v{constructor(a,t,s,l,u,J){super(s,l,u),this.permisosService=a,this.formularioService=t,this.estatusPermisoTrabajoService=J,this.placeHolderSelect=T.g.PLACEHOLDER_DROPDOWN,this.placeHolderNoOptions=T.g.PLACEHOLDER_DROPDOWN_NO_OPTIONS,this.idsEstatusList=[],this.idsEstatusSeleccionados=[],this.buscando=!1,this.NOMBRE_ENTIDAD="Solicitud de permiso de trabajo",this.isCollapsed=!0,this.HEADER_GRID="Solicitud de permiso",this.riesgoList=[],this.filtro=new Pi,this.destroy$=new i.x,this.crudConfig={nombreEntidad:this.NOMBRE_ENTIDAD,generoGramatical:"fem",nombrePropiedadId:"idSolicitudPermiso",formConfig:{ComponenteFormulario:ge,modalConfig:n.OS.Large,configAgregar:{acceso:ce.Agregar},configEditar:{acceso:ce.Editar}},configEliminar:{acceso:ce.Eliminar,elementToString:B=>`${B.idSolicitudPermiso}`}},this.columns=[{headerName:"Clave",field:"idSolicitudPermiso",minWidth:50,width:100},{headerName:"Estatus",field:"estatus",minWidth:50,width:100},{headerName:"Horas Transcurridas",field:"horasTranscurridas",minWidth:50,width:100},{headerName:"Fecha",field:"fechaSolicitud",minWidth:100,width:100,cellRenderer:B=>B.value?new Date(B.value).toLocaleDateString():""},{headerName:"Descripci\xf3n Trabajo",field:"descripcionTrabajo",minWidth:150,width:250},{headerName:"Punto Kilom\xe9trico (PK)",field:"puntoKilometrico",minWidth:50,width:100},{headerName:"Lugar exacto del Trabajo",field:"lugarExactoTrabajo",minWidth:100,width:150},{headerName:"Departamento",field:"departamento",minWidth:100,width:150},{headerName:"Contratista",field:"contratista",minWidth:100,width:150}]}ngOnInit(){super.onInit(),this.obtenerEstatusPermisoTrabajo()}obtenerEstatusPermisoTrabajo(){this.estatusPermisoTrabajoService.consultarParaSelector().subscribe(a=>{this.idsEstatusList=a})}consultarGrid(){return this.filtro.idsEstatus=[],this.permisosService.consultarParaGrid(this.filtro)}eliminar(a){return this.permisosService.eliminar(a)}isCollapsedFunction(){this.isCollapsed=!this.isCollapsed,this.isCollapsed?this.height="calc(80vh - 55px)":this.height="calc(64vh - 55px)"}enviarFormulario(a){a.valid?(this.filtro.idsEstatus=this.idsEstatusSeleccionados,this.registros$=this.permisosService.consultarParaGrid(this.filtro).pipe((0,p.b)(t=>{this.riesgoList=t}))):this.formularioService.validarCamposRequeridos(a)}static#e=this.\u0275fac=function(t){return new(t||he)(e.Y36(m.X),e.Y36(Si.Y),e.Y36(Ce.Q),e.Y36(be.tT),e.Y36(c.V),e.Y36(Y))};static#i=this.\u0275cmp=e.Xpm({type:he,selectors:[["app-permisos"]],features:[e.qOj],decls:26,vars:14,consts:[[1,"cuerpo-contenedor"],["novalidate","novalidate",3,"keydown.enter","ngSubmit"],["formulario","ngForm"],[3,"collapse","isAnimated"],[1,"row"],[1,"col-md-4"],[1,"form-group"],[1,"label-input"],["name","idEstatusName","bindLabel","descripcion","bindValue","idEstatusPermiso",3,"items","placeholder","notFoundText","ngModel","multiple","closeOnSelect","ngModelChange"],["idEstatusLst","ngModel"],[1,"col-md-2"],[1,"row","mb-4"],[1,"col-md-12","text-center"],["type","submit",1,"btn-primario",3,"click"],[1,"form-row","panel-busqueda","mb-4"],[1,"panel-carga-elementos","center-element-vertically",3,"click"],[1,"titulo-panel"],[1,"arow-down-up"],["class","fa fa-chevron-down",4,"ngIf"],["class","fa fa-chevron-up",4,"ngIf"],[1,"col-md-12"],["titulo","Permiso de trabajo","tituloBoton","Permiso de trabajo",3,"columns","crudConfig","elementos$","tieneAccesoAgregar$","agregarClick","gridClick"],[1,"fa","fa-chevron-down"],[1,"fa","fa-chevron-up"]],template:function(t,s){if(1&t){const l=e.EpF();e.TgZ(0,"div",0)(1,"form",1,2),e.NdJ("keydown.enter",function(J){return J.preventDefault()})("ngSubmit",function(){e.CHM(l);const J=e.MAs(2);return e.KtG(s.enviarFormulario(J))}),e.TgZ(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"label",7),e._uU(8,"Estatus"),e.qZA(),e.TgZ(9,"ng-select",8,9),e.NdJ("ngModelChange",function(J){return s.idsEstatusSeleccionados=J}),e.qZA()()()(),e._UZ(11,"div",10),e.TgZ(12,"div",11)(13,"div",12)(14,"button",13),e.NdJ("click",function(){e.CHM(l);const J=e.MAs(2);return e.KtG(s.enviarFormulario(J))}),e._uU(15,"Buscar"),e.qZA()()()()(),e.TgZ(16,"div",14)(17,"div",15),e.NdJ("click",function(){return s.isCollapsed=!s.isCollapsed}),e.TgZ(18,"span",16),e._uU(19,"Panel de B\xfasqueda"),e.qZA(),e.TgZ(20,"span",17),e.YNc(21,Ni,1,0,"i",18),e.YNc(22,Fi,1,0,"i",19),e.qZA()()(),e.TgZ(23,"div",4)(24,"div",20)(25,"app-catalogo-base",21),e.NdJ("agregarClick",function(){return s.agregar()})("gridClick",function(J){return s.onGridClick(J)}),e.qZA()()()()}2&t&&(e.xp6(3),e.Q6J("collapse",s.isCollapsed)("isAnimated",!0),e.xp6(6),e.Q6J("items",s.idsEstatusList)("placeholder",s.placeHolderSelect)("notFoundText",s.placeHolderNoOptions)("ngModel",s.idsEstatusSeleccionados)("multiple",!0)("closeOnSelect",!1),e.xp6(12),e.Q6J("ngIf",s.isCollapsed),e.xp6(1),e.Q6J("ngIf",!s.isCollapsed),e.xp6(3),e.Q6J("columns",s.columns)("crudConfig",s.crudConfig)("elementos$",s.registros$)("tieneAccesoAgregar$",s.tieneAccesoAgregar$))},dependencies:[v.O5,Te.B,F._Y,F.JJ,F.JL,F.On,F.F,$.w9,Pe.Y]})}var Ei=o(13050);const Oi=[{path:"",component:he,canActivate:[Ei.m],data:{title:"Consulta",acceso:te.GR.Consultar}}];class fe{static#e=this.\u0275fac=function(t){return new(t||fe)};static#i=this.\u0275mod=e.oAB({type:fe});static#t=this.\u0275inj=e.cJS({imports:[_.Bz.forChild(Oi),_.Bz]})}var Ii=o(13024),Ui=o(30872),yi=o(19283),Li=o(41283),Gi=o(79474);class _e{static#e=this.\u0275fac=function(t){return new(t||_e)};static#i=this.\u0275mod=e.oAB({type:_e});static#t=this.\u0275inj=e.cJS({providers:[m.X,A,D.b],imports:[v.ez,F.u5,Ii.u,$.A0,W.P4,h.A,k.To,yi.SignosVitalesModule,Ui.k,Li.Z,Gi.b,U.kn]})}class ve{static#e=this.\u0275fac=function(t){return new(t||ve)};static#i=this.\u0275mod=e.oAB({type:ve});static#t=this.\u0275inj=e.cJS({imports:[v.ez,fe,h.A,_e,F.u5,$.A0,Pe.f]})}},65764:(H,N,o)=>{o.d(N,{j:()=>$});var v=o(50986),h=o(90429),_=o(70615),g=o(77579),i=o(18505),p=o(40675),n=o(94650),M=o(71983),P=o(2060),T=o(383),j=o(36895),r=o(24006);const E=["formulario"];function C(R,U){1&R&&(n.TgZ(0,"div",26),n._uU(1," El nombre es requerido "),n.qZA())}function f(R,U){1&R&&(n.TgZ(0,"div",26),n._uU(1," El nombre es requerido "),n.qZA())}function e(R,U){1&R&&(n.TgZ(0,"div",26),n._uU(1," La hora de la lectura es requerida "),n.qZA())}function m(R,U){1&R&&(n.TgZ(0,"div",26),n._uU(1," La temperatura es requerida "),n.qZA())}function c(R,U){1&R&&(n.TgZ(0,"div",26),n._uU(1," La tension arterial es requerida "),n.qZA())}function b(R,U){1&R&&(n.TgZ(0,"div",26),n._uU(1," La frecuencia cardiaca es requerida "),n.qZA())}function A(R,U){1&R&&(n.TgZ(0,"div",26),n._uU(1," El porcentaje es requerido "),n.qZA())}function D(R,U){if(1&R){const S=n.EpF();n.TgZ(0,"form",3,4),n.NdJ("keydown.enter",function(O){return O.preventDefault()})("ngSubmit",function(){n.CHM(S);const O=n.MAs(1),G=n.oxw();return n.KtG(G.onSubmit(O))}),n.TgZ(2,"div",5)(3,"div",6)(4,"div",7)(5,"div",8)(6,"label",9),n._uU(7,"Nombre"),n.qZA(),n.TgZ(8,"div")(9,"input",10,11),n.NdJ("ngModelChange",function(O){n.CHM(S);const G=n.oxw();return n.KtG(G.entidad.nombre=O)}),n.qZA(),n.YNc(11,C,2,0,"div",12),n.qZA()(),n.TgZ(12,"div",8)(13,"label",9),n._uU(14,"Puesto"),n.qZA(),n.TgZ(15,"div")(16,"input",13,14),n.NdJ("ngModelChange",function(O){n.CHM(S);const G=n.oxw();return n.KtG(G.entidad.puesto=O)}),n.qZA(),n.YNc(18,f,2,0,"div",12),n.qZA()(),n.TgZ(19,"div",15)(20,"div",8)(21,"label",9),n._uU(22,"Hora de la Lectura"),n.qZA(),n.TgZ(23,"div")(24,"input",16,17),n.NdJ("ngModelChange",function(O){n.CHM(S);const G=n.oxw();return n.KtG(G.horaLectura=O)}),n.qZA()(),n.YNc(26,e,2,0,"div",12),n.qZA()(),n.TgZ(27,"div",15)(28,"div",8)(29,"label",9),n._uU(30,"Temperatura (\xb0C)"),n.qZA(),n.TgZ(31,"div")(32,"input",18,19),n.NdJ("ngModelChange",function(O){n.CHM(S);const G=n.oxw();return n.KtG(G.entidad.temperatura=O)}),n.qZA(),n.YNc(34,m,2,0,"div",12),n.qZA()()(),n.TgZ(35,"div",15)(36,"div",8)(37,"label",9),n._uU(38,"Tensi\xf3n arterial (mmHg)"),n.qZA(),n.TgZ(39,"div")(40,"input",20,21),n.NdJ("ngModelChange",function(O){n.CHM(S);const G=n.oxw();return n.KtG(G.entidad.tensionArterial=O)}),n.qZA(),n.YNc(42,c,2,0,"div",12),n.qZA()()(),n.TgZ(43,"div",15)(44,"div",8)(45,"label",9),n._uU(46,"Frecuencia Cardiaca (L/min)"),n.qZA(),n.TgZ(47,"div")(48,"input",22,23),n.NdJ("ngModelChange",function(O){n.CHM(S);const G=n.oxw();return n.KtG(G.entidad.frecuenciaCardiaca=O)}),n.qZA(),n.YNc(50,b,2,0,"div",12),n.qZA()()(),n.TgZ(51,"div",15)(52,"div",8)(53,"label",9),n._uU(54,"Saturaci\xf3n de Oxigeno (%)"),n.qZA(),n.TgZ(55,"div")(56,"input",24,25),n.NdJ("ngModelChange",function(O){n.CHM(S);const G=n.oxw();return n.KtG(G.entidad.saturacionOxigeno=O)}),n.qZA(),n.YNc(58,A,2,0,"div",12),n.qZA()()()()()()()}if(2&R){const S=n.MAs(10),y=n.MAs(17),O=n.MAs(25),G=n.MAs(33),q=n.MAs(41),x=n.MAs(49),Z=n.MAs(57),I=n.oxw();n.xp6(9),n.Q6J("ngModel",I.entidad.nombre),n.xp6(2),n.Q6J("ngIf",(null==S.errors?null:S.errors.required)&&S.touched),n.xp6(5),n.Q6J("ngModel",I.entidad.puesto),n.xp6(2),n.Q6J("ngIf",(null==y.errors?null:y.errors.required)&&y.touched),n.xp6(6),n.Q6J("ngModel",I.horaLectura)("required",!0),n.xp6(2),n.Q6J("ngIf",(null==O.errors?null:O.errors.required)&&O.touched),n.xp6(6),n.Q6J("ngModel",I.entidad.temperatura)("required",!0),n.xp6(2),n.Q6J("ngIf",(null==G.errors?null:G.errors.required)&&G.touched),n.xp6(6),n.Q6J("ngModel",I.entidad.tensionArterial)("required",!0),n.xp6(2),n.Q6J("ngIf",(null==q.errors?null:q.errors.required)&&q.touched),n.xp6(6),n.Q6J("ngModel",I.entidad.frecuenciaCardiaca)("required",!0),n.xp6(2),n.Q6J("ngIf",(null==x.errors?null:x.errors.required)&&x.touched),n.xp6(6),n.Q6J("ngModel",I.entidad.saturacionOxigeno)("required",!0),n.xp6(2),n.Q6J("ngIf",(null==Z.errors?null:Z.errors.required)&&Z.touched)}}function V(R,U){if(1&R){const S=n.EpF();n.TgZ(0,"button",27),n.NdJ("click",function(){n.CHM(S);const O=n.oxw();return n.KtG(O.cancelar())}),n._uU(1," Cancelar "),n.qZA(),n.TgZ(2,"button",28),n._uU(3," Guardar "),n.qZA()}if(2&R){const S=n.oxw();n.xp6(2),n.Q6J("disabled",S.submiting)}}class W extends _.P{constructor(U,S){super(S),this.signosVitalesService=U,this.deshabilitarAgregar=!1,this.destroy$=new g.x,this.placeHolderSelect=v.g.PLACEHOLDER_DROPDOWN,this.placeHolderNoOptions=v.g.PLACEHOLDER_DROPDOWN_NO_OPTIONS,this.submiting=!1}ngOnInit(){this.entidad.idSolicitudPermiso=this.idEntidad,super.onInit(),this.esAgregarEditar()}ngOnDestroy(){this.destroy$.next()}esAgregarEditar(){this.accion==p.V_.Agregar&&(this.deshabilitarAgregar=!0)}consultar(U){return this.signosVitalesService.consultarParaFormulario(U).pipe((0,i.b)(S=>this.horaLectura=h.lj(h.KE(S.horaLectura))))}agregar(U){return this.mapTime(this.horaLectura),this.signosVitalesService.agregar(U)}editar(U){return this.mapTime(this.horaLectura),this.signosVitalesService.editar(U)}onSubmit(U){super.onSubmit(U)}mapTime(U){const[S,y]=U.split(":").map(Number),O=new Date;O.setHours(S,y),this.entidad.horaLectura=O}static#e=this.\u0275fac=function(S){return new(S||W)(n.Y36(M.a),n.Y36(P.V))};static#i=this.\u0275cmp=n.Xpm({type:W,selectors:[["app-signos-vitales-formulario"]],viewQuery:function(S,y){if(1&S&&n.Gf(E,5),2&S){let O;n.iGM(O=n.CRH())&&(y.formulario=O.first)}},features:[n.qOj],decls:5,vars:1,consts:[[3,"titulo"],["modalBody",""],["modalFooter",""],["id","form-signos-vitales","novalidate","novalidate",3,"keydown.enter","ngSubmit"],["formulario","ngForm"],[1,"container-fluid"],[1,"row"],[1,"col-12","col-md-12"],[1,"form-group"],[1,"label-input","required-label"],["id","nombre","name","nombre","type","text","maxlength","50","required","required","autocomplete","off",1,"form-control",3,"ngModel","ngModelChange"],["nombre","ngModel"],["class","error",4,"ngIf"],["id","puesto","name","puesto","type","text","maxlength","50","required","required","autocomplete","off",1,"form-control",3,"ngModel","ngModelChange"],["puesto","ngModel"],[1,"col-md-4"],["name","HoraLectura","type","time",1,"form-control",3,"ngModel","required","ngModelChange"],["HoraLectura","ngModel"],["name","temperatura","type","number",1,"form-control",3,"ngModel","required","ngModelChange"],["temperatura","ngModel"],["name","tensionArterial","type","number",1,"form-control",3,"ngModel","required","ngModelChange"],["tensionArterial","ngModel"],["name","frecuenciaCardiaca","type","number",1,"form-control",3,"ngModel","required","ngModelChange"],["frecuenciaCardiaca","ngModel"],["name","saturacionOxigeno","type","number",1,"form-control",3,"ngModel","required","ngModelChange"],["saturacionOxigeno","ngModel"],[1,"error"],["type","button",1,"btn-secundario","mr-3",3,"click"],["type","submit","form","form-signos-vitales",1,"btn-primario","btn-margin-left",3,"disabled"]],template:function(S,y){1&S&&(n.TgZ(0,"app-modal-base",0),n.YNc(1,D,59,19,"ng-template",null,1,n.W1O),n.YNc(3,V,4,1,"ng-template",null,2,n.W1O),n.qZA()),2&S&&n.Q6J("titulo",y.accion+" "+y.nombreEntidad)},dependencies:[T.B,j.O5,r._Y,r.Fj,r.wV,r.JJ,r.JL,r.Q7,r.nD,r.On,r.F],encapsulation:2})}var z=o(27974),K=o(52522),ie=o(31229),se=o(62861),X=o(20388),Y=o(37084),F=o(85246);class $ extends z.v{constructor(U,S,y,O){super(S,y,O),this.signosVitalesService=U,this.HEADER_GRID="Monitoreo de Signos Vitales",this.NOMBRE_ENTIDAD="Signo Vital",this.crudConfig={nombreEntidad:this.NOMBRE_ENTIDAD,generoGramatical:"masc",nombrePropiedadId:"idMonitoreoSignosVitales",formConfig:{ComponenteFormulario:W,modalConfig:K.OS.Default,configAgregar:{acceso:ie.Vm.Editar},configEditar:{acceso:ie.Vm.Editar}},configEliminar:{acceso:ie.Vm.Editar,elementToString:G=>G.nombre}},this.columns=[{headerName:"Nombre",field:"nombre",minWidth:150,width:70},{headerName:"Puesto",field:"puesto",minWidth:150,width:70},{headerName:"Hora de lectura",field:"horaLectura",minWidth:50,valueFormatter:G=>(0,h.CD)((0,h.KE)(G.value))},{headerName:"Temperatura (\xb0C)",field:"temperatura",minWidth:150,width:70},{headerName:"Tensi\xf3n Arterial (mmHg)",field:"tensionArterial",minWidth:150,width:70},{headerName:"Frecuencia Cardiaca (L/min)",field:"frecuenciaCardiaca",minWidth:150,width:70},{headerName:"Saturaci\xf3n de Ox\xedgeno (%)",field:"saturacionOxigeno",minWidth:150,width:70}]}ngOnInit(){super.onInit()}consultarGrid(){return this.signosVitalesService.consultarParaGrid(this.idSolicitudPermiso)}eliminar(U){return this.signosVitalesService.eliminar(U)}static#e=this.\u0275fac=function(S){return new(S||$)(n.Y36(M.a),n.Y36(se.Q),n.Y36(X.tT),n.Y36(P.V))};static#i=this.\u0275cmp=n.Xpm({type:$,selectors:[["app-signos-vitales"]],inputs:{idSolicitudPermiso:"idSolicitudPermiso"},features:[n.qOj],decls:8,vars:4,consts:[["multi","true"],["expanded","true"],[1,"subseccion"],[1,"col-md-12"],["tituloBoton","Signos Vitales",3,"columns","crudConfig","elementos$","tieneAccesoAgregar$","agregarClick","gridClick"]],template:function(S,y){1&S&&(n.TgZ(0,"mat-accordion",0)(1,"mat-expansion-panel",1)(2,"mat-expansion-panel-header")(3,"mat-panel-title")(4,"div",2),n._uU(5," Monitoreo de Signos Vitales "),n.qZA()()(),n.TgZ(6,"div",3)(7,"app-catalogo-base",4),n.NdJ("agregarClick",function(){return y.agregar(y.idSolicitudPermiso)})("gridClick",function(G){return y.onGridClick(G)}),n.qZA()()()()),2&S&&(n.xp6(7),n.Q6J("columns",y.columns)("crudConfig",y.crudConfig)("elementos$",y.registros$)("tieneAccesoAgregar$",y.tieneAccesoAgregar$))},dependencies:[Y.pp,Y.ib,Y.yz,Y.yK,F.B]})}},19283:(H,N,o)=>{o.r(N),o.d(N,{SignosVitalesModule:()=>V});var v=o(36895),h=o(43876),_=o(88796),g=o(41283),i=o(71436),p=o(90061),n=o(61191),M=o(71983),P=o(62861),T=o(24006),j=o(37084),r=o(9116),E=o(65764),C=o(13050),f=o(85087),e=o(94650);const m=[{path:"",component:E.j,canActivate:[C.m],data:{title:"Consulta",acceso:f.v.CONSULTAR_SIGNOS_VITALES}}];class c{static#e=this.\u0275fac=function(K){return new(K||c)};static#i=this.\u0275mod=e.oAB({type:c});static#t=this.\u0275inj=e.cJS({imports:[r.Bz.forChild(m),r.Bz]})}var b=o(92020),A=o(13024);class D{static#e=this.\u0275fac=function(K){return new(K||D)};static#i=this.\u0275mod=e.oAB({type:D});static#t=this.\u0275inj=e.cJS({providers:[M.a],imports:[h.m81,A.u,v.ez,T.u5,_.A0]})}class V{static#e=this.\u0275fac=function(K){return new(K||V)};static#i=this.\u0275mod=e.oAB({type:V});static#t=this.\u0275inj=e.cJS({providers:[P.Q,M.a],imports:[h.m81,g.Z,p.kn,c,T.u5,j.To,v.ez,h.fwJ,h.P4_,h.zkK,_.A0,n.H3.forRoot(),i.a,b.A,g.Z,D]})}},68005:(H,N,o)=>{o.d(N,{G:()=>f});var v=o(5596),h=o(50986);class _{constructor(){this.latitud="",this.longitud="",this.firma="",this.tipeMime="",this.fecha=new Date}}var g=o(93416),i=o(94650),p=o(80529);class n{constructor(m){this.http=m,this.dataUrl="actividadCaliente/"}consultarGrid(m){return this.http.get(this.dataUrl+`${m}`)}agregar(m){return this.http.post(this.dataUrl,m)}editar(m){return this.http.put(this.dataUrl,m)}editarFirma(m){return this.http.put(this.dataUrl+"firma",m)}eliminar(m){return this.http.delete(this.dataUrl+`${m}`)}consultarFirma(m){return this.http.get(this.dataUrl+`firma/${m}`)}consultarFirmaSecundaria(m){return this.http.get(this.dataUrl+`firmaSecundaria/${m}`)}static#e=this.\u0275fac=function(c){return new(c||n)(i.LFG(p.eN))};static#i=this.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}var M=o(2060),P=o(20388),T=o(24006),j=o(58390),r=o(90061),E=o(37084);const C=function(){return{dateInputFormat:"DD/MM/YYYY"}};class f{constructor(m,c,b,A){this.actividadCalienteService=m,this.modalMensajeService=c,this.bsModalRef=b,this.modalService=A,this.actividadList=[],this.actividad=new _,this.actividadFirma=new _,this.firmaButton={headerName:"Firma",field:"",cellRenderer:"actionButton",minWidth:44,maxWidth:100,resizable:!0,sortable:!1,filter:!1,action:h.g.GRID_ACCION_FIRMAR,pinned:void 0},this.verButton={headerName:"",fiel:"",cellRenderer:"actionButton",minWidth:44,maxWidth:44,resizable:!0,sortable:!1,filter:!1,action:h.g.GRID_ACCION_VER_FIRMA,pinned:void 0},this.firmaButtonSST={headerName:"Firma",field:"",cellRenderer:"actionButton",minWidth:44,maxWidth:100,resizable:!0,sortable:!1,filter:!1,action:h.g.GRID_ACCION_FIRMAR_SECUNDARIO,pinned:void 0},this.verButtonSST={headerName:"",fiel:"",cellRenderer:"actionButton",minWidth:44,maxWidth:44,resizable:!0,sortable:!1,filter:!1,action:h.g.GRID_ACCION_VER_FIRMA_SECUNDARIO,pinned:void 0},this.actividadColumns=[{headerName:"Hora de Revisi\xf3n",field:"fecha",minWidth:100,valueFormatter:this.FormatoHora},{headerName:"Fecha de Revisi\xf3n",field:"fecha",minWidth:100,valueFormatter:this.FormatoFecha},{headerName:"Responsable de la Actividad",field:"responsableActividad",minWidth:100},this.firmaButton,this.verButton,{headerName:"Responsable del SST",field:"responsableSST",minWidth:100},{headerName:"",field:"idPersonalParticipanteFirma",minWidth:100,hide:!0},this.firmaButtonSST,this.verButtonSST]}ngOnInit(){this.actividad.idSolicitudPermiso=this.idSolicitudPermiso,this.consultarActividad()}consultarActividad(){this.actividadCalienteService.consultarGrid(this.idSolicitudPermiso).subscribe(m=>this.actividadList=m)}onGridClick(m){m.accion===h.g.GRID_ACCION_EDITAR?(this.actividad=m.data,this.horaSeleccionada=this.convertNumberToTime(m.data.fecha.getHours(),m.data.fecha.getMinutes())):m.accion===h.g.GRID_ACCION_ELIMINAR?this.modalMensajeService.modalConfirmacion("\xbfDesea eliminar la selecci\xf3n?","Eliminar",h.g.ICONO_CRUZ).then(c=>{this.actividadCalienteService.eliminar(m.data.idRevPostActCalienteFirma).subscribe(b=>{this.modalMensajeService.modalExito("Eliminado con Exito"),this.consultarActividad()})}):m.accion===h.g.GRID_ACCION_FIRMAR||m.accion===h.g.GRID_ACCION_FIRMAR_SECUNDARIO?(this.actividadFirma=m.data,this.abrirFirma(m.accion)):m.accion===h.g.GRID_ACCION_VER_FIRMA?this.actividadCalienteService.consultarFirma(m.data.idRevPostActCalienteFirma).subscribe(c=>{this.verFirma(c.firma)}):m.accion===h.g.GRID_ACCION_VER_FIRMA_SECUNDARIO&&this.actividadCalienteService.consultarFirmaSecundaria(m.data.idRevPostActCalienteFirma).subscribe(c=>{this.verFirma(c.firma)})}agregarActividad(){this.actividad.tipeMime="image/png",this.mapTime(this.horaSeleccionada),this.actividad.idRevPostActCalienteFirma?this.actividadCalienteService.editar(this.actividad).subscribe(m=>{this.inicializar()}):this.actividadCalienteService.agregar(this.actividad).subscribe(m=>{this.inicializar()})}inicializar(){this.actividad=new _,this.actividad.idSolicitudPermiso=this.idSolicitudPermiso,this.consultarActividad()}abrirFirma(m){this.bsModalRef=this.modalService.show(v.V,h.g.CONFIG_MODAL_DEFAULT),this.bsModalRef.content.esModal=!0,this.bsModalRef.content.onClose=c=>{const b=this.bsModalRef.content.firma;if(b.firma){let A=b.firma.split(",");m===h.g.GRID_ACCION_FIRMAR?this.actividadFirma.firma=A[1]:m===h.g.GRID_ACCION_FIRMAR_SECUNDARIO&&(this.actividadFirma.firmaSST=A[1]),this.actividadFirma.tipeMime="image/png",this.actividadFirma.tipeMimeSST="image/png",this.actividadFirma.latitud=b.latitud.toString(),this.actividadFirma.longitud=b.longitud.toString(),this.actividadCalienteService.editarFirma(this.actividadFirma).subscribe()}this.bsModalRef.hide()}}convertTimeToNumber(m){const c=m.split(":");return parseInt(c[0],10)+parseInt(c[1],10)/60}convertNumberToTime(m,c){return`${this.padZero(m)}:${this.padZero(c)}`}padZero(m){return m<10?`0${m}`:m.toString()}mapTime(m){const c=m.split(":");this.actividad.fecha.setHours(parseInt(c[0]),parseInt(c[1]))}FormatoFecha(m){return m.data.fecha.toLocaleDateString("en-GB")}FormatoHora(m){return m.data.fecha.toTimeString().split(" ").toLocaleString().split(":").splice(0,2).toLocaleString().replace(",",":")+" hrs."}verFirma(m){let c={archivo:m,nombreImagen:"Firma",archivoTipoMime:"image/png",onCloseCallback:A=>{this.bsModalRef.hide()}};const b={...h.g.CONFIG_MODAL_DEFAULT,initialState:c};this.bsModalRef=this.modalService.show(g.U,b)}static#e=this.\u0275fac=function(c){return new(c||f)(i.Y36(n),i.Y36(M.V),i.Y36(P.UZ),i.Y36(P.tT))};static#i=this.\u0275cmp=i.Xpm({type:f,selectors:[["app-actividad-caliente"]],inputs:{idSolicitudPermiso:"idSolicitudPermiso",accion:"accion"},decls:56,vars:10,consts:[[1,"subseccion"],[1,"row"],[1,"col-md-8","justify",2,"width","100%","font-size","11px"],[1,"warning-wrapper","col-md-13",2,"width","86.7%"],[1,"warning-wrapper","col-md-2",2,"width","13.3%"],[1,"fa-solid","fa-circle-exclamation","warning-button",2,"color","#f0bc00"],[1,"info-panel"],["src","assets/img/info/valores-permisos.png"],["multi","true"],["expanded","true"],[1,"cuerpo-contenedor"],[1,"col-md-2"],[1,"form-group"],[1,"label-input","required-label"],[1,"date-input-container"],["name","hora","type","time",1,"form-control",3,"ngModel","required","ngModelChange","change"],["Hora","ngModel"],["type","text","bsDatepicker","",1,"form-control",3,"ngModel","bsConfig","ngModelChange"],[1,"col-md-3"],["type","text",1,"form-control",3,"ngModel","ngModelChange"],[1,"btn-imagen",3,"click"],["src","assets/img/svg/svg-ico-25x25-Boton-Circular-Naranja-Agregar.svg"],[1,"col-md-12"],[3,"headerName","data","children","event"],["gridPersonal",""],[1,"modal-footer"]],template:function(c,b){1&c&&(i.TgZ(0,"div",0),i._uU(1," Tabla de Datos\n"),i.qZA(),i.TgZ(2,"div",1)(3,"div",2)(4,"b"),i._uU(5,"Instrucciones:"),i.qZA(),i._uU(6," 1. Registrar previo al inicio de la actividad, los valores de los SIGNOS VITALES de los trabajadores que entrar\xe1n al espacio confinado, estar\xe1n en altura, soldador, intervenci\xf3n de equipo el\xe9ctrico u operador de equipo; 2. Registrar los valores de las CONDICIONES CLIM\xc1TICAS; 3. Registrar los valores de ATM\xd3SFERA INTERIOR del espacio confinado. Las tablas de datos tienen espacio para varias lecturas en el d\xeda, realizar la primera lectura al inicio de las actividades y las lecturas secundarias al reinicio de trabajos o para marcar alguna pausa por condiciones adversas. en caso de lecturas anormales, el detector active alarma o no se cuente con equipo necesario para las lecturas el trabajo no se puede realizar hasta resolver la situaci\xf3n. "),i.qZA()(),i.TgZ(7,"div",1),i._UZ(8,"div",3),i.TgZ(9,"div",4),i._UZ(10,"i",5),i.TgZ(11,"div",6),i._UZ(12,"img",7),i.qZA()()(),i.TgZ(13,"mat-accordion",8)(14,"mat-expansion-panel",9)(15,"mat-expansion-panel-header")(16,"mat-panel-title")(17,"div",0),i._uU(18," Revisi\xf3n Posterior a la Actividad en Caliente "),i.qZA()()(),i.TgZ(19,"div",10)(20,"div",1)(21,"div",11)(22,"div",12)(23,"label",13),i._uU(24,"Hora de Revisi\xf3n"),i.qZA(),i.TgZ(25,"div",14)(26,"input",15,16),i.NdJ("ngModelChange",function(D){return b.horaSeleccionada=D})("change",function(){return b.mapTime(b.horaSeleccionada)}),i.qZA()()()(),i.TgZ(28,"div",11)(29,"div",12)(30,"label",13),i._uU(31,"Fecha de Revisi\xf3n"),i.qZA(),i.TgZ(32,"div")(33,"input",17),i.NdJ("ngModelChange",function(D){return b.actividad.fecha=D}),i.qZA()()()(),i.TgZ(34,"div",18)(35,"div",12)(36,"label",13),i._uU(37,"Responsable de la Actividad: Nombre"),i.qZA(),i.TgZ(38,"div")(39,"input",19),i.NdJ("ngModelChange",function(D){return b.actividad.responsableActividad=D}),i.qZA()()()(),i.TgZ(40,"div",18)(41,"div",12)(42,"label",13),i._uU(43,"Responsable SST: Nombre"),i.qZA(),i.TgZ(44,"div")(45,"input",19),i.NdJ("ngModelChange",function(D){return b.actividad.responsableSST=D}),i.qZA()()()(),i.TgZ(46,"div",11)(47,"div",12)(48,"div")(49,"button",20),i.NdJ("click",function(){return b.agregarActividad()}),i._UZ(50,"img",21),i.qZA()()()()(),i.TgZ(51,"div",1)(52,"div",22)(53,"app-grid-general",23,24),i.NdJ("event",function(D){return b.onGridClick(D)}),i.qZA()()()()()(),i._UZ(55,"div",25)),2&c&&(i.xp6(26),i.Q6J("ngModel",b.horaSeleccionada)("required",!0),i.xp6(7),i.Q6J("ngModel",b.actividad.fecha)("bsConfig",i.DdM(9,C)),i.xp6(6),i.Q6J("ngModel",b.actividad.responsableActividad),i.xp6(6),i.Q6J("ngModel",b.actividad.responsableSST),i.xp6(8),i.Q6J("headerName","Personal")("data",b.actividadList)("children",b.actividadColumns))},dependencies:[T.Fj,T.JJ,T.Q7,T.On,j.$,r.Np,r.Y5,E.pp,E.ib,E.yz,E.yK],styles:[".btn-imagen[_ngcontent-%COMP%]{border-radius:100px;border:none;max-width:100%;max-height:100%;background-color:#fff}"]})}},34529:(H,N,o)=>{o.d(N,{T:()=>r});class v{constructor(){}}class h{constructor(){}}var _=o(50986),g=o(94650),i=o(62861),p=o(2060),n=o(11481),M=o(64163),P=o(34270),T=o(24006),j=o(58390);class r{constructor(C,f,e,m,c){this.accesoService=C,this.modalMensajeService=f,this.sanitizer=e,this.archivoService=m,this.detControlesMedSeguridadService=c,this.medida=new h,this.condicion=new v,this.medidasList=[],this.condicionesList=[],this.medidasColumns=[{headerName:"N\xfam",field:"numero",minWidth:100},{headerName:"Medidas m\xe1s relevantes",field:"nombre",minWidth:100},{headerName:"",field:"idTabla",minWidth:100,hide:!0}],this.condicionesColumns=[{headerName:"N\xfam",field:"numero",minWidth:100},{headerName:"Condiciones reportadas",field:"nombre",minWidth:100},{headerName:"",field:"idTabla",minWidth:100,hide:!0}],this.configIdRol=Object.assign({labelField:"nombre",valueField:"idRol",searchField:["nombre"],plugins:["dropdown_direction","remove_button"],maxItems:null,dropdownDirection:"down"}),this.configModal={animated:!0,keyboard:!1,backdrop:"static",ignoreBackdropClick:!0,size:"sm",class:"modal-md modal-size-md modal-position-center"}}ngOnInit(){this.llenarGrids(),this.limpiarMedida(),this.limpiarCondicion()}llenarGrids(){this.detControlesMedSeguridadService.consultarMedidas(this.idSolicitudPermiso).subscribe(C=>{this.medidasList=C}),this.detControlesMedSeguridadService.consultarCondiciones(this.idSolicitudPermiso).subscribe(C=>{this.condicionesList=C})}agregarMedidas(){null==this.medida.idTabla||0==this.medida.idTabla||null==this.medida.idTabla?(this.medida.idSolicitudPermiso=this.idSolicitudPermiso,this.detControlesMedSeguridadService.agregarMedidas(this.medida).subscribe(C=>{this.llenarGrids(),this.limpiarMedida()})):this.detControlesMedSeguridadService.editarMedidas(this.medida).subscribe(C=>{this.llenarGrids(),this.limpiarMedida()})}agregarCondiciones(){null==this.condicion.idTabla||0==this.condicion.idTabla||null==this.condicion.idTabla?(this.condicion.idSolicitudPermiso=this.idSolicitudPermiso,this.detControlesMedSeguridadService.agregarCondiciones(this.condicion).subscribe(C=>{this.llenarGrids(),this.limpiarCondicion()})):this.detControlesMedSeguridadService.editarCondiciones(this.condicion).subscribe(C=>{this.llenarGrids(),this.limpiarCondicion()})}limpiarMedida(){this.medida.idTabla=0,this.medida.idSolicitudPermiso=0,this.medida.nombre="",this.medida.numero=0}limpiarCondicion(){this.condicion.idTabla=0,this.condicion.idSolicitudPermiso=0,this.condicion.nombre="",this.condicion.numero=0}cancelar(){this.onClose(!1)}sanitize(C){return this.sanitizer.bypassSecurityTrustUrl(C)}onGridClick(C,f){C.accion===_.g.GRID_ACCION_EDITAR?("condicion"==f&&(this.condicion=C.data),"medida"==f&&(this.medida=C.data)):C.accion===_.g.GRID_ACCION_ELIMINAR&&this.modalMensajeService.modalConfirmacion("\xbfDesea eliminar la selecci\xf3n?","Eliminar",_.g.ICONO_CRUZ).then(e=>{this.detControlesMedSeguridadService.eliminar(C.data.idTabla).subscribe(m=>{this.modalMensajeService.modalExito("Eliminado con Exito"),this.llenarGrids()})})}static#e=this.\u0275fac=function(f){return new(f||r)(g.Y36(i.Q),g.Y36(p.V),g.Y36(n.H7),g.Y36(M.g),g.Y36(P.r))};static#i=this.\u0275cmp=g.Xpm({type:r,selectors:[["app-condiciones-medidas"]],inputs:{idSolicitudPermiso:"idSolicitudPermiso"},decls:39,vars:8,consts:[[1,"cuerpo-contenedor"],[1,"row"],[1,"col-md-4"],[1,"form-group"],[1,"label-input","required-label"],["type","text",1,"form-control",3,"ngModel","ngModelChange"],[1,"btn-imagen",3,"click"],["src","assets/img/svg/svg-ico-25x25-Boton-Circular-Naranja-Agregar.svg"],[1,"col-md-12"],[3,"headerName","data","children","event"],["gridMedidas",""],["gridCondiciones",""],[1,"modal-footer"]],template:function(f,e){1&f&&(g.TgZ(0,"div",0)(1,"div",1)(2,"p")(3,"b"),g._uU(4,"Instrucciones:"),g.qZA(),g._uU(5," 1. Apuntar las medidas m\xe1s relevantes. 2. Las condiciones reportadas en la solicitud deben mantenerse durante el desarrollo de las tareas."),g.qZA()(),g.TgZ(6,"div",1)(7,"div",2)(8,"div",3)(9,"label",4),g._uU(10,"Medidas"),g.qZA(),g.TgZ(11,"div")(12,"input",5),g.NdJ("ngModelChange",function(c){return e.medida.nombre=c}),g.qZA()()()(),g.TgZ(13,"div",2)(14,"div",3)(15,"div")(16,"button",6),g.NdJ("click",function(){return e.agregarMedidas()}),g._UZ(17,"img",7),g.qZA()()()()(),g.TgZ(18,"div",1)(19,"div",8)(20,"app-grid-general",9,10),g.NdJ("event",function(c){return e.onGridClick(c,"medida")}),g.qZA()()(),g.TgZ(22,"div",1)(23,"div",2)(24,"div",3)(25,"label",4),g._uU(26,"Condiciones"),g.qZA(),g.TgZ(27,"div")(28,"input",5),g.NdJ("ngModelChange",function(c){return e.condicion.nombre=c}),g.qZA()()()(),g.TgZ(29,"div",2)(30,"div",3)(31,"div")(32,"button",6),g.NdJ("click",function(){return e.agregarCondiciones()}),g._UZ(33,"img",7),g.qZA()()()()(),g.TgZ(34,"div",1)(35,"div",8)(36,"app-grid-general",9,11),g.NdJ("event",function(c){return e.onGridClick(c,"condicion")}),g.qZA()()()(),g._UZ(38,"div",12)),2&f&&(g.xp6(12),g.Q6J("ngModel",e.medida.nombre),g.xp6(8),g.Q6J("headerName","Medidas")("data",e.medidasList)("children",e.medidasColumns),g.xp6(8),g.Q6J("ngModel",e.condicion.nombre),g.xp6(8),g.Q6J("headerName","Condiciones")("data",e.condicionesList)("children",e.condicionesColumns))},dependencies:[T.Fj,T.JJ,T.On,j.$],styles:[".modal-content[_ngcontent-%COMP%]{border:none}.modal-header[_ngcontent-%COMP%]{background-color:#fff}.switch[_ngcontent-%COMP%]{top:4px;height:calc(1.5em + .75rem + 7px);width:100px}.slider[_ngcontent-%COMP%]{background-color:#fff;border:none}.slider[_ngcontent-%COMP%]:before{background-color:#ed7d31;bottom:7px}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]{background-color:#f7ccaf}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]:before{background-color:#fff;transform:translate(70px)}.on[_ngcontent-%COMP%], .off[_ngcontent-%COMP%]{font-family:Roboto}.off[_ngcontent-%COMP%]{color:gray;padding-left:20px}input[disabled][_ngcontent-%COMP%] + .slider[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#fff}  .tabs>a{padding:0;background-color:#ed7d31!important}.btn-subir[_ngcontent-%COMP%]{font-size:small;color:#fbe5d6;padding:1px 10px;background-color:#ed7d31;transition:.2s;border:1px #f2f2f2 solid;color:#fff;font-size:14px;text-align:center;border-radius:20px;text-wrap:true;max-width:100%;max-height:100%;align-content:center}.btn-subir[_ngcontent-%COMP%]:hover{background-color:#c56b30}.btn-imagen[_ngcontent-%COMP%]{border-radius:100px;border:none;max-width:100%;max-height:100%;background-color:#fff;margin-top:8px}"]})}},92859:(H,N,o)=>{o.d(N,{w:()=>E});var v=o(5596),h=o(50986);class _{constructor(){this.latitud="",this.longitud="",this.firma="",this.tipeMime=""}}var g=o(93416),i=o(94650),p=o(80529);class n{constructor(f){this.http=f,this.dataUrl="corteEnergia/"}consultarGrid(f){return this.http.get(this.dataUrl+`${f}`)}agregar(f){return this.http.post(this.dataUrl,f)}editar(f){return this.http.put(this.dataUrl,f)}editarFirma(f){return this.http.put(this.dataUrl+"firma",f)}eliminar(f){return this.http.delete(this.dataUrl+`${f}`)}consultarFirma(f){return this.http.get(this.dataUrl+`firma/${f}`)}static#e=this.\u0275fac=function(e){return new(e||n)(i.LFG(p.eN))};static#i=this.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}var M=o(2060),P=o(20388),T=o(24006),j=o(58390),r=o(37084);class E{constructor(f,e,m,c){this.corteEnergiaService=f,this.modalMensajeService=e,this.bsModalRef=m,this.modalService=c,this.corteList=[],this.corte=new _,this.corteFirma=new _,this.firmaButton={headerName:"",field:"",cellRenderer:"actionButton",minWidth:44,maxWidth:44,resizable:!0,sortable:!1,filter:!1,suppressMovable:!0,lockPosition:!0,action:h.g.GRID_ACCION_FIRMAR,pinned:"right"},this.verButton={headerName:"",fiel:"",cellRenderer:"actionButton",minWidth:44,maxWidth:44,resizable:!1,sortable:!1,filter:!1,suppressMovable:!1,lockPosition:!0,action:h.g.GRID_ACCION_VER_FIRMA,pinned:"right"},this.corteColumns=[{headerName:"\xc1rea Ejecutora",field:"areaEjecutora",minWidth:100},{headerName:"\xc1rea Afectada",field:"areaAfectada",minWidth:100},{headerName:"Gerente o Director del \xc1rea Ejecutora: Nombre",field:"gteDirAreaEjecutora",minWidth:100},this.firmaButton,this.verButton]}ngOnInit(){this.corte.idSolicitudPermiso=this.idSolicitudPermiso,this.consultarActividad()}consultarActividad(){this.corteEnergiaService.consultarGrid(this.idSolicitudPermiso).subscribe(f=>this.corteList=f)}onGridClick(f){f.accion===h.g.GRID_ACCION_EDITAR?this.corte=f.data:f.accion===h.g.GRID_ACCION_ELIMINAR?this.modalMensajeService.modalConfirmacion("\xbfDesea eliminar la selecci\xf3n?","Eliminar",h.g.ICONO_CRUZ).then(e=>{this.corteEnergiaService.eliminar(f.data.idAutCorteEnergiaFirma).subscribe(m=>{this.modalMensajeService.modalExito("Eliminado con Exito"),this.consultarActividad()})}):f.accion===h.g.GRID_ACCION_FIRMAR||f.accion===h.g.GRID_ACCION_FIRMAR_SECUNDARIO?(this.corteFirma=f.data,this.abrirFirma(f.accion)):f.accion===h.g.GRID_ACCION_VER_FIRMA&&this.corteEnergiaService.consultarFirma(f.data.idAutCorteEnergiaFirma).subscribe(e=>{this.verFirma(e.firma)})}agregarActividad(){this.corte.tipeMime="image/png",this.corte.idAutCorteEnergiaFirma?this.corteEnergiaService.editar(this.corte).subscribe(f=>{this.inicializar()}):this.corteEnergiaService.agregar(this.corte).subscribe(f=>{this.inicializar()})}inicializar(){this.corte=new _,this.corte.idSolicitudPermiso=this.idSolicitudPermiso,this.consultarActividad()}abrirFirma(f){this.bsModalRef=this.modalService.show(v.V,h.g.CONFIG_MODAL_DEFAULT),this.bsModalRef.content.esModal=!0,this.bsModalRef.content.onClose=e=>{const m=this.bsModalRef.content.firma;if(m.firma){let c=m.firma.split(",");f===h.g.GRID_ACCION_FIRMAR&&(this.corteFirma.firma=c[1]),this.corteFirma.tipeMime="image/png",this.corteFirma.latitud=m.latitud.toString(),this.corteFirma.longitud=m.longitud.toString(),this.corteEnergiaService.editarFirma(this.corteFirma).subscribe()}this.bsModalRef.hide()}}verFirma(f){let e={archivo:f,nombreImagen:"Firma",archivoTipoMime:"image/png",onCloseCallback:c=>{this.bsModalRef.hide()}};const m={...h.g.CONFIG_MODAL_DEFAULT,initialState:e};this.bsModalRef=this.modalService.show(g.U,m)}static#e=this.\u0275fac=function(e){return new(e||E)(i.Y36(n),i.Y36(M.V),i.Y36(P.UZ),i.Y36(P.tT))};static#i=this.\u0275cmp=i.Xpm({type:E,selectors:[["app-corte-energia"]],inputs:{idSolicitudPermiso:"idSolicitudPermiso",accion:"accion"},decls:54,vars:6,consts:[[1,"subseccion"],[1,"row"],[1,"col-md-8","justify",2,"width","100%","font-size","11px"],[1,"warning-wrapper","col-md-13",2,"width","86.7%"],[1,"warning-wrapper","col-md-2",2,"width","13.3%"],[1,"fa-solid","fa-circle-exclamation","warning-button",2,"color","#f0bc00"],[1,"info-panel"],["src","assets/img/info/valores-permisos.png"],["multi","true"],["expanded","true"],[1,"cuerpo-contenedor"],[1,"col-md-3"],[1,"form-group"],[1,"label-input","required-label"],["type","text",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-md-4"],[1,"col-md-2"],[1,"btn-imagen",3,"click"],["src","assets/img/svg/svg-ico-25x25-Boton-Circular-Naranja-Agregar.svg"],[1,"col-md-12"],[3,"headerName","data","children","event"],["gridPersonal",""],[1,"modal-footer"]],template:function(e,m){1&e&&(i.TgZ(0,"div",0),i._uU(1," Tabla de Datos\n"),i.qZA(),i.TgZ(2,"div",1)(3,"div",2)(4,"b"),i._uU(5,"Instrucciones:"),i.qZA(),i._uU(6," 1. Registrar previo al inicio de la actividad, los valores de los SIGNOS VITALES de los trabajadores que entrar\xe1n al espacio confinado, estar\xe1n en altura, soldador, intervenci\xf3n de equipo el\xe9ctrico u operador de equipo; 2. Registrar los valores de las CONDICIONES CLIM\xc1TICAS; 3. Registrar los valores de ATM\xd3SFERA INTERIOR del espacio confinado. Las tablas de datos tienen espacio para varias lecturas en el d\xeda, realizar la primera lectura al inicio de las actividades y las lecturas secundarias al reinicio de trabajos o para marcar alguna pausa por condiciones adversas. en caso de lecturas anormales, el detector active alarma o no se cuente con equipo necesario para las lecturas el trabajo no se puede realizar hasta resolver la situaci\xf3n. "),i.qZA()(),i.TgZ(7,"div",1),i._UZ(8,"div",3),i.TgZ(9,"div",4),i._UZ(10,"i",5),i.TgZ(11,"div",6),i._UZ(12,"img",7),i.qZA()()(),i.TgZ(13,"mat-accordion",8)(14,"mat-expansion-panel",9)(15,"mat-expansion-panel-header")(16,"mat-panel-title")(17,"div",0),i._uU(18," Autorizaci\xf3n de Corte de Energ\xeda "),i.qZA()()(),i.TgZ(19,"div",10)(20,"div",1)(21,"p")(22,"b"),i._uU(23,"Instrucciones:"),i.qZA(),i._uU(24," En caso de cortes de energ\xeda que afecten otros procesos, el cobro de peaje, la vialidad o dem\xe1s sistemas vitales de la empres se requieren autorizaciones de:"),i.qZA()(),i.TgZ(25,"div",1)(26,"div",11)(27,"div",12)(28,"label",13),i._uU(29,"\xc1rea Ejecutora"),i.qZA(),i.TgZ(30,"div")(31,"input",14),i.NdJ("ngModelChange",function(b){return m.corte.areaEjecutora=b}),i.qZA()()()(),i.TgZ(32,"div",11)(33,"div",12)(34,"label",13),i._uU(35,"\xc1rea Afectada"),i.qZA(),i.TgZ(36,"div")(37,"input",14),i.NdJ("ngModelChange",function(b){return m.corte.areaAfectada=b}),i.qZA()()()(),i.TgZ(38,"div",15)(39,"div",12)(40,"label",13),i._uU(41,"Gerente o Director de \xc1rea Ejecutora: Nombre"),i.qZA(),i.TgZ(42,"div")(43,"input",14),i.NdJ("ngModelChange",function(b){return m.corte.gteDirAreaEjecutora=b}),i.qZA()()()(),i.TgZ(44,"div",16)(45,"div",12)(46,"div")(47,"button",17),i.NdJ("click",function(){return m.agregarActividad()}),i._UZ(48,"img",18),i.qZA()()()()(),i.TgZ(49,"div",1)(50,"div",19)(51,"app-grid-general",20,21),i.NdJ("event",function(b){return m.onGridClick(b)}),i.qZA()()()()()(),i._UZ(53,"div",22)),2&e&&(i.xp6(31),i.Q6J("ngModel",m.corte.areaEjecutora),i.xp6(6),i.Q6J("ngModel",m.corte.areaAfectada),i.xp6(6),i.Q6J("ngModel",m.corte.gteDirAreaEjecutora),i.xp6(8),i.Q6J("headerName","Personal")("data",m.corteList)("children",m.corteColumns))},dependencies:[T.Fj,T.JJ,T.On,j.$,r.pp,r.ib,r.yz,r.yK],styles:[".btn-imagen[_ngcontent-%COMP%]{border-radius:100px;border:none;max-width:100%;max-height:100%;background-color:#fff}"]})}},27236:(H,N,o)=>{o.d(N,{r:()=>e});class v{constructor(){this.latitud="",this.longitud="",this.firma="",this.tipeMime=""}}var h=o(5596),_=o(50986),g=o(93416),i=o(94650),p=o(80529);class n{constructor(c){this.http=c,this.dataUrl="personalParticipante/"}consultarGrid(c){return this.http.get(this.dataUrl+`${c}`)}agregar(c){return this.http.post(this.dataUrl,c)}editar(c){return this.http.put(this.dataUrl,c)}editarFirma(c){return this.http.put(this.dataUrl+"firma",c)}eliminar(c){return this.http.delete(this.dataUrl+`${c}`)}consultarFirma(c){return this.http.get(this.dataUrl+`firma/${c}`)}static#e=this.\u0275fac=function(b){return new(b||n)(i.LFG(p.eN))};static#i=this.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}var M=o(74654),P=o(2060),T=o(20388),j=o(51763),r=o(24006),E=o(58390),C=o(88796),f=o(37084);class e{constructor(c,b,A,D,V,W){this.personalParticipanteService=c,this.departamentoService=b,this.modalMensajeService=A,this.bsModalRef=D,this.modalService=V,this.contratistaService=W,this.personalList=[],this.personal=new v,this.personalFirma=new v,this.contratistaList=[],this.departamentoList=[],this.placeHolderSelect=_.g.PLACEHOLDER_DROPDOWN,this.placeHolderNoOptions=_.g.PLACEHOLDER_DROPDOWN_NO_OPTIONS,this.firmaButton={headerName:"",field:"",cellRenderer:"actionButton",minWidth:44,maxWidth:44,resizable:!1,sortable:!1,filter:!1,suppressMovable:!0,lockPosition:!0,action:_.g.GRID_ACCION_FIRMAR,pinned:"right"},this.verButton={headerName:"",fiel:"",cellRenderer:"actionButton",minWidth:44,maxWidth:44,resizable:!1,sortable:!1,filter:!1,suppressMovable:!1,lockPosition:!0,action:_.g.GRID_ACCION_VER_FIRMA,pinned:"right"},this.personalColumns=[{headerName:"N\xfam",field:"numero",minWidth:100,hide:!0},{headerName:"Nombre",field:"nombre",minWidth:100},{headerName:"Contratista/Departamento",minWidth:100,valueGetter:z=>z.data.contratista+" / "+z.data.departamento},{headerName:"Firma",field:"firma",minWidth:100,hide:!0},{headerName:"",field:"idPersonalParticipanteFirma",minWidth:100,hide:!0},this.firmaButton,this.verButton]}ngOnInit(){this.personal.idSolicitudPermiso=this.idSolicitudPermiso,this.inicializarPersonal(this.personal),this.consultarPersonal(),this.llenarSelects()}llenarSelects(){this.departamentoService.consultarTodosParaSelector().subscribe(c=>{this.departamentoList=c}),this.contratistaService.consultarParaSelector().subscribe(c=>{this.contratistaList=c})}consultarPersonal(){this.personalParticipanteService.consultarGrid(this.idSolicitudPermiso).subscribe(c=>this.personalList=c)}inicializarPersonal(c){c.nombre="",c.contratista="",c.departamento="",c.idContratista=this.idContratista,c.idDepartamento=this.idDepartamento}onGridClick(c){c.accion===_.g.GRID_ACCION_EDITAR?this.personal=c.data:c.accion===_.g.GRID_ACCION_ELIMINAR?this.modalMensajeService.modalConfirmacion("\xbfDesea eliminar la selecci\xf3n?","Eliminar",_.g.ICONO_CRUZ).then(b=>{this.personalParticipanteService.eliminar(c.data.idPersonalParticipanteFirma).subscribe(A=>{this.modalMensajeService.modalExito("Eliminado con Exito"),this.consultarPersonal()})}):c.accion===_.g.GRID_ACCION_FIRMAR?(this.personalFirma=c.data,this.abrirFirma()):c.accion===_.g.GRID_ACCION_VER_FIRMA&&this.personalParticipanteService.consultarFirma(c.data.idPersonalParticipanteFirma).subscribe(b=>{this.verFirma(b.firma)})}agregarPersonal(){this.personal.tipeMime="image/png",this.personal.idPersonalParticipanteFirma?this.personalParticipanteService.editar(this.personal).subscribe(c=>{this.inicializarPersonal(this.personal),this.personal.idContratista=0,this.personal.idDepartamento=0,this.consultarPersonal()}):this.personalParticipanteService.agregar(this.personal).subscribe(c=>{this.inicializarPersonal(this.personal),this.personal.idContratista=0,this.personal.idDepartamento=0,this.consultarPersonal()})}abrirFirma(){this.bsModalRef=this.modalService.show(h.V,_.g.CONFIG_MODAL_DEFAULT),this.bsModalRef.content.esModal=!0,this.bsModalRef.content.onClose=c=>{const b=this.bsModalRef.content.firma;if(b.firma){let A=b.firma.split(",");this.personalFirma.firma=A[1],this.personalFirma.tipeMime="image/png",this.personalFirma.latitud=b.latitud.toString(),this.personalFirma.longitud=b.longitud.toString(),this.personalParticipanteService.editarFirma(this.personalFirma).subscribe()}this.bsModalRef.hide()}}verFirma(c){let b={archivo:c,nombreImagen:"Firma",archivoTipoMime:"image/png",onCloseCallback:D=>{this.bsModalRef.hide()}};const A={..._.g.CONFIG_MODAL_DEFAULT,initialState:b};this.bsModalRef=this.modalService.show(g.U,A)}static#e=this.\u0275fac=function(b){return new(b||e)(i.Y36(n),i.Y36(M._),i.Y36(P.V),i.Y36(T.UZ),i.Y36(T.tT),i.Y36(j.m))};static#i=this.\u0275cmp=i.Xpm({type:e,selectors:[["app-personal-participante"]],inputs:{idSolicitudPermiso:"idSolicitudPermiso",idContratista:"idContratista",idDepartamento:"idDepartamento"},decls:38,vars:12,consts:[["multi","true"],["expanded","true"],[1,"subseccion"],[1,"cuerpo-contenedor"],[1,"row"],[1,"col-md-3"],[1,"form-group"],[1,"label-input","required-label"],["type","text",1,"form-control",3,"ngModel","ngModelChange"],["name","contratistaName","bindLabel","nombreComercial","bindValue","idUsuario",3,"items","ngModel","placeholder","notFoundText","ngModelChange"],["contratistaLst","ngModel"],["name","departamentoName","bindLabel","nombre","bindValue","idDepartamento",3,"items","ngModel","placeholder","notFoundText","ngModelChange"],["departamentoLst","ngModel"],[1,"btn-imagen",3,"click"],["src","assets/img/svg/svg-ico-25x25-Boton-Circular-Naranja-Agregar.svg"],[1,"col-md-12"],[3,"headerName","data","children","event"],["gridPersonal",""],[1,"modal-footer"]],template:function(b,A){1&b&&(i.TgZ(0,"mat-accordion",0)(1,"mat-expansion-panel",1)(2,"mat-expansion-panel-header")(3,"mat-panel-title")(4,"div",2),i._uU(5," Lista de Personal Participante "),i.qZA()()(),i.TgZ(6,"div",3)(7,"div",4)(8,"div",5)(9,"div",6)(10,"label",7),i._uU(11,"Nombre"),i.qZA(),i.TgZ(12,"div")(13,"input",8),i.NdJ("ngModelChange",function(V){return A.personal.nombre=V}),i.qZA()()()(),i.TgZ(14,"div",5)(15,"div",6)(16,"label",7),i._uU(17,"Contratista"),i.qZA(),i.TgZ(18,"div")(19,"ng-select",9,10),i.NdJ("ngModelChange",function(V){return A.personal.idContratista=V}),i.qZA()()()(),i.TgZ(21,"div",5)(22,"div",6)(23,"label",7),i._uU(24,"Departamento"),i.qZA(),i.TgZ(25,"div")(26,"ng-select",11,12),i.NdJ("ngModelChange",function(V){return A.personal.idDepartamento=V}),i.qZA()()()(),i.TgZ(28,"div",5)(29,"div",6)(30,"div")(31,"button",13),i.NdJ("click",function(){return A.agregarPersonal()}),i._UZ(32,"img",14),i.qZA()()()()(),i.TgZ(33,"div",4)(34,"div",15)(35,"app-grid-general",16,17),i.NdJ("event",function(V){return A.onGridClick(V)}),i.qZA()()()()()(),i._UZ(37,"div",18)),2&b&&(i.xp6(13),i.Q6J("ngModel",A.personal.nombre),i.xp6(6),i.Q6J("items",A.contratistaList)("ngModel",A.personal.idContratista)("placeholder",A.placeHolderSelect)("notFoundText",A.placeHolderNoOptions),i.xp6(7),i.Q6J("items",A.departamentoList)("ngModel",A.personal.idDepartamento)("placeholder",A.placeHolderSelect)("notFoundText",A.placeHolderNoOptions),i.xp6(9),i.Q6J("headerName","Personal")("data",A.personalList)("children",A.personalColumns))},dependencies:[r.Fj,r.JJ,r.On,E.$,C.w9,f.pp,f.ib,f.yz,f.yK],styles:[".btn-imagen[_ngcontent-%COMP%]{border-radius:100px;border:none;max-width:100%;max-height:100%;background-color:#fff}"]})}},24057:(H,N,o)=>{o.d(N,{A:()=>T});var v=o(5596),h=o(50986);class _{constructor(){}}var g=o(93416),i=o(94650),p=o(9299),n=o(2060),M=o(20388),P=o(24006);class T{constructor(r,E,C,f){this.terminoTrabajoService=r,this.modalMensajeService=E,this.bsModalRef=C,this.modalService=f,this.trabajo=new _}ngOnInit(){this.consultarParaFormulario()}consultarParaFormulario(){this.terminoTrabajoService.consultarParaFormulario(this.idSolicitudPermiso).subscribe(r=>this.trabajo=r)}agregarFirma(r){"F001"===r?this.terminoTrabajoService.editarFirmaResponsable(this.trabajo).subscribe(E=>{}):"F002"===r?this.terminoTrabajoService.editarFirmaJefe(this.trabajo).subscribe(E=>{}):"F003"===r&&this.terminoTrabajoService.editarFirmaRepresentante(this.trabajo).subscribe(E=>{})}abrirFirma(r){this.bsModalRef=this.modalService.show(v.V,h.g.CONFIG_MODAL_DEFAULT),this.bsModalRef.content.esModal=!0,this.bsModalRef.content.onClose=E=>{const C=this.bsModalRef.content.firma;if(C.firma){let f=C.firma.split(",");this.trabajo.firma=f[1],this.trabajo.latitud=C.latitud.toString(),this.trabajo.longitud=C.longitud.toString(),this.agregarFirma(r)}this.bsModalRef.hide()}}cerrar(){this.onClose(!1)}buscarFirma(r){"F001"===r?this.terminoTrabajoService.consultarFirmaResponsable(this.trabajo.idSolicitudPermiso).subscribe(E=>{this.verFirma(E.firma)}):"F002"===r?this.terminoTrabajoService.consultarFirmaJefe(this.trabajo.idSolicitudPermiso).subscribe(E=>{this.verFirma(E.firma)}):"F003"===r&&this.terminoTrabajoService.consultarFirmaRepresentante(this.trabajo.idSolicitudPermiso).subscribe(E=>{this.verFirma(E.firma)})}verFirma(r){let E={archivo:r,nombreImagen:"Firma",archivoTipoMime:"image/png",onCloseCallback:f=>{this.bsModalRef.hide()}};const C={...h.g.CONFIG_MODAL_DEFAULT,initialState:E};this.bsModalRef=this.modalService.show(g.U,C)}static#e=this.\u0275fac=function(E){return new(E||T)(i.Y36(p.b),i.Y36(n.V),i.Y36(M.UZ),i.Y36(M.tT))};static#i=this.\u0275cmp=i.Xpm({type:T,selectors:[["app-termino-trabajo"]],inputs:{idSolicitudPermiso:"idSolicitudPermiso",accion:"accion"},decls:92,vars:7,consts:[[1,"cuerpo-contenedor"],[1,"row"],[1,"col-md-4"],[1,"form-group"],[1,"label-input"],["for","orden",1,"switch"],["name","ordenName","checked","checked","type","checkbox","id","orden",1,"accent",3,"ngModel","ngModelChange"],[1,"slider","round"],[1,"on"],[1,"off"],["for","responsable",1,"switch"],["name","responsableName","checked","checked","type","checkbox","id","responsable",1,"accent",3,"ngModel","ngModelChange"],["for","seguridad",1,"switch"],["name","seguridadName","checked","checked","type","checkbox","id","seguridad",1,"accent",3,"ngModel","ngModelChange"],[1,"subseccion"],[1,"col-md-6"],[1,"label-input","required-label"],["type","text",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-md-1"],[1,"btn-imagen",3,"click"],[1,"btn-ver",3,"click"],[1,"col-md-12"],["name","comentariosName","type","text","maxlength","800","autocomplete","off",1,"form-control-textarea",3,"ngModel","ngModelChange"],["comentarios","ngModel"]],template:function(E,C){1&E&&(i.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"label",4),i._uU(5,"Orden y Limpieza del \xe1rea de trabajo"),i.qZA(),i.TgZ(6,"label",5)(7,"input",6),i.NdJ("ngModelChange",function(e){return C.trabajo.orden=e}),i.qZA(),i.TgZ(8,"div",7)(9,"span",8),i._uU(10,"Si"),i.qZA(),i.TgZ(11,"span",9),i._uU(12,"No"),i.qZA()()()()(),i.TgZ(13,"div",2)(14,"div",3)(15,"label",4),i._uU(16,"Reportarse con responsable del \xe1rea"),i.qZA(),i.TgZ(17,"label",10)(18,"input",11),i.NdJ("ngModelChange",function(e){return C.trabajo.responsable=e}),i.qZA(),i.TgZ(19,"div",7)(20,"span",8),i._uU(21,"Si"),i.qZA(),i.TgZ(22,"span",9),i._uU(23,"No"),i.qZA()()()()(),i.TgZ(24,"div",2)(25,"div",3)(26,"label",4),i._uU(27,"Reportarse con Coordinador de Seguridad y Salud"),i.qZA(),i.TgZ(28,"label",12)(29,"input",13),i.NdJ("ngModelChange",function(e){return C.trabajo.coordinador=e}),i.qZA(),i.TgZ(30,"div",7)(31,"span",8),i._uU(32,"Si"),i.qZA(),i.TgZ(33,"span",9),i._uU(34,"No"),i.qZA()()()()()(),i.TgZ(35,"div",14),i._uU(36,"Firmas"),i.qZA(),i.TgZ(37,"div",1)(38,"div",15)(39,"div",3)(40,"label",16),i._uU(41,"Responsable Actividad. Solicitante del Permiso"),i.qZA(),i.TgZ(42,"div")(43,"input",17),i.NdJ("ngModelChange",function(e){return C.trabajo.responsableActividad=e}),i.qZA()()()(),i.TgZ(44,"div",18)(45,"div",3)(46,"div")(47,"button",19),i.NdJ("click",function(){return C.abrirFirma("F001")}),i.qZA()()()(),i.TgZ(48,"div",18)(49,"div",3)(50,"div")(51,"button",20),i.NdJ("click",function(){return C.buscarFirma("F001")}),i.qZA()()()()(),i.TgZ(52,"div",1)(53,"div",15)(54,"div",3)(55,"label",16),i._uU(56,"Jefe \xc1rea Organizaci\xf3n. Autorizaci\xf3n del trabajo"),i.qZA(),i.TgZ(57,"div")(58,"input",17),i.NdJ("ngModelChange",function(e){return C.trabajo.jefeArea=e}),i.qZA()()()(),i.TgZ(59,"div",18)(60,"div",3)(61,"div")(62,"button",19),i.NdJ("click",function(){return C.abrirFirma("F002")}),i.qZA()()()(),i.TgZ(63,"div",18)(64,"div",3)(65,"div")(66,"button",20),i.NdJ("click",function(){return C.buscarFirma("F002")}),i.qZA()()()()(),i.TgZ(67,"div",1)(68,"div",15)(69,"div",3)(70,"label",16),i._uU(71,"Representante SST Organizaci\xf3n. Verificaci\xf3n Controles"),i.qZA(),i.TgZ(72,"div")(73,"input",17),i.NdJ("ngModelChange",function(e){return C.trabajo.representanteSST=e}),i.qZA()()()(),i.TgZ(74,"div",18)(75,"div",3)(76,"div")(77,"button",19),i.NdJ("click",function(){return C.abrirFirma("F003")}),i.qZA()()()(),i.TgZ(78,"div",18)(79,"div",3)(80,"div")(81,"button",20),i.NdJ("click",function(){return C.buscarFirma("F003")}),i.qZA()()()()(),i.TgZ(82,"div",14),i._uU(83,"Comentarios"),i.qZA(),i.TgZ(84,"div",1)(85,"div",21)(86,"div",3)(87,"label",16),i._uU(88,"Comentarios"),i.qZA(),i.TgZ(89,"div")(90,"textarea",22,23),i.NdJ("ngModelChange",function(e){return C.trabajo.comentarios=e}),i.qZA()()()()()()),2&E&&(i.xp6(7),i.Q6J("ngModel",C.trabajo.orden),i.xp6(11),i.Q6J("ngModel",C.trabajo.responsable),i.xp6(11),i.Q6J("ngModel",C.trabajo.coordinador),i.xp6(14),i.Q6J("ngModel",C.trabajo.responsableActividad),i.xp6(15),i.Q6J("ngModel",C.trabajo.jefeArea),i.xp6(15),i.Q6J("ngModel",C.trabajo.representanteSST),i.xp6(17),i.Q6J("ngModel",C.trabajo.comentarios))},dependencies:[P.Fj,P.Wl,P.JJ,P.nD,P.On],styles:['@charset "UTF-8";.btn-imagen[_ngcontent-%COMP%]{border:none;width:20px;height:20px;background-image:url(svg-ico-15x15-Firmar.ca04ef8116d895ab.svg);background-size:100%;background-color:#fff}.btn-ver[_ngcontent-%COMP%]{border:none;width:20px;height:20px;background-image:url(ico-15x15-Boton-Circular-Naranja-Ver_Archivo.d412ffcf04694f4c.svg);background-size:100%;background-color:#fff}.iconos[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.switch[_ngcontent-%COMP%]   input.accent[_ngcontent-%COMP%]:checked + .slider.round[_ngcontent-%COMP%]{background-color:#ed7d31}.switch[_ngcontent-%COMP%]   input.accent[_ngcontent-%COMP%]:checked + .slider.round[_ngcontent-%COMP%]   .on[_ngcontent-%COMP%]{color:#fff}.form-control-textarea[_ngcontent-%COMP%]{border:1px #d9d9d9 solid;color:#000;width:100%;padding:10px;height:100px;transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out}']})}},8816:(H,N,o)=>{o.d(N,{Y:()=>p,f:()=>n});var v=o(37340),h=o(94650);const _="400ms cubic-bezier(0.4,0.0,0.2,1)",g=[(0,v.oB)({height:0,visibility:"hidden"}),(0,v.jt)(_,(0,v.oB)({height:"*",visibility:"visible"}))],i=[(0,v.oB)({height:"*",visibility:"visible"}),(0,v.jt)(_,(0,v.oB)({height:0,visibility:"hidden"}))];class p{constructor(P,T,j){this._el=P,this._renderer=T,this.collapsed=new h.vpe,this.collapses=new h.vpe,this.expanded=new h.vpe,this.expands=new h.vpe,this.isExpanded=!0,this.collapseNewValue=!0,this.isCollapsed=!1,this.isCollapse=!0,this.isCollapsing=!1,this.isAnimated=!1,this._display="block",this._stylesLoaded=!1,this._COLLAPSE_ACTION_NAME="collapse",this._EXPAND_ACTION_NAME="expand",this._factoryCollapseAnimation=j.build(i),this._factoryExpandAnimation=j.build(g)}set display(P){this._display=P,"none"!==P?this.isAnimated?this.toggle():this.show():this.hide()}set collapse(P){this.collapseNewValue=P,(!this._player||this._isAnimationDone)&&(this.isExpanded=P,this.toggle())}get collapse(){return this.isExpanded}ngAfterViewChecked(){this._stylesLoaded=!0,this._player&&this._isAnimationDone&&(this._player.reset(),this._renderer.setStyle(this._el.nativeElement,"height","*"))}toggle(){this.isExpanded?this.hide():this.show()}hide(){this.isCollapsing=!0,this.isExpanded=!1,this.isCollapsed=!0,this.isCollapsing=!1,this.collapses.emit(this),this._isAnimationDone=!1,this.animationRun(this.isAnimated,this._COLLAPSE_ACTION_NAME)(()=>{this._isAnimationDone=!0,this.collapseNewValue!==this.isCollapsed&&this.isAnimated?this.show():(this.collapsed.emit(this),this._renderer.setStyle(this._el.nativeElement,"display","none"))})}show(){this._renderer.setStyle(this._el.nativeElement,"display",this._display),this.isCollapsing=!0,this.isExpanded=!0,this.isCollapsed=!1,this.isCollapsing=!1,this.expands.emit(this),this._isAnimationDone=!1,this.animationRun(this.isAnimated,this._EXPAND_ACTION_NAME)(()=>{this._isAnimationDone=!0,this.collapseNewValue!==this.isCollapsed&&this.isAnimated?this.hide():(this.expanded.emit(this),this._renderer.removeStyle(this._el.nativeElement,"overflow"))})}animationRun(P,T){if(!P||!this._stylesLoaded)return r=>r();this._renderer.setStyle(this._el.nativeElement,"overflow","hidden"),this._renderer.addClass(this._el.nativeElement,"collapse");const j=T===this._EXPAND_ACTION_NAME?this._factoryExpandAnimation:this._factoryCollapseAnimation;return this._player&&this._player.reset(),this._player=j.create(this._el.nativeElement),this._player.play(),r=>this._player?.onDone(r)}}p.\u0275fac=function(P){return new(P||p)(h.Y36(h.SBq),h.Y36(h.Qsj),h.Y36(v._j))},p.\u0275dir=h.lG2({type:p,selectors:[["","collapse",""]],hostVars:9,hostBindings:function(P,T){2&P&&(h.uIk("aria-hidden",T.isCollapsed),h.ekj("collapse",T.isCollapse)("in",T.isExpanded)("show",T.isExpanded)("collapsing",T.isCollapsing))},inputs:{display:"display",isAnimated:"isAnimated",collapse:"collapse"},outputs:{collapsed:"collapsed",collapses:"collapses",expanded:"expanded",expands:"expands"},exportAs:["bs-collapse"]});class n{static forRoot(){return{ngModule:n,providers:[]}}}n.\u0275fac=function(P){return new(P||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({})}}]);