"use strict";(self.webpackChunkroadis_app=self.webpackChunkroadis_app||[]).push([[3078],{12846:(P,E,s)=>{s.d(E,{Y:()=>m});var g=s(50986),f=s(94650),T=s(2060);class m{constructor(t){this.modalMensajeService=t}validarCamposRequeridos(t){Object.keys(t.controls).forEach(n=>{const d=t.controls[n];d.markAsTouched({onlySelf:!0}),d.markAsDirty({onlySelf:!0})})}validarCamposRequeridosConMensaje(t){Object.keys(t.controls).forEach(n=>{const d=t.controls[n];d.markAsTouched({onlySelf:!0}),d.markAsDirty({onlySelf:!0})}),Object.keys(t.controls).some(n=>{const d=t.controls[n];return!!(d.errors&&d.errors.required&&d.invalid)&&(this.modalMensajeService.modalError(g.g.MENSAJE_REQUERIDOS),!0)})}markAsUntouched(t){Object.keys(t.controls).forEach(n=>{t.controls[n].markAsUntouched({onlySelf:!0})})}static#t=this.\u0275fac=function(n){return new(n||m)(f.LFG(T.V))};static#e=this.\u0275prov=f.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"})}},63078:(P,E,s)=>{s.r(E),s.d(E,{EstatusPedidoModule:()=>b});var g=s(20388),f=s(9116),T=s(13050);class m{constructor(){}}var r=s(50986),t=s(94650),n=s(2060),d=s(12846),I=s(80529);class h{constructor(e){this.http=e,this.dataUrl="estatusPedido/"}consultar(e){return this.http.get(this.dataUrl+`consultar/${e}`)}consultarTodosParaSelector(){return this.http.get(this.dataUrl+"consultarTodosParaSelector")}consultarTodosParaGrid(){return this.http.get(this.dataUrl+"consultarTodosParaGrid")}agregar(e){return this.http.post(this.dataUrl+"agregar",e)}editar(e){return this.http.put(this.dataUrl+"editar",e)}eliminar(e){return this.http.delete(this.dataUrl+`eliminar/${e}`)}static#t=this.\u0275fac=function(i){return new(i||h)(t.LFG(I.eN))};static#e=this.\u0275prov=t.Yz7({token:h,factory:h.\u0275fac})}var u=s(24006),M=s(36895);function O(p,e){1&p&&(t.TgZ(0,"div",22),t._uU(1," La clave es requerida "),t.qZA())}function S(p,e){1&p&&(t.TgZ(0,"div",22),t._uU(1," El nombre del estatus pedido es requerido "),t.qZA())}class v{constructor(e,i,o){this.mensajeService=e,this.formularioService=i,this.estatusPedidoService=o,this.mensajeAgregar="El estatus pedido ha sido agregado",this.mensajeEditar="El estatus pedido ha sido modificado",this.btnSubmit=!1,this.estatusPedido=new m,this.deshabilitarGuardarArchivo=!0}ngOnInit(){}enviarFormulario(e){if(this.btnSubmit=!0,!e.valid)return this.formularioService.validarCamposRequeridos(e),void(this.btnSubmit=!1);this.accion===r.g.MODAL_ACCION_AGREGAR?this.agregar():this.accion===r.g.MODAL_ACCION_EDITAR&&this.editar()}agregar(){this.estatusPedidoService.agregar(this.estatusPedido).subscribe(e=>{this.mensajeService.modalExito(this.mensajeAgregar),this.onClose(!0)},e=>{this.btnSubmit=!1})}editar(){this.estatusPedidoService.editar(this.estatusPedido).subscribe(e=>{this.mensajeService.modalExito(this.mensajeEditar),this.onClose(!0)},e=>{this.btnSubmit=!1})}cancelar(){this.onClose(!0)}static#t=this.\u0275fac=function(i){return new(i||v)(t.Y36(n.V),t.Y36(d.Y),t.Y36(h))};static#e=this.\u0275cmp=t.Xpm({type:v,selectors:[["app-moneda-formulario"]],decls:34,vars:7,consts:[[1,"d-flex"],[1,"barra-lateral-modal"],[1,"modal-content"],[1,"modal-header"],["type","button","aria-label","Close",1,"close","pull-right",3,"click"],[1,"far","fa-times-circle"],["novalidate","novalidate",3,"keydown.enter","ngSubmit"],["formulario","ngForm"],["id","modal",1,"cuerpo-contenedor"],[1,"row"],[1,"col-md-6"],[1,"form-group"],[1,"label-input","required-label"],["name","clave","type","text","maxlength","2","autocomplete","off","required","","autofocus","",1,"form-control",3,"ngModel","disabled","ngModelChange"],["clave","ngModel"],["class","error",4,"ngIf"],["name","nombre","type","text","maxlength","50","autocomplete","off","required","",1,"form-control",3,"ngModel","ngModelChange"],["nombre","ngModel"],[1,"modal-footer"],[1,"text-right"],["type","button",1,"btn-secundario","mr-3",3,"click"],["type","submit",1,"btn-primario","btn-margin-left",3,"disabled"],[1,"error"]],template:function(i,o){if(1&i){const c=t.EpF();t.TgZ(0,"div",0),t._UZ(1,"div",1),t.TgZ(2,"div",2)(3,"div",3)(4,"div"),t._uU(5),t.qZA(),t.TgZ(6,"button",4),t.NdJ("click",function(){return o.cancelar()}),t._UZ(7,"i",5),t.qZA()(),t.TgZ(8,"form",6,7),t.NdJ("keydown.enter",function(l){return l.preventDefault()})("ngSubmit",function(){t.CHM(c);const l=t.MAs(9);return t.KtG(o.enviarFormulario(l))}),t.TgZ(10,"div",8)(11,"div",9)(12,"div",10)(13,"div",11)(14,"label",12),t._uU(15,"Clave"),t.qZA(),t.TgZ(16,"div")(17,"input",13,14),t.NdJ("ngModelChange",function(l){return o.estatusPedido.clave=l}),t.qZA(),t.YNc(19,O,2,0,"div",15),t.qZA()()(),t.TgZ(20,"div",10)(21,"div",11)(22,"label",12),t._uU(23,"Nombre del Estatus Pedido"),t.qZA(),t.TgZ(24,"div")(25,"input",16,17),t.NdJ("ngModelChange",function(l){return o.estatusPedido.nombre=l}),t.qZA(),t.YNc(27,S,2,0,"div",15),t.qZA()()()()(),t.TgZ(28,"div",18)(29,"div",19)(30,"button",20),t.NdJ("click",function(){return o.cancelar()}),t._uU(31," Cancelar "),t.qZA(),t.TgZ(32,"button",21),t._uU(33," Guardar "),t.qZA()()()()()()}if(2&i){const c=t.MAs(18),a=t.MAs(26);t.xp6(5),t.hij("",o.accion," Estatus Pedido"),t.xp6(12),t.Q6J("ngModel",o.estatusPedido.clave)("disabled",o.estatusPedido.idEstatusPedido>0),t.xp6(2),t.Q6J("ngIf",(null==c.errors?null:c.errors.required)&&c.touched),t.xp6(6),t.Q6J("ngModel",o.estatusPedido.nombre),t.xp6(2),t.Q6J("ngIf",(null==a.errors?null:a.errors.required)&&a.touched),t.xp6(5),t.Q6J("disabled",o.btnSubmit)}},dependencies:[u._Y,u.Fj,u.JJ,u.JL,u.Q7,u.nD,u.On,u.F,M.O5],styles:[".subtitulo[_ngcontent-%COMP%]{color:#ff6c00;padding-top:10px;border-top:1px #ff6c00 solid;margin-top:40px;margin-bottom:20px;width:100%}.image-box[_ngcontent-%COMP%]{display:flex;margin-top:25px;padding-left:15px;justify-items:center;align-items:center}.custom-file-label[_ngcontent-%COMP%]:after{text-align:center}.pointer[_ngcontent-%COMP%]{cursor:pointer}"]})}var A=s(85087),R=s(62861),N=s(58390);function D(p,e){if(1&p){const i=t.EpF();t.TgZ(0,"div",7),t.NdJ("click",function(){t.CHM(i);const c=t.oxw();return t.KtG(c.agregar())}),t.TgZ(1,"button",8),t._uU(2,"Agregar"),t.qZA()()}}class _{constructor(e,i,o,c,a){this.mensajeService=e,this.estatusPedidoService=i,this.accesoService=o,this.modalService=c,this.bsModalRef=a,this.tieneAccesoAgregar=!1,this.accesoEditar=A.v.CONSULTAR_ESTATUS_PEDIDO,this.accesoEliminar=A.v.ELIMINAR_ESTATUS_PEDIDO,this.TITULO_MODAL_ELIMINAR="Eliminar Estatus Pedido",this.MENSAJE_EXITO_ELIMINAR="El Estatus Pedido ha sido eliminado",this.HEADER_GRID="Estatus Pedido",this.estatusPedidoList=[],this.columnaEditar=Object.assign({action:r.g.GRID_ACCION_EDITAR,title:"Editar",acceso:this.accesoEditar,cellRendererSelector:l=>({component:"actionButton",params:{disabled:!1}})},r.g.CONFIG_COLUMN_ACTION),this.columnaEliminar=Object.assign({action:r.g.GRID_ACCION_ELIMINAR,title:"Eliminar",acceso:this.accesoEliminar,cellRendererSelector:l=>({component:"actionButton",params:{disabled:!1}})},r.g.CONFIG_COLUMN_ACTION),this.columns=[{headerName:"Clave",field:"clave",minWidth:150},{headerName:"Nombre",field:"nombre",minWidth:150},this.columnaEditar,this.columnaEliminar]}ngOnInit(){this.consultarAccesoAgregar(),this.consultarGrid()}consultarAccesoAgregar(){this.accesoService.tieneAcceso(A.v.AGREGAR_ESTATUS_PEDIDO).subscribe(e=>{this.tieneAccesoAgregar=e},e=>{})}consultarGrid(){this.estatusPedidoService.consultarTodosParaGrid().subscribe(e=>{this.estatusPedidoList=e})}onGridClick(e){e.accion!==r.g.GRID_ACCION_EDITAR?e.accion!==r.g.GRID_ACCION_ELIMINAR||this.eliminar(e.data):this.editar(e.data.idEstatusPedido)}agregar(){this.bsModalRef=this.modalService.show(v,r.g.CONFIG_MODAL_DEFAULT),this.bsModalRef.content.accion=r.g.MODAL_ACCION_AGREGAR,this.bsModalRef.content.onClose=e=>{e&&this.consultarGrid(),this.bsModalRef.hide()}}editar(e){this.estatusPedidoService.consultar(e).subscribe(i=>{this.bsModalRef=this.modalService.show(v,r.g.CONFIG_MODAL_DEFAULT),this.bsModalRef.content.estatusPedido=i,this.bsModalRef.content.accion=r.g.MODAL_ACCION_EDITAR,this.bsModalRef.content.idEstatusPedido=e,this.bsModalRef.content.onClose=o=>{o&&this.consultarGrid(),this.bsModalRef.hide()}})}eliminar(e){this.mensajeService.modalConfirmacion("\xbfDesea eliminar el estatus de pedido <strong>"+e.nombre+"</strong>?",this.TITULO_MODAL_ELIMINAR).then(i=>{this.estatusPedidoService.eliminar(e.idEstatusPedido).subscribe(o=>{this.mensajeService.modalExito(this.MENSAJE_EXITO_ELIMINAR),this.consultarGrid()})})}static#t=this.\u0275fac=function(i){return new(i||_)(t.Y36(n.V),t.Y36(h),t.Y36(R.Q),t.Y36(g.tT),t.Y36(g.UZ))};static#e=this.\u0275cmp=t.Xpm({type:_,selectors:[["ng-component"]],decls:8,vars:6,consts:[[1,"contenedor"],[1,"titulo-contenedor"],[1,"cuerpo-contenedor"],[1,"row"],[1,"col-md-12"],["class","contenedor-agregar",3,"click",4,"ngIf"],[3,"headerName","data","children","accesoEditar","accesoEliminar","event"],[1,"contenedor-agregar",3,"click"],[1,"btn-agregar"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0)(1,"div",1),t._uU(2,"Estatus Pedido"),t.qZA(),t.TgZ(3,"div",2)(4,"div",3)(5,"div",4),t.YNc(6,D,3,0,"div",5),t.TgZ(7,"app-grid-general",6),t.NdJ("event",function(a){return o.onGridClick(a)}),t.qZA()()()()()),2&i&&(t.xp6(6),t.Q6J("ngIf",o.tieneAccesoAgregar),t.xp6(1),t.Q6J("headerName",o.HEADER_GRID)("data",o.estatusPedidoList)("children",o.columns)("accesoEditar",o.accesoEditar)("accesoEliminar",o.accesoEliminar))},dependencies:[M.O5,N.$],encapsulation:2})}const U=[{path:"",component:_,canActivate:[T.m],data:{title:"Consulta",acceso:A.v.CONSULTAR_ESTATUS_PEDIDO}}];class C{static#t=this.\u0275fac=function(i){return new(i||C)};static#e=this.\u0275mod=t.oAB({type:C});static#o=this.\u0275inj=t.cJS({imports:[f.Bz.forChild(U),f.Bz]})}var Z=s(63405),y=s(41283);class b{static#t=this.\u0275fac=function(i){return new(i||b)};static#e=this.\u0275mod=t.oAB({type:b});static#o=this.\u0275inj=t.cJS({providers:[h,g.UZ],imports:[C,Z.m,y.Z,g.zk.forChild()]})}}}]);